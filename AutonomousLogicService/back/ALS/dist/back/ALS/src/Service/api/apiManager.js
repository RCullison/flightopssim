'use strict';const a21_0x933121=a21_0x193b;function a21_0x5eea(){const _0x2af4ec=['getgetCurrentTask','toISOString','setMaxExternalInputArrLength','../../logger/Logger','uploadAndStartTask','139711NiLeoj','uploadTask','routers','testLog','360WUftGq','-\x20response4Action\x20-','error','1574410hEeekE','ALS_API','ApiManager','198ToHcqe','uploadTaskAndStart','startTask','-\x20ApiManager\x20-\x20','pauseTask','catch','info','289032NAenBq','InputExternalManager','-\x20then\x20-','log','getExternalInputArr','1611316YuWNXx','-\x20externalInput\x20-\x20REST\x20-\x20','../algorithmStatus/algorithmStatusManager','stopTask','-\x20externalInput\x20-','listen','then','resumeTask','../../../../../classes/typings/all.typings','instance','stringify','getMaxExternalInputArrLength','-\x20pauseTask\x20-','-\x20stopTask\x20-','approvalAction','AlgorithmManager','-\x20response4Action\x20-\x20REST\x20-\x20','data','getCurrentTask','566193JOntUO','body','getAlgorithmData','__esModule','getAlgorithmStatus','hasOwnProperty','442358XbtxRZ','LEVEL','response4Action','============================================================================','defineProperty','../../../../../classes/dataClasses/api/api_enums','start\x20listen\x20ApiManager','externalInput','6opafAE','../inputExternal/inputExternalManager','Logger','use','-\x20uploadTask\x20-','12CUMCwJ','send','-\x20resumeTask\x20-','241704EBIENY'];a21_0x5eea=function(){return _0x2af4ec;};return a21_0x5eea();}(function(_0x20e202,_0x1d4faa){const _0x10a7d3=a21_0x193b,_0x481415=_0x20e202();while(!![]){try{const _0x5533ce=-parseInt(_0x10a7d3(0x1a2))/0x1+parseInt(_0x10a7d3(0x1c9))/0x2+-parseInt(_0x10a7d3(0x19c))/0x3*(parseInt(_0x10a7d3(0x1af))/0x4)+-parseInt(_0x10a7d3(0x1bf))/0x5*(-parseInt(_0x10a7d3(0x1aa))/0x6)+-parseInt(_0x10a7d3(0x1ce))/0x7+parseInt(_0x10a7d3(0x1b2))/0x8*(parseInt(_0x10a7d3(0x1c2))/0x9)+parseInt(_0x10a7d3(0x1bc))/0xa*(parseInt(_0x10a7d3(0x1b8))/0xb);if(_0x5533ce===_0x1d4faa)break;else _0x481415['push'](_0x481415['shift']());}catch(_0x222a79){_0x481415['push'](_0x481415['shift']());}}}(a21_0x5eea,0x53a35));Object[a21_0x933121(0x1a6)](exports,a21_0x933121(0x19f),{'value':!![]}),exports[a21_0x933121(0x1c1)]=void 0x0;const _=require('lodash'),all_typings_1=require(a21_0x933121(0x191)),api_enums_1=require(a21_0x933121(0x1a7)),Logger_1=require(a21_0x933121(0x1b6)),algorithmManager_1=require('../algorithmManager/algorithmManager'),algorithmStatusManager_1=require(a21_0x933121(0x1d0)),inputExternalManager_1=require(a21_0x933121(0x1ab));function a21_0x193b(_0x4aad22,_0x4c1367){const _0x5eea78=a21_0x5eea();return a21_0x193b=function(_0x193b4f,_0x3d78e4){_0x193b4f=_0x193b4f-0x191;let _0x404d24=_0x5eea78[_0x193b4f];return _0x404d24;},a21_0x193b(_0x4aad22,_0x4c1367);}class ApiManager{constructor(){const _0x2922cd=a21_0x933121;this[_0x2922cd(0x1d3)]=_0x559082=>{const _0x487e33=_0x2922cd;console[_0x487e33(0x1cc)](Date['now'](),_0x487e33(0x1a8));for(const _0x2b74cc in this[_0x487e33(0x1ba)]){this['routers'][_0x487e33(0x1a1)](_0x2b74cc)&&_0x559082[_0x487e33(0x1ad)](_0x2b74cc,this[_0x487e33(0x1ba)][_0x2b74cc]);}},this[_0x2922cd(0x1b9)]=(_0x1ff985,_0x19500c)=>{const _0x347e52=_0x2922cd;let _0x57e09e={'success':![]};const _0x558354=_0x1ff985[_0x347e52(0x19d)],_0x2ad115=_0x347e52(0x1ae);this[_0x347e52(0x1cc)](_0x2ad115,{'requestBody':_0x558354}),algorithmManager_1[_0x347e52(0x198)]['uploadTask'](_0x558354)[_0x347e52(0x1d4)](_0x3341ea=>{const _0x471c88=_0x347e52;this['log'](_0x2ad115,[_0x471c88(0x1cb),_0x3341ea,{'requestBody':_0x558354}]),_0x19500c[_0x471c88(0x1b0)](_0x3341ea);})[_0x347e52(0x1c7)](_0x5e6969=>{const _0x1b1c40=_0x347e52;this[_0x1b1c40(0x1cc)](_0x2ad115,['-\x20catch\x20-',_0x5e6969,{'requestBody':_0x558354}]),_0x19500c[_0x1b1c40(0x1b0)](_0x5e6969);});},this[_0x2922cd(0x1b7)]=(_0x16d1c8,_0x559250)=>{const _0x2b6b85=_0x2922cd;let _0x4efdb6={'success':![]};const _0xc3562=_0x16d1c8['body'],_0x530d31='-\x20uploadAndStartTask\x20-';this[_0x2b6b85(0x1cc)](_0x530d31,{'requestBody':_0xc3562}),algorithmManager_1[_0x2b6b85(0x198)][_0x2b6b85(0x1c3)](_0xc3562)['then'](_0x37746c=>{this['log'](_0x530d31,['-\x20then\x20-',_0x37746c,{'requestBody':_0xc3562}]),_0x559250['send'](_0x37746c);})[_0x2b6b85(0x1c7)](_0x5f4f83=>{const _0xf3ea37=_0x2b6b85;this[_0xf3ea37(0x1cc)](_0x530d31,['-\x20catch\x20-',_0x5f4f83,{'requestBody':_0xc3562}]),_0x559250[_0xf3ea37(0x1b0)](_0x5f4f83);});},this[_0x2922cd(0x1c4)]=(_0x1373e6,_0x85b94a)=>{const _0xcd4dd9=_0x2922cd,_0x5241cf=_0x1373e6['body'],_0x5baad9=algorithmManager_1['AlgorithmManager'][_0xcd4dd9(0x1c4)](_0x5241cf);this[_0xcd4dd9(0x1cc)]('-\x20startTask\x20-',{'requestBody':_0x5241cf,'res':_0x5baad9}),_0x85b94a[_0xcd4dd9(0x1b0)](_0x5baad9);},this[_0x2922cd(0x1c6)]=(_0x42203f,_0x1d2ff3)=>{const _0x3bbdbd=_0x2922cd,_0x13db74=_0x42203f['body'],_0x190bfc=algorithmManager_1[_0x3bbdbd(0x198)][_0x3bbdbd(0x1c6)]();this['log'](_0x3bbdbd(0x195),{'requestBody':_0x13db74,'res':_0x190bfc}),_0x1d2ff3[_0x3bbdbd(0x1b0)](_0x190bfc);},this[_0x2922cd(0x1d5)]=(_0x2719e2,_0x11eb78)=>{const _0x5d688b=_0x2922cd,_0x15de99=_0x2719e2[_0x5d688b(0x19d)],_0x176acc=algorithmManager_1[_0x5d688b(0x198)][_0x5d688b(0x1d5)]();this[_0x5d688b(0x1cc)](_0x5d688b(0x1b1),{'requestBody':_0x15de99,'res':_0x176acc}),_0x11eb78[_0x5d688b(0x1b0)](_0x176acc);},this['stopTask']=(_0x4b2a07,_0x337708)=>{const _0x12d4c7=_0x2922cd,_0xf6b5b={'success':![]},_0x3a3f2a=_0x12d4c7(0x196),_0x402d65=_0x4b2a07[_0x12d4c7(0x19d)];this[_0x12d4c7(0x1cc)](_0x12d4c7(0x196),{'requestBody':_0x402d65}),algorithmManager_1[_0x12d4c7(0x198)][_0x12d4c7(0x1d1)](_0x402d65)[_0x12d4c7(0x1d4)](_0x446739=>{const _0x2b3966=_0x12d4c7;this['log'](_0x3a3f2a,[_0x2b3966(0x1cb),_0x446739,{'requestBody':_0x402d65}]),_0x337708[_0x2b3966(0x1b0)](_0x446739);})['catch'](_0x468273=>{const _0x31307d=_0x12d4c7;this[_0x31307d(0x1cc)](_0x3a3f2a,['-\x20catch\x20-',_0x468273,{'requestBody':_0x402d65}]),_0x337708['send'](_0x468273);});},this['externalInput']=(_0x294266,_0x40123b)=>{const _0x1c3b17=_0x2922cd,_0x17e8ee=_0x294266[_0x1c3b17(0x19d)];console[_0x1c3b17(0x1be)](_0x1c3b17(0x1a5)),console[_0x1c3b17(0x1cc)](new Date()[_0x1c3b17(0x1b4)](),_0x1c3b17(0x1cf)+JSON[_0x1c3b17(0x193)](_0x17e8ee));const _0x57d128=inputExternalManager_1[_0x1c3b17(0x1ca)][_0x1c3b17(0x1a9)](_0x17e8ee);this[_0x1c3b17(0x1cc)](_0x1c3b17(0x1d2),{'requestBody':_0x17e8ee,'res':_0x57d128}),_0x40123b[_0x1c3b17(0x1b0)](_0x57d128);},this[_0x2922cd(0x197)]=(_0xe9cfd9,_0x194ec1)=>{const _0x39b4d5=_0x2922cd,_0x3f921d=_0xe9cfd9[_0x39b4d5(0x19d)],_0x489714=inputExternalManager_1[_0x39b4d5(0x1ca)][_0x39b4d5(0x197)](_0x3f921d);this[_0x39b4d5(0x1cc)]('-\x20approvalAction\x20-',{'requestBody':_0x3f921d,'res':_0x489714}),_0x194ec1[_0x39b4d5(0x1b0)](_0x489714);},this[_0x2922cd(0x1a4)]=(_0x2a2878,_0x3a1377)=>{const _0x42c388=_0x2922cd,_0x2cc674=_0x2a2878[_0x42c388(0x19d)];console[_0x42c388(0x1cc)](new Date()[_0x42c388(0x1b4)](),_0x42c388(0x199)+JSON[_0x42c388(0x193)](_0x2cc674));const _0x135582=inputExternalManager_1[_0x42c388(0x1ca)]['installActionResult'](_0x2cc674);this[_0x42c388(0x1cc)](_0x42c388(0x1bd),{'requestBody':_0x2cc674,'res':_0x135582}),_0x3a1377[_0x42c388(0x1b0)](_0x135582);},this[_0x2922cd(0x1cd)]=(_0x2c7afb,_0x3a0c1c)=>{const _0x3f9f10=_0x2922cd,_0x1e4e57=inputExternalManager_1[_0x3f9f10(0x1ca)][_0x3f9f10(0x1cd)]();_0x3a0c1c[_0x3f9f10(0x1b0)](_0x1e4e57);},this['getMaxExternalInputArrLength']=(_0x372d26,_0x5aff4f)=>{const _0x13d091=_0x2922cd,_0x19b775=inputExternalManager_1['InputExternalManager'][_0x13d091(0x194)]();_0x5aff4f['send'](_0x19b775);},this[_0x2922cd(0x1b5)]=(_0x833bf3,_0x566351)=>{const _0x6fae4b=_0x2922cd,_0x101e5a=_0x833bf3[_0x6fae4b(0x19d)],_0x14203b=inputExternalManager_1[_0x6fae4b(0x1ca)][_0x6fae4b(0x1b5)](_0x101e5a);_0x566351[_0x6fae4b(0x1b0)](_0x14203b);},this[_0x2922cd(0x1a0)]=(_0x4fd635,_0x1c54ea)=>{const _0x204f54=_0x2922cd,_0x472940=_0x4fd635['body'],_0x2d6421={'success':!![]};_0x2d6421['data']=algorithmStatusManager_1['AlgorithmStatusManager'][_0x204f54(0x1a0)](),_0x1c54ea[_0x204f54(0x1b0)](_0x2d6421);},this[_0x2922cd(0x19e)]=(_0x5ecb21,_0x40169d)=>{const _0x42aa11=_0x2922cd,_0x4f8c60=_0x5ecb21[_0x42aa11(0x19d)],_0x2e1e17={'success':!![]};_0x2e1e17[_0x42aa11(0x19a)]=algorithmManager_1['AlgorithmManager'][_0x42aa11(0x19e)](),_0x40169d[_0x42aa11(0x1b0)](_0x2e1e17);},this['getgetCurrentTask']=(_0x48763d,_0x3d278f)=>{const _0x567405=_0x2922cd,_0x156db1={'success':!![]};_0x156db1['data']=algorithmManager_1[_0x567405(0x198)][_0x567405(0x19b)](),_0x3d278f['send'](_0x156db1);},this[_0x2922cd(0x1bb)]=(_0x5a89f1,_0x5d966d)=>{const _0x39b9fe=_0x2922cd,_0x1f8471=_0x5a89f1[_0x39b9fe(0x19d)],_0x41ec27={'success':!![]};_0x41ec27[_0x39b9fe(0x19a)]=Logger_1['Logger'][_0x39b9fe(0x1cc)](_0x1f8471),_0x5d966d[_0x39b9fe(0x1b0)](_0x41ec27);},this[_0x2922cd(0x1cc)]=(_0x3bd5ff,_0x42654a,_0x1c8189=all_typings_1[_0x2922cd(0x1a3)][_0x2922cd(0x1c8)])=>{const _0x4cb6bf=_0x2922cd;Logger_1[_0x4cb6bf(0x1ac)][_0x4cb6bf(0x1cc)]({'type':_0x1c8189,'prefix':_0x4cb6bf(0x1c5)+_0x3bd5ff,'message':_0x42654a});},this['routers']={[api_enums_1['ALS_API'][_0x2922cd(0x1b7)]]:this[_0x2922cd(0x1b7)],[api_enums_1[_0x2922cd(0x1c0)][_0x2922cd(0x1b9)]]:this[_0x2922cd(0x1b9)],[api_enums_1[_0x2922cd(0x1c0)]['startTask']]:this['startTask'],[api_enums_1['ALS_API'][_0x2922cd(0x1c6)]]:this['pauseTask'],[api_enums_1['ALS_API'][_0x2922cd(0x1d5)]]:this[_0x2922cd(0x1d5)],[api_enums_1[_0x2922cd(0x1c0)][_0x2922cd(0x1d1)]]:this['stopTask'],[api_enums_1[_0x2922cd(0x1c0)][_0x2922cd(0x1a9)]]:this['externalInput'],[api_enums_1[_0x2922cd(0x1c0)][_0x2922cd(0x1a4)]]:this[_0x2922cd(0x1a4)],[api_enums_1['ALS_API']['getAlgorithmStatus']]:this[_0x2922cd(0x1a0)],[api_enums_1[_0x2922cd(0x1c0)][_0x2922cd(0x197)]]:this['approvalAction'],[api_enums_1[_0x2922cd(0x1c0)]['getAlgorithmData']]:this['getAlgorithmData'],[api_enums_1[_0x2922cd(0x1c0)]['getgetCurrentTask']]:this[_0x2922cd(0x1b3)]};}}exports['ApiManager']=ApiManager,ApiManager['instance']=new ApiManager(),ApiManager[a21_0x933121(0x1d3)]=ApiManager[a21_0x933121(0x192)][a21_0x933121(0x1d3)];