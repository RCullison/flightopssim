'use strict';const a6_0x1caf7d=a6_0x2118;function a6_0x2118(_0x5ca1ff,_0x128246){const _0x351498=a6_0x3514();return a6_0x2118=function(_0x2118b0,_0x3f98b7){_0x2118b0=_0x2118b0-0xc2;let _0x5976db=_0x351498[_0x2118b0];return _0x5976db;},a6_0x2118(_0x5ca1ff,_0x128246);}(function(_0x4028c9,_0x21cf87){const _0x3cd78a=a6_0x2118,_0x4abdd6=_0x4028c9();while(!![]){try{const _0x45c457=-parseInt(_0x3cd78a(0xf1))/0x1+-parseInt(_0x3cd78a(0x116))/0x2*(parseInt(_0x3cd78a(0xe1))/0x3)+-parseInt(_0x3cd78a(0xf8))/0x4+-parseInt(_0x3cd78a(0x104))/0x5*(parseInt(_0x3cd78a(0xd9))/0x6)+parseInt(_0x3cd78a(0xc2))/0x7+-parseInt(_0x3cd78a(0x100))/0x8*(parseInt(_0x3cd78a(0xcc))/0x9)+-parseInt(_0x3cd78a(0xd5))/0xa*(-parseInt(_0x3cd78a(0xd2))/0xb);if(_0x45c457===_0x21cf87)break;else _0x4abdd6['push'](_0x4abdd6['shift']());}catch(_0x3dc12a){_0x4abdd6['push'](_0x4abdd6['shift']());}}}(a6_0x3514,0x19879));Object['defineProperty'](exports,a6_0x1caf7d(0x105),{'value':!![]}),exports[a6_0x1caf7d(0xe3)]=void 0x0;const _=require(a6_0x1caf7d(0xe8)),api_enums_1=require('../../../../../classes/dataClasses/api/api_enums'),AirVehicle_1=require(a6_0x1caf7d(0x103)),ob_node_types_1=require(a6_0x1caf7d(0xf4)),requestManager_1=require(a6_0x1caf7d(0xcf)),serverUDP_1=require(a6_0x1caf7d(0xe5)),dgiFillLogic_1=require('./fillLogics/dgiFillLogic');class AirVehicleManager{constructor(){const _0x4b6353=a6_0x1caf7d;this['airVehicle']=new AirVehicle_1[(_0x4b6353(0xf9))]({}),this[_0x4b6353(0xca)]=![],this[_0x4b6353(0xee)]=()=>{const _0x27e84d=_0x4b6353;serverUDP_1[_0x27e84d(0xc4)]['addToSortConfig'](_0x27e84d(0xe3),{'telemetry':this[_0x27e84d(0x102)]});},this[_0x4b6353(0x102)]=_0x6ee005=>{const _0x43b503=_0x4b6353;this[_0x43b503(0xe6)](_0x6ee005),this[_0x43b503(0xdb)]=_0x6ee005;},this[_0x4b6353(0x10d)]={'dji':new dgiFillLogic_1['DgiFillLogic'](),'default':new dgiFillLogic_1[(_0x4b6353(0xdd))]()},this[_0x4b6353(0x115)]=_0x2eec44=>{const _0x67cf3b=_0x4b6353;let _0x42527b={'success':![],'drone':undefined};const _0x58f143=this[_0x67cf3b(0xc7)]||new AirVehicle_1[(_0x67cf3b(0xf9))](_0x2eec44);return _0x58f143[_0x67cf3b(0xd7)](_0x2eec44),this[_0x67cf3b(0xc7)]=_0x58f143,_0x42527b={'success':!![],'drone':_0x58f143},_0x42527b;},this[_0x4b6353(0xe6)]=_0x521400=>{const _0x15a742=_0x4b6353;if(this[_0x15a742(0xc7)]){const _0xbb8623=_[_0x15a742(0xd0)](this['fillLogics'],[this[_0x15a742(0xc7)][_0x15a742(0xd6)]],this[_0x15a742(0x10d)][_0x15a742(0xda)]);if(_0xbb8623[_0x15a742(0xc5)]){let _0x11130d=_0xbb8623[_0x15a742(0xc5)](_0x521400);this[_0x15a742(0xca)]&&(_0x11130d[_0x15a742(0x101)]=this['airVehicle']['location'],_0x11130d[_0x15a742(0xeb)]=this[_0x15a742(0xc7)]['heading'],_0x11130d[_0x15a742(0xe7)]=this[_0x15a742(0xc7)][_0x15a742(0xe7)],_0x11130d[_0x15a742(0xf3)]=this['airVehicle'][_0x15a742(0xf3)],_0x11130d[_0x15a742(0xfe)]=this[_0x15a742(0xc7)]['height'],_0x11130d[_0x15a742(0xed)]=this[_0x15a742(0xc7)][_0x15a742(0xed)]),this['updateDrone'](_0x11130d);}}},this[_0x4b6353(0x112)]=()=>{const _0x5be867=_0x4b6353;return this[_0x5be867(0xc7)];},this[_0x4b6353(0xdc)]=()=>{const _0x50fe29=_0x4b6353,_0x1f8ded={'status':ob_node_types_1['ACTION_TYPE']['undefined']};return this[_0x50fe29(0xdb)]&&this[_0x50fe29(0xdb)][_0x50fe29(0x108)]&&(_0x1f8ded[_0x50fe29(0xf5)]=this[_0x50fe29(0xdb)][_0x50fe29(0x108)]['status']),_0x1f8ded;},this[_0x4b6353(0xfa)]=()=>{const _0x35d776=_0x4b6353;return this[_0x35d776(0xc7)];},this[_0x4b6353(0xc3)]=()=>{const _0x2dfa07=_0x4b6353;return this[_0x2dfa07(0xdb)][_0x2dfa07(0xe0)];},this[_0x4b6353(0xcb)]=()=>{const _0x4d0e91=_0x4b6353,_0x21f129=this[_0x4d0e91(0xdb)][_0x4d0e91(0xf3)];return Math['sqrt'](Math[_0x4d0e91(0xe4)](_0x21f129['x'],0x2)+Math[_0x4d0e91(0xe4)](_0x21f129['y'],0x2)+Math[_0x4d0e91(0xe4)](_0x21f129['z'],0x2));},this[_0x4b6353(0xf7)]=()=>{const _0x2d11b0=_0x4b6353,_0x507b1f=this[_0x2d11b0(0xdb)][_0x2d11b0(0xd8)]['homeLocation'][_0x2d11b0(0xdf)]-this[_0x2d11b0(0xdb)][_0x2d11b0(0xd8)]['homeLocation'][_0x2d11b0(0xec)]||0x0;return this['telemetryAdaptedToFCS']['height_above_takeoff']+_0x507b1f;},this[_0x4b6353(0xcd)]=_0x3a3acd=>{return new Promise((_0x276cda,_0x4673a4)=>{const _0x5b9e3e=a6_0x2118;requestManager_1[_0x5b9e3e(0xc9)][_0x5b9e3e(0x10e)](api_enums_1[_0x5b9e3e(0x111)][_0x5b9e3e(0xcd)],{})[_0x5b9e3e(0x113)](_0x595c52=>{const _0x5a09f1=_0x5b9e3e;console['log'](new Date()[_0x5a09f1(0xce)](),_0x5a09f1(0x109),JSON['stringify'](_0x595c52)),_0x276cda(_0x595c52);})[_0x5b9e3e(0xd4)](_0xba9358=>{const _0x52fd45=_0x5b9e3e;console[_0x52fd45(0xea)](new Date()[_0x52fd45(0xce)](),_0x52fd45(0x107),JSON[_0x52fd45(0xef)](_0xba9358)),_0x4673a4(_0xba9358);});});},this['resume2Controller']=_0x31fcec=>{return new Promise((_0x226207,_0x2e0602)=>{const _0x307da6=a6_0x2118;requestManager_1['RequestManager']['requestToOnBoard'](api_enums_1[_0x307da6(0x111)][_0x307da6(0xc8)],{})[_0x307da6(0x113)](_0x3b039e=>{const _0x32927a=_0x307da6;console[_0x32927a(0xea)](new Date()['toISOString'](),_0x32927a(0x10b),JSON[_0x32927a(0xef)](_0x3b039e)),_0x226207(_0x3b039e);})[_0x307da6(0xd4)](_0x5f4b68=>{const _0x3aa99f=_0x307da6;console[_0x3aa99f(0xea)](new Date()[_0x3aa99f(0xce)](),_0x3aa99f(0x10f),JSON[_0x3aa99f(0xef)](_0x5f4b68)),_0x2e0602(_0x5f4b68);});});},this['stop2Controller']=_0x3812b2=>{return new Promise((_0x4ba815,_0x45b115)=>{const _0x3221ef=a6_0x2118;requestManager_1[_0x3221ef(0xc9)]['requestToOnBoard'](api_enums_1['OB_API'][_0x3221ef(0xd3)],{})[_0x3221ef(0x113)](_0x4912c7=>{const _0x245dd6=_0x3221ef;console[_0x245dd6(0xea)](new Date()[_0x245dd6(0xce)](),_0x245dd6(0x10a),JSON[_0x245dd6(0xef)](_0x4912c7)),_0x4ba815(_0x4912c7);})['catch'](_0x107fe8=>{const _0x4d42ff=_0x3221ef;console[_0x4d42ff(0xea)](new Date()[_0x4d42ff(0xce)](),_0x4d42ff(0xd1),JSON[_0x4d42ff(0xef)](_0x107fe8)),_0x45b115(_0x107fe8);});});},this[_0x4b6353(0x110)]=_0x1e446c=>{return new Promise((_0x48f4fa,_0x379bbf)=>{const _0xf772d=a6_0x2118,_0x4f2ff6=api_enums_1[_0xf772d(0x111)]['startCAS'];requestManager_1['RequestManager'][_0xf772d(0x10e)](_0x4f2ff6,_0x1e446c)['then'](_0x5402de=>{const _0x30bfdf=_0xf772d;console[_0x30bfdf(0xea)](new Date()[_0x30bfdf(0xce)](),'go2height,\x20THEN:',JSON[_0x30bfdf(0xef)](_0x5402de)),_0x48f4fa(_0x5402de);})[_0xf772d(0xd4)](_0x12e1c7=>{const _0x1afdfd=_0xf772d;console[_0x1afdfd(0xea)](new Date()[_0x1afdfd(0xce)](),_0x1afdfd(0x106),JSON['stringify'](_0x12e1c7)),_0x379bbf(_0x12e1c7);});});},this[_0x4b6353(0xfd)]=_0x381b5a=>{return new Promise((_0x36d751,_0x396588)=>{const _0x50995d=a6_0x2118,_0x35fdc2=api_enums_1[_0x50995d(0x111)]['stopCAS'];requestManager_1[_0x50995d(0xc9)][_0x50995d(0x10e)](_0x35fdc2,_0x381b5a)[_0x50995d(0x113)](_0x8174bd=>{const _0x3cd7ff=_0x50995d;console[_0x3cd7ff(0xea)](new Date()[_0x3cd7ff(0xce)](),_0x3cd7ff(0xfb),JSON[_0x3cd7ff(0xef)](_0x8174bd)),_0x36d751(_0x8174bd);})[_0x50995d(0xd4)](_0x416a28=>{const _0x4a0813=_0x50995d;console[_0x4a0813(0xea)](new Date()[_0x4a0813(0xce)](),_0x4a0813(0x114),JSON[_0x4a0813(0xef)](_0x416a28)),_0x396588(_0x416a28);});});},this[_0x4b6353(0xe2)]=_0x2c081b=>{return new Promise((_0x335112,_0xc8a419)=>{const _0x56c37c=a6_0x2118;requestManager_1[_0x56c37c(0xc9)][_0x56c37c(0x10e)](api_enums_1[_0x56c37c(0x111)][_0x56c37c(0xe2)],_0x2c081b)[_0x56c37c(0x113)](_0x367516=>{const _0x1975b6=_0x56c37c;console['log'](new Date()['toISOString'](),_0x1975b6(0xf6),JSON[_0x1975b6(0xef)](_0x367516)),_0x335112(_0x367516);})[_0x56c37c(0xd4)](_0x39b0d8=>{const _0x152628=_0x56c37c;console['log'](new Date()[_0x152628(0xce)](),_0x152628(0xc6),JSON[_0x152628(0xef)](_0x39b0d8)),_0xc8a419(_0x39b0d8);});});},this[_0x4b6353(0x10c)]=_0x23ea5c=>{return new Promise((_0x22212f,_0x46dc56)=>{const _0x50bd42=a6_0x2118;requestManager_1[_0x50bd42(0xc9)][_0x50bd42(0x10e)](api_enums_1[_0x50bd42(0x111)]['onMissionLand'],_0x23ea5c)[_0x50bd42(0x113)](_0x34c9a4=>{const _0x5e51c5=_0x50bd42;console[_0x5e51c5(0xea)](new Date()[_0x5e51c5(0xce)](),_0x5e51c5(0xf6),JSON[_0x5e51c5(0xef)](_0x34c9a4)),_0x22212f(_0x34c9a4);})[_0x50bd42(0xd4)](_0x2fc2f6=>{const _0x243749=_0x50bd42;console['log'](new Date()[_0x243749(0xce)](),_0x243749(0xc6),JSON['stringify'](_0x2fc2f6)),_0x46dc56(_0x2fc2f6);});});},this[_0x4b6353(0xde)]=_0x202795=>{return new Promise((_0xa6ffa6,_0x42c0de)=>{const _0x488317=a6_0x2118;requestManager_1['RequestManager'][_0x488317(0x10e)](api_enums_1[_0x488317(0x111)]['takeOff'],_0x202795)[_0x488317(0x113)](_0x262050=>{const _0x43f699=_0x488317;console['log'](new Date()[_0x43f699(0xce)](),_0x43f699(0xe9),JSON[_0x43f699(0xef)](_0x262050)),_0xa6ffa6(_0x262050);})[_0x488317(0xd4)](_0x4bd42a=>{const _0x278049=_0x488317;console['log'](new Date()[_0x278049(0xce)](),_0x278049(0xf0),JSON['stringify'](_0x4bd42a)),_0x42c0de(_0x4bd42a);});});},this[_0x4b6353(0xfc)]=_0x3930f6=>{return new Promise((_0x2975c4,_0x4842a5)=>{const _0x3b3e27=a6_0x2118;requestManager_1[_0x3b3e27(0xc9)][_0x3b3e27(0x10e)](api_enums_1[_0x3b3e27(0x111)][_0x3b3e27(0xff)],_0x3930f6)[_0x3b3e27(0x113)](_0x57ef02=>{const _0x24dad1=_0x3b3e27;console['log'](new Date()[_0x24dad1(0xce)](),_0x24dad1(0xe9),JSON[_0x24dad1(0xef)](_0x57ef02)),_0x2975c4(_0x57ef02);})[_0x3b3e27(0xd4)](_0xf1bab8=>{const _0x80df0b=_0x3b3e27;console[_0x80df0b(0xea)](new Date()[_0x80df0b(0xce)](),_0x80df0b(0xf0),JSON[_0x80df0b(0xef)](_0xf1bab8)),_0x4842a5(_0xf1bab8);});});},this[_0x4b6353(0xee)]();}}exports[a6_0x1caf7d(0xe3)]=AirVehicleManager,AirVehicleManager[a6_0x1caf7d(0xf2)]=new AirVehicleManager(),AirVehicleManager[a6_0x1caf7d(0x112)]=AirVehicleManager[a6_0x1caf7d(0xf2)][a6_0x1caf7d(0x112)],AirVehicleManager[a6_0x1caf7d(0xdc)]=AirVehicleManager[a6_0x1caf7d(0xf2)][a6_0x1caf7d(0xdc)],AirVehicleManager[a6_0x1caf7d(0xfa)]=AirVehicleManager['instance'][a6_0x1caf7d(0xfa)],AirVehicleManager[a6_0x1caf7d(0xc3)]=AirVehicleManager[a6_0x1caf7d(0xf2)][a6_0x1caf7d(0xc3)],AirVehicleManager['getVelocityScalar']=AirVehicleManager[a6_0x1caf7d(0xf2)][a6_0x1caf7d(0xcb)],AirVehicleManager[a6_0x1caf7d(0xf7)]=AirVehicleManager[a6_0x1caf7d(0xf2)][a6_0x1caf7d(0xf7)],AirVehicleManager[a6_0x1caf7d(0xcd)]=AirVehicleManager[a6_0x1caf7d(0xf2)][a6_0x1caf7d(0xcd)],AirVehicleManager[a6_0x1caf7d(0xc8)]=AirVehicleManager['instance']['resume2Controller'],AirVehicleManager['stop2Controller']=AirVehicleManager['instance']['stop2Controller'],AirVehicleManager[a6_0x1caf7d(0x110)]=AirVehicleManager[a6_0x1caf7d(0xf2)][a6_0x1caf7d(0x110)],AirVehicleManager[a6_0x1caf7d(0xfd)]=AirVehicleManager['instance'][a6_0x1caf7d(0xfd)],AirVehicleManager['land']=AirVehicleManager['instance'][a6_0x1caf7d(0xe2)],AirVehicleManager[a6_0x1caf7d(0x10c)]=AirVehicleManager[a6_0x1caf7d(0xf2)][a6_0x1caf7d(0x10c)],AirVehicleManager['takeOff']=AirVehicleManager[a6_0x1caf7d(0xf2)]['takeOff'],AirVehicleManager[a6_0x1caf7d(0xfc)]=AirVehicleManager[a6_0x1caf7d(0xf2)]['takeOffOnMission'];function a6_0x3514(){const _0x5bc60b=['catch','340SnCrAH','type','update','lastHome','266694luYOLJ','default','telemetryAdaptedToFCS','getWayPointsStatus','DgiFillLogic','takeOff','REAL_LAND_ASL','gps_position','147NECvlS','land','AirVehicleManager','pow','../../AppServices/connections/UDP/serverUDP','convertOnBoardDataAndUpdateDrone','velocities','lodash','takeOff,\x20THEN:','log','heading','REAL_TAKEOFF_ASL','gps_health','initUdpListener','stringify','takeOff,\x20CATCH:','154573LIkAia','instance','velocity','../../../../../classes/typings/ob-node-types','status','land,\x20THEN:','getAltitude','673312dYGIoI','AirVehicle','getAirVehicle_TELEMETRY_SERVICE_DATA','stopGo2height,\x20THEN:','takeOffOnMission','stopGo2height','height','onMissionTakeOff','8KwntXx','location','udpCallback','../../../../../classes/dataClasses/drone/AirVehicle','5dsBvcW','__esModule','go2height,\x20CATCH:','pause2Controller,\x20CATCH:','wayPoints','pause2Controller,\x20THEN:','stop2Controller,\x20THEN:','resume2Controller,\x20THEN:','landOnMission','fillLogics','requestToOnBoard','resume2Controller,\x20CATCH:','go2height','OB_API','getAirVehicle','then','stopGo2height,\x20CATCH:','updateDrone','4778fShuyX','551992itaMfX','getLocation','UdpServer','convertDroneData','land,\x20CATCH:','airVehicle','resume2Controller','RequestManager','stuckLocation','getVelocityScalar','1332738TMderr','pause2Controller','toISOString','../../AppServices/connections/restConnections/requestManager','get','stop2Controller,\x20CATCH:','212949eNaSwh','stopAllActions'];a6_0x3514=function(){return _0x5bc60b;};return a6_0x3514();}