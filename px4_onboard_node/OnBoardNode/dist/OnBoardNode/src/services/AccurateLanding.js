'use strict';const a16_0x16e281=a16_0x5532;(function(_0x554939,_0x173dcd){const _0x58c50c=a16_0x5532,_0x42a76a=_0x554939();while(!![]){try{const _0xf0ca92=parseInt(_0x58c50c(0xc8))/0x1*(-parseInt(_0x58c50c(0xb2))/0x2)+parseInt(_0x58c50c(0x108))/0x3*(parseInt(_0x58c50c(0xf7))/0x4)+parseInt(_0x58c50c(0x11c))/0x5+parseInt(_0x58c50c(0xb8))/0x6*(-parseInt(_0x58c50c(0x105))/0x7)+parseInt(_0x58c50c(0xac))/0x8*(-parseInt(_0x58c50c(0xe9))/0x9)+parseInt(_0x58c50c(0x126))/0xa*(parseInt(_0x58c50c(0x123))/0xb)+-parseInt(_0x58c50c(0x11d))/0xc*(-parseInt(_0x58c50c(0xe5))/0xd);if(_0xf0ca92===_0x173dcd)break;else _0x42a76a['push'](_0x42a76a['shift']());}catch(_0x4df71e){_0x42a76a['push'](_0x42a76a['shift']());}}}(a16_0x164f,0x821c5));Object[a16_0x16e281(0xab)](exports,a16_0x16e281(0xb7),{'value':!![]}),exports['AccurateLanding']=void 0x0;const serverUDP_1=require('./TCPUDP/serverUDP'),Utils_1=require(a16_0x16e281(0x128)),clientUDP_1=require('./TCPUDP/clientUDP'),VisualLanding_1=require(a16_0x16e281(0xdf)),RequestManager_1=require('../RequestManager'),timers_1=require(a16_0x16e281(0xfc)),all_typings_1=require(a16_0x16e281(0xfb)),airVechicleManager_1=require(a16_0x16e281(0xee)),LoggerAccurateLangingEls_1=require(a16_0x16e281(0xbb)),geoCalc_1=require(a16_0x16e281(0xdb));require('date.format');const fs=require('fs');function a16_0x5532(_0x43bd5c,_0x52c27a){const _0x164fae=a16_0x164f();return a16_0x5532=function(_0x5532f4,_0x1f5991){_0x5532f4=_0x5532f4-0xa8;let _0x5a5387=_0x164fae[_0x5532f4];return _0x5a5387;},a16_0x5532(_0x43bd5c,_0x52c27a);}function a16_0x164f(){const _0x1893b3=['2112ecRniy','\x20\x20currentAlt\x20=\x20','RequestManager','\x20stopped\x20intervalStart\x20--\x20disarmed','currentLon\x20','x_direction','11RWkaiU','gps_position','requestServicePy','917220iapuEl','minVelolocityForPicture','../Utils','vx\x20=\x20','paramsAL\x20','rtsp_server','headingRelativeNorth','reqToVLServiceAndStartLand','doHeading','maxErrorDistance','===============================================','defineProperty','233304yJRRuM','Error','sent\x20land','data','time\x202\x20-\x20new\x20start','West','342826ZhHPSV','projConf','verticalSpeed','got\x20ERR\x20\x20from\x20py\x20(catch)\x20','setFlag','__esModule','42WbPfWv','portUDP','Current\x20dist\x20','../logger/LoggerAccurateLangingEls','current\x20difLon\x20=\x20','send','angleTo0_359','state','land','begin\x20trying\x20lang\x20','stopAccurateLand','ACCURATE','pyphagor','UdpServer','count\x20','stringify','2oeKkJn','instance','finish1','abs','getDistanceInMeter','height_above_takeoff','timeOutForPicture','message','AirVehicleManager','East','vy\x20=\x20','longitude','sqrt','y_direction','AccurateLanding','intervals','host','minAltitude','isAlreadyStartLanding','../../../classes/applicationClasses/utility/geoCalc','current\x20difLat\x20=\x20','length','horizontalSpeed','./VisualLanding','armed','distance_in_cm','send_handler2RequestService','toISOString','onBoardNodeJsService','101257iHipzC','timeouts','\x20\x20\x20vy\x20=\x20','LoggerAccurateLangingEls','324iMfEoT','currentLat\x20','homeLocation','requestToVisualLandingService','South','./airVehicle/airVechicleManager','latitude','startLanding','lastHome','accurateToPoint','STOP\x20accurate\x20landing','listen','Utils','North','16iXJSkl','vx\x20=\x20\x20','UdpServer.getTelemetryData().height_above_takeoff\x20=\x20','is_success','../../../classes/typings/all.typings','timers','ClientUDP','\x20stopped\x20\x20intervalStartLanding','VisualLanding','altOffset','image_by_rtsp','=====================got\x20success\x20data\x20from\x20visual\x20service================================','push','heading','57617PeIbOK','setParamsAL','LANDING_TYPE','297669IrMmei','landingType','then','log','start','info','visualLanding','\x20stopped\x20send\x20vertical\x20velocity\x20','stopVisualLanding','Accurate\x202\x20Point','success','\x20\x20\x20current\x20dist\x20=\x20','velocity','setTimeout','GeoCalc','forEach','\x20stopped\x20intervalStart','sends\x20land\x20','lastStartedAccurate','getTelemetryData','618830NvHMSz'];a16_0x164f=function(){return _0x1893b3;};return a16_0x164f();}class AccurateLanding{constructor(){const _0x1216ed=a16_0x16e281;this[_0x1216ed(0xb3)]={},this[_0x1216ed(0xd7)]=[],this[_0x1216ed(0xe6)]=[],this['listen']=_0x32de1d=>{this['projConf']=_0x32de1d;},this[_0x1216ed(0x11a)]=0x0,this[_0x1216ed(0x10c)]=(_0x54bf12,_0xebac2e)=>{const _0x356579=_0x1216ed;AccurateLanding[_0x356579(0xc2)](),VisualLanding_1['VisualLanding'][_0x356579(0x110)]();const _0x3a4796=Date['now']();this['lastStartedAccurate']=_0x3a4796,this['isAlreadyStartLanding']=_0xebac2e;if(serverUDP_1['UdpServer'][_0x356579(0x11b)]()['state']['armed']){LoggerAccurateLangingEls_1[_0x356579(0xe8)][_0x356579(0x10d)](_0x356579(0xd6),_0x356579(0x12a)+JSON[_0x356579(0xc7)](_0x54bf12)),VisualLanding_1[_0x356579(0xff)][_0x356579(0xb6)](!![]),VisualLanding_1[_0x356579(0xff)][_0x356579(0x106)](_0x54bf12);if(_0x54bf12[_0x356579(0x109)]===all_typings_1['LANDING_TYPE']['OPTIC']){const _0x486802=serverUDP_1[_0x356579(0xc5)][_0x356579(0x11b)](),_0x40a65d=geoCalc_1[_0x356579(0x116)][_0x356579(0xbe)](_0x486802[_0x356579(0xf1)][_0x356579(0x12c)]);airVechicleManager_1[_0x356579(0xd0)][_0x356579(0xa8)](_0x40a65d,()=>{const _0x4f7aa8=_0x356579;this[_0x4f7aa8(0x12d)](_0x54bf12);});}else{if(_0x54bf12[_0x356579(0x109)]===all_typings_1[_0x356579(0x107)][_0x356579(0xc3)]){let _0x5c12bb;if(_0x5c12bb!==undefined)try{clearInterval(_0x5c12bb);}catch(_0xac4a16){}if(_0x54bf12[_0x356579(0x109)]==all_typings_1['LANDING_TYPE'][_0x356579(0xc3)]){VisualLanding_1[_0x356579(0xff)][_0x356579(0xb6)](![]);let _0x422bae=serverUDP_1[_0x356579(0xc5)]['getTelemetryData']()['gps_position'][_0x356579(0xef)],_0x46fc7d=serverUDP_1[_0x356579(0xc5)][_0x356579(0x11b)]()[_0x356579(0x124)][_0x356579(0xd3)],_0x41d331,_0x1cd2dd=0x0,_0x4f2cf8=Utils_1[_0x356579(0xf5)][_0x356579(0xcc)]([_0x46fc7d,_0x422bae],[_0x54bf12[_0x356579(0xeb)]['longitude'],_0x54bf12[_0x356579(0xeb)][_0x356579(0xef)]]),_0x35c173,_0x469a32;_0x5c12bb=setInterval(()=>{const _0x349a07=_0x356579;let _0x813f3a=serverUDP_1[_0x349a07(0xc5)][_0x349a07(0x11b)]()[_0x349a07(0xcd)];if(!serverUDP_1['UdpServer'][_0x349a07(0x11b)]()[_0x349a07(0xbf)]['armed']){LoggerAccurateLangingEls_1[_0x349a07(0xe8)][_0x349a07(0x10d)](_0x349a07(0xd6),_0x349a07(0x118)),LoggerAccurateLangingEls_1['LoggerAccurateLangingEls']['info']('AccurateLanding',_0x349a07(0xaa));try{clearInterval(_0x5c12bb);}catch(_0x5887c2){}}if(_0x813f3a>=_0x54bf12['minAltitude']+_0x54bf12[_0x349a07(0x100)]-_0x54bf12['minAltitudeTolerance']){if(_0x4f2cf8>=_0x54bf12[_0x349a07(0xa9)]){_0x422bae=serverUDP_1[_0x349a07(0xc5)][_0x349a07(0x11b)]()[_0x349a07(0x124)]['latitude'],_0x46fc7d=serverUDP_1[_0x349a07(0xc5)]['getTelemetryData']()[_0x349a07(0x124)][_0x349a07(0xd3)],LoggerAccurateLangingEls_1[_0x349a07(0xe8)][_0x349a07(0x10d)](_0x349a07(0xd6),'currentLon\x20'+_0x46fc7d),LoggerAccurateLangingEls_1[_0x349a07(0xe8)][_0x349a07(0x10d)](_0x349a07(0xd6),_0x349a07(0xea)+_0x422bae),_0x35c173=Math[_0x349a07(0xcb)](Utils_1['Utils']['getDistanceInMeter']([_0x54bf12[_0x349a07(0xeb)][_0x349a07(0xd3)],_0x54bf12[_0x349a07(0xeb)]['latitude']],[_0x54bf12[_0x349a07(0xeb)][_0x349a07(0xd3)],_0x422bae])),_0x469a32=Math[_0x349a07(0xcb)](Utils_1[_0x349a07(0xf5)][_0x349a07(0xcc)]([_0x54bf12[_0x349a07(0xeb)][_0x349a07(0xd3)],_0x54bf12['homeLocation'][_0x349a07(0xef)]],[_0x46fc7d,_0x54bf12[_0x349a07(0xeb)][_0x349a07(0xef)]]));_0x54bf12['homeLocation']['latitude']-_0x422bae<0x0&&(_0x35c173*=-0x1);_0x54bf12['homeLocation']['longitude']-_0x46fc7d<0x0&&(_0x469a32*=-0x1);_0x4f2cf8=Utils_1[_0x349a07(0xf5)]['getDistanceInMeter']([_0x46fc7d,_0x422bae],[_0x54bf12[_0x349a07(0xeb)][_0x349a07(0xd3)],_0x54bf12[_0x349a07(0xeb)][_0x349a07(0xef)]]);let _0x5f3d60=_0x54bf12['horizontalSpeed']*_0x35c173/Math[_0x349a07(0xd4)](_0x35c173*_0x35c173+_0x469a32*_0x469a32),_0x4dbb42=_0x54bf12[_0x349a07(0xde)]*_0x469a32/Math['sqrt'](_0x35c173*_0x35c173+_0x469a32*_0x469a32);_0x41d331=serverUDP_1[_0x349a07(0xc5)][_0x349a07(0x11b)]()[_0x349a07(0x104)]*Math['PI']/0xb4,this['vx']=_0x5f3d60,this['vy']=_0x4dbb42;_0x813f3a>_0x54bf12[_0x349a07(0xd9)]+_0x54bf12['altOffset']+_0x54bf12['minAltitudeTolerance']?this['vz']=_0x54bf12[_0x349a07(0xb4)]:(this['vx']=_0x5f3d60/0x2,this['vy']=_0x4dbb42/0x2,this['vz']=0x0);const _0x43a6c8={'velocityAndYawRateCtrl':!![],'vx':this['vx'],'vy':this['vy'],'vz':-this['vz'],'yaw':0x0,'isGps':!![]};clientUDP_1[_0x349a07(0xfd)][_0x349a07(0xbd)](JSON[_0x349a07(0xc7)](_0x43a6c8),this[_0x349a07(0xb3)][_0x349a07(0xe4)][_0x349a07(0x125)][_0x349a07(0xb9)],this[_0x349a07(0xb3)][_0x349a07(0xe4)][_0x349a07(0x125)][_0x349a07(0xd8)],_0x317d4c=>{const _0x9ef6a3=_0x349a07;!_0x317d4c[_0x9ef6a3(0x112)]?_0x317d4c[_0x9ef6a3(0xcf)][_0x9ef6a3(0x103)](_0x9ef6a3(0xad)):(LoggerAccurateLangingEls_1[_0x9ef6a3(0xe8)][_0x9ef6a3(0x10d)](_0x9ef6a3(0xd6),_0x9ef6a3(0xba)+_0x4f2cf8),LoggerAccurateLangingEls_1['LoggerAccurateLangingEls'][_0x9ef6a3(0x10d)](_0x9ef6a3(0xd6),_0x9ef6a3(0xdc)+_0x35c173),LoggerAccurateLangingEls_1[_0x9ef6a3(0xe8)][_0x9ef6a3(0x10d)](_0x9ef6a3(0xd6),_0x9ef6a3(0xbc)+_0x469a32),LoggerAccurateLangingEls_1[_0x9ef6a3(0xe8)][_0x9ef6a3(0x10d)](_0x9ef6a3(0xd6),_0x9ef6a3(0x129)+this['vx']),LoggerAccurateLangingEls_1[_0x9ef6a3(0xe8)]['info'](_0x9ef6a3(0xd6),_0x9ef6a3(0xd2)+this['vy']),LoggerAccurateLangingEls_1[_0x9ef6a3(0xe8)]['info'](_0x9ef6a3(0xd6),'current\x20H\x20=\x20'+serverUDP_1[_0x9ef6a3(0xc5)]['getTelemetryData']()[_0x9ef6a3(0xcd)]),LoggerAccurateLangingEls_1[_0x9ef6a3(0xe8)][_0x9ef6a3(0x10d)]('AccurateLanding',_0x9ef6a3(0xaa)));});}else{this[_0x349a07(0xda)]['is']=!![],this['vx']=0x0,this['vy']=0x0,this['vz']=_0x54bf12['verticalSpeed'];const _0x3be1a3={'velocityAndYawRateCtrl':!![],'vx':this['vx'],'vy':this['vy'],'vz':-this['vz'],'yaw':0x0,'isGps':!![]};clientUDP_1[_0x349a07(0xfd)][_0x349a07(0xbd)](JSON['stringify'](_0x3be1a3),this['projConf'][_0x349a07(0xe4)]['requestServicePy'][_0x349a07(0xb9)],this['projConf']['onBoardNodeJsService'][_0x349a07(0x125)][_0x349a07(0xd8)],_0x44912d=>{const _0x3273fd=_0x349a07;!_0x44912d['success']?_0x44912d[_0x3273fd(0xcf)][_0x3273fd(0x103)](_0x3273fd(0xad)):(LoggerAccurateLangingEls_1[_0x3273fd(0xe8)]['info'](_0x3273fd(0xd6),_0x3273fd(0xba)+_0x4f2cf8),LoggerAccurateLangingEls_1[_0x3273fd(0xe8)][_0x3273fd(0x10d)](_0x3273fd(0xd6),'current\x20difLat\x20=\x20'+_0x35c173),LoggerAccurateLangingEls_1[_0x3273fd(0xe8)][_0x3273fd(0x10d)](_0x3273fd(0xd6),'current\x20difLon\x20=\x20'+_0x469a32),LoggerAccurateLangingEls_1['LoggerAccurateLangingEls']['info'](_0x3273fd(0xd6),_0x3273fd(0x129)+this['vx']),LoggerAccurateLangingEls_1[_0x3273fd(0xe8)][_0x3273fd(0x10d)](_0x3273fd(0xd6),'vy\x20=\x20'+this['vy']),LoggerAccurateLangingEls_1['LoggerAccurateLangingEls'][_0x3273fd(0x10d)](_0x3273fd(0xd6),'current\x20H\x20=\x20'+serverUDP_1[_0x3273fd(0xc5)]['getTelemetryData']()['height_above_takeoff']),LoggerAccurateLangingEls_1['LoggerAccurateLangingEls'][_0x3273fd(0x10d)]('AccurateLanding',_0x3273fd(0xaa)));});}}else{this[_0x349a07(0xda)]['is']=!![],LoggerAccurateLangingEls_1[_0x349a07(0xe8)][_0x349a07(0x10d)](_0x349a07(0xd6),'Current\x20dist\x20'+_0x4f2cf8),LoggerAccurateLangingEls_1['LoggerAccurateLangingEls'][_0x349a07(0x10d)](_0x349a07(0xd6),'current\x20H\x20=\x20'+serverUDP_1['UdpServer'][_0x349a07(0x11b)]()[_0x349a07(0xcd)]),LoggerAccurateLangingEls_1[_0x349a07(0xe8)][_0x349a07(0x10d)]('AccurateLanding',_0x349a07(0xca)),LoggerAccurateLangingEls_1[_0x349a07(0xe8)][_0x349a07(0x10d)](_0x349a07(0xd6),_0x349a07(0xf9)+serverUDP_1['UdpServer']['getTelemetryData']()[_0x349a07(0xcd)]),this[_0x349a07(0xf0)](serverUDP_1[_0x349a07(0xc5)][_0x349a07(0x11b)]()[_0x349a07(0xcd)],_0x54bf12,0x0),LoggerAccurateLangingEls_1['LoggerAccurateLangingEls'][_0x349a07(0x10d)](_0x349a07(0xd6),_0x349a07(0xae));try{clearInterval(_0x5c12bb);}catch(_0x6bdbf){}}},0x64),this[_0x356579(0xd7)][_0x356579(0x103)](_0x5c12bb);}else this['isAlreadyStartLanding']['is']=!![],this[_0x356579(0xf0)](serverUDP_1[_0x356579(0xc5)][_0x356579(0x11b)]()['height_above_takeoff'],_0x54bf12,0x0),LoggerAccurateLangingEls_1[_0x356579(0xe8)][_0x356579(0x10d)](_0x356579(0xd6),'sent\x20land');}}}},this[_0x1216ed(0xc2)]=()=>{const _0x2ce358=_0x1216ed;this['intervals'][_0x2ce358(0xdd)]>0x0&&(this[_0x2ce358(0xd7)]['forEach'](_0x2efa7b=>{try{clearInterval(_0x2efa7b);}catch(_0x28e80d){}}),this['intervals'][_0x2ce358(0xdd)]=0x0,LoggerAccurateLangingEls_1[_0x2ce358(0xe8)]['info'](_0x2ce358(0xd6),_0x2ce358(0xf3))),this[_0x2ce358(0xe6)][_0x2ce358(0x117)](_0x2b88e1=>{try{clearTimeout(_0x2b88e1);}catch(_0x243815){}});},this[_0x1216ed(0xf0)]=(_0x1d621f,_0x50e857,_0x497724)=>{const _0x51cc3f=_0x1216ed;LoggerAccurateLangingEls_1[_0x51cc3f(0xe8)][_0x51cc3f(0x10d)](_0x51cc3f(0xd6),_0x51cc3f(0xc1)+_0x51cc3f(0xc6)+_0x497724);const _0x484696=setInterval(()=>{const _0xd83101=_0x51cc3f,_0x3c3e4f=Math['abs'](0.5),_0x548c29={'velocityAndYawRateCtrl':!![],'vx':0x0,'vy':0x0,'vz':_0x3c3e4f,'yaw':0x0,'isGps':!![]},_0x52454f=serverUDP_1[_0xd83101(0xc5)][_0xd83101(0x11b)]();clientUDP_1['ClientUDP'][_0xd83101(0xbd)](JSON['stringify'](_0x548c29),this['projConf']['onBoardNodeJsService'][_0xd83101(0x125)][_0xd83101(0xb9)],this[_0xd83101(0xb3)][_0xd83101(0xe4)][_0xd83101(0x125)]['host'],_0x1ae268=>{const _0x20162a=_0xd83101;if(!_0x1ae268[_0x20162a(0x112)]){}else{}});if(_0x52454f[_0xd83101(0xbf)][_0xd83101(0xe0)]&&Math[_0xd83101(0xcb)](_0x52454f[_0xd83101(0xcd)])<0x5){LoggerAccurateLangingEls_1[_0xd83101(0xe8)][_0xd83101(0x10d)](_0xd83101(0xd6),_0xd83101(0x10f)+_0x3c3e4f),LoggerAccurateLangingEls_1[_0xd83101(0xe8)][_0xd83101(0x10d)](_0xd83101(0xd6),_0xd83101(0xfe)),LoggerAccurateLangingEls_1['LoggerAccurateLangingEls'][_0xd83101(0x10d)](_0xd83101(0xd6),_0xd83101(0xaa));try{clearInterval(_0x484696);}catch(_0x20b512){}console[_0xd83101(0x10b)](new Date()['toISOString'](),_0xd83101(0x119)),Utils_1['Utils'][_0xd83101(0xe2)](_0xd83101(0xc0),{},_0x77ca1a=>{const _0x1b4cf9=_0xd83101;console[_0x1b4cf9(0x10b)](new Date()[_0x1b4cf9(0xe3)](),'|got\x20req\x20land\x20response\x20|\x20',JSON[_0x1b4cf9(0xc7)](_0x77ca1a));});}},0x64);this[_0x51cc3f(0xd7)][_0x51cc3f(0x103)](_0x484696);},this['reqToVLServiceAndStartLand']=_0x4eac78=>{const _0x2b1d78=_0x1216ed,_0x1794ff=this[_0x2b1d78(0xb3)][_0x2b1d78(0xe4)][_0x2b1d78(0x10e)][_0x2b1d78(0x127)],_0x5ecfff=this['projConf'][_0x2b1d78(0xe4)][_0x2b1d78(0x10e)][_0x2b1d78(0xce)];let _0x5659c9=0x0;const _0x1eef07=0x3e8,_0x16df4d=()=>{const _0x2dc513=_0x2b1d78;RequestManager_1[_0x2dc513(0x11f)][_0x2dc513(0xec)](_0x2dc513(0x101),{'url':this[_0x2dc513(0xb3)][_0x2dc513(0x12b)]})[_0x2dc513(0x10a)](_0xf8cbfa=>{const _0x1dcba7=_0x2dc513;LoggerAccurateLangingEls_1[_0x1dcba7(0xe8)]['info']('AccurateLanding','got\x20ok\x20\x20from\x20py');if(_0xf8cbfa&&_0xf8cbfa[_0x1dcba7(0xaf)]&&_0xf8cbfa[_0x1dcba7(0x112)]&&_0xf8cbfa[_0x1dcba7(0xaf)][_0x1dcba7(0xfa)]&&_0xf8cbfa[_0x1dcba7(0xaf)]['distance_in_cm']!==null&&_0xf8cbfa[_0x1dcba7(0xaf)][_0x1dcba7(0xe1)]!==undefined&&_0xf8cbfa['data'][_0x1dcba7(0xe1)]!==0x0&&_0xf8cbfa[_0x1dcba7(0xaf)][_0x1dcba7(0x122)]!==null&&_0xf8cbfa[_0x1dcba7(0xaf)][_0x1dcba7(0x122)]!==undefined&&_0xf8cbfa[_0x1dcba7(0xaf)][_0x1dcba7(0x122)]!==0x0&&_0xf8cbfa[_0x1dcba7(0xaf)]['y_direction']!==null&&_0xf8cbfa[_0x1dcba7(0xaf)]['y_direction']!==undefined&&_0xf8cbfa['data'][_0x1dcba7(0xd5)]!==0x0){let _0x479e4e={'is_success':_0xf8cbfa[_0x1dcba7(0xaf)][_0x1dcba7(0xfa)],'y_direction':_0xf8cbfa[_0x1dcba7(0xaf)]['y_direction'],'x_direction':_0xf8cbfa[_0x1dcba7(0xaf)][_0x1dcba7(0x122)],'distance_in_cm':_0xf8cbfa[_0x1dcba7(0xaf)]['distance_in_cm']};LoggerAccurateLangingEls_1[_0x1dcba7(0xe8)][_0x1dcba7(0x10d)](_0x1dcba7(0xd6),_0x1dcba7(0x102)),LoggerAccurateLangingEls_1[_0x1dcba7(0xe8)]['info'](_0x1dcba7(0xd6),_0x1dcba7(0xf8)+_0xf8cbfa[_0x1dcba7(0xaf)][_0x1dcba7(0x122)]+_0x1dcba7(0xe7)+_0xf8cbfa[_0x1dcba7(0xaf)][_0x1dcba7(0xd5)]+_0x1dcba7(0x113)+_0xf8cbfa[_0x1dcba7(0xaf)]['distance_in_cm']/0x64+_0x1dcba7(0x11e)+serverUDP_1['UdpServer'][_0x1dcba7(0x11b)]()[_0x1dcba7(0xcd)]),VisualLanding_1[_0x1dcba7(0xff)][_0x1dcba7(0x10c)](_0x479e4e,this[_0x1dcba7(0xda)]);}else{const _0x44ab0f=(0x0,timers_1['setTimeout'])(()=>{const _0xd069c9=_0x1dcba7;this[_0xd069c9(0x10c)](_0x4eac78,this[_0xd069c9(0xda)]),console[_0xd069c9(0x10b)](_0xd069c9(0xb0));},0x3e8);this[_0x1dcba7(0xe6)][_0x1dcba7(0x103)](_0x44ab0f),LoggerAccurateLangingEls_1[_0x1dcba7(0xe8)][_0x1dcba7(0x10d)](_0x1dcba7(0xd6),'got\x20ERR\x20\x20from\x20py\x20(then)\x20'+JSON['stringify'](_0xf8cbfa));}})['catch'](_0x2c0c25=>{const _0x38a8f5=_0x2dc513,_0x25594b=(0x0,timers_1[_0x38a8f5(0x115)])(()=>{const _0x3cbe0f=_0x38a8f5;this[_0x3cbe0f(0x10c)](_0x4eac78,this[_0x3cbe0f(0xda)]);},0x3e8);this[_0x38a8f5(0xe6)][_0x38a8f5(0x103)](_0x25594b),LoggerAccurateLangingEls_1['LoggerAccurateLangingEls'][_0x38a8f5(0x10d)]('AccurateLanding',_0x38a8f5(0xb5)+JSON[_0x38a8f5(0xc7)](_0x2c0c25));});},_0x3d33fd=setInterval(()=>{const _0x4171b9=_0x2b1d78;let _0x436cbb=Utils_1[_0x4171b9(0xf5)][_0x4171b9(0xc4)](serverUDP_1[_0x4171b9(0xc5)][_0x4171b9(0x11b)]()[_0x4171b9(0x114)]['x'],serverUDP_1[_0x4171b9(0xc5)]['getTelemetryData']()[_0x4171b9(0x114)]['y']);_0x436cbb<=_0x1794ff||_0x5659c9>=_0x5ecfff?(clearInterval(_0x3d33fd),_0x16df4d()):_0x5659c9+=_0x1eef07;},_0x1eef07);},this[_0x1216ed(0xf2)]=(_0x20ca2c,_0x385b59,_0x5ea917)=>{_0x20ca2c=setInterval(()=>{const _0x151e8d=a16_0x5532;if(!serverUDP_1['UdpServer'][_0x151e8d(0x11b)]()[_0x151e8d(0xbf)][_0x151e8d(0xe0)]){LoggerAccurateLangingEls_1[_0x151e8d(0xe8)]['info']('Accurate\x202\x20point',_0x151e8d(0x120)),LoggerAccurateLangingEls_1[_0x151e8d(0xe8)][_0x151e8d(0x10d)](_0x151e8d(0x111),'===============================================');try{_0x5ea917({'success':![],'message':['drone\x20disarmed']}),clearInterval(_0x20ca2c);}catch(_0x32c957){}}else{const _0x2e5dbf=serverUDP_1[_0x151e8d(0xc5)]['getTelemetryData']()['gps_position']['latitude'],_0x19b2f8=serverUDP_1[_0x151e8d(0xc5)][_0x151e8d(0x11b)]()[_0x151e8d(0x124)]['longitude'],_0x29b2d2=Utils_1['Utils'][_0x151e8d(0xcc)]([_0x19b2f8,_0x2e5dbf],[_0x385b59['longitude'],_0x385b59['latitude']]);if(_0x29b2d2>=_0x385b59[_0x151e8d(0xa9)]){LoggerAccurateLangingEls_1[_0x151e8d(0xe8)]['info'](_0x151e8d(0x111),_0x151e8d(0x121)+_0x19b2f8),LoggerAccurateLangingEls_1[_0x151e8d(0xe8)][_0x151e8d(0x10d)](_0x151e8d(0x111),_0x151e8d(0xea)+_0x2e5dbf);let _0x5c222e=Math[_0x151e8d(0xcb)](Utils_1[_0x151e8d(0xf5)][_0x151e8d(0xcc)]([_0x385b59['longitude'],_0x385b59[_0x151e8d(0xef)]],[_0x385b59[_0x151e8d(0xd3)],_0x2e5dbf])),_0x1be000=Math['abs'](Utils_1[_0x151e8d(0xf5)][_0x151e8d(0xcc)]([_0x385b59[_0x151e8d(0xd3)],_0x385b59[_0x151e8d(0xef)]],[_0x19b2f8,_0x385b59[_0x151e8d(0xef)]]));_0x385b59['latitude']-_0x2e5dbf<0x0?(_0x5c222e*=-0x1,LoggerAccurateLangingEls_1[_0x151e8d(0xe8)]['info'](_0x151e8d(0x111),_0x151e8d(0xed))):LoggerAccurateLangingEls_1[_0x151e8d(0xe8)][_0x151e8d(0x10d)]('Accurate\x202\x20Point',_0x151e8d(0xf6));_0x385b59[_0x151e8d(0xd3)]-_0x19b2f8<0x0?(_0x1be000*=-0x1,LoggerAccurateLangingEls_1[_0x151e8d(0xe8)][_0x151e8d(0x10d)](_0x151e8d(0x111),_0x151e8d(0xb1))):LoggerAccurateLangingEls_1[_0x151e8d(0xe8)][_0x151e8d(0x10d)](_0x151e8d(0x111),_0x151e8d(0xd1));let _0x5d0dd9=0x1;_0x29b2d2<=_0x385b59[_0x151e8d(0xa9)]*0x2&&_0x385b59[_0x151e8d(0xde)]>0.5&&(_0x5d0dd9=0.5);const _0x2e5cfd=_0x5d0dd9*_0x385b59[_0x151e8d(0xde)]*_0x5c222e/Math[_0x151e8d(0xd4)](_0x5c222e*_0x5c222e+_0x1be000*_0x1be000),_0x346fa9=_0x5d0dd9*_0x385b59[_0x151e8d(0xde)]*_0x1be000/Math[_0x151e8d(0xd4)](_0x5c222e*_0x5c222e+_0x1be000*_0x1be000),_0x325e08={'velocityAndYawRateCtrl':!![],'vx':_0x2e5cfd,'vy':_0x346fa9,'vz':0x0,'yaw':0x0,'isGps':!![]};clientUDP_1[_0x151e8d(0xfd)]['send'](JSON['stringify'](_0x325e08),this[_0x151e8d(0xb3)][_0x151e8d(0xe4)][_0x151e8d(0x125)]['portUDP'],this[_0x151e8d(0xb3)][_0x151e8d(0xe4)][_0x151e8d(0x125)][_0x151e8d(0xd8)],_0x5e746c=>{const _0x395ace=_0x151e8d;!_0x5e746c[_0x395ace(0x112)]?_0x5e746c[_0x395ace(0xcf)][_0x395ace(0x103)](_0x395ace(0xad)):(LoggerAccurateLangingEls_1[_0x395ace(0xe8)]['info'](_0x395ace(0x111),'Current\x20dist\x20'+_0x29b2d2),LoggerAccurateLangingEls_1[_0x395ace(0xe8)][_0x395ace(0x10d)]('Accurate\x202\x20Point',_0x395ace(0xdc)+_0x5c222e),LoggerAccurateLangingEls_1[_0x395ace(0xe8)][_0x395ace(0x10d)](_0x395ace(0x111),_0x395ace(0xbc)+_0x1be000),LoggerAccurateLangingEls_1[_0x395ace(0xe8)][_0x395ace(0x10d)]('Accurate\x202\x20Point',_0x395ace(0x129)+_0x2e5cfd),LoggerAccurateLangingEls_1[_0x395ace(0xe8)][_0x395ace(0x10d)](_0x395ace(0x111),'vy\x20=\x20'+_0x346fa9),LoggerAccurateLangingEls_1[_0x395ace(0xe8)]['info'](_0x395ace(0x111),_0x395ace(0xaa)));});}else _0x5ea917({'success':!![]}),clearInterval(_0x20ca2c);}},0x64);};}}exports[a16_0x16e281(0xd6)]=AccurateLanding,AccurateLanding[a16_0x16e281(0xc9)]=new AccurateLanding(),AccurateLanding[a16_0x16e281(0xf2)]=AccurateLanding['instance'][a16_0x16e281(0xf2)],AccurateLanding[a16_0x16e281(0xf4)]=AccurateLanding[a16_0x16e281(0xc9)][a16_0x16e281(0xf4)],AccurateLanding[a16_0x16e281(0x10c)]=AccurateLanding[a16_0x16e281(0xc9)]['start'],AccurateLanding['stopAccurateLand']=AccurateLanding[a16_0x16e281(0xc9)][a16_0x16e281(0xc2)],AccurateLanding[a16_0x16e281(0x12d)]=AccurateLanding[a16_0x16e281(0xc9)]['reqToVLServiceAndStartLand'];