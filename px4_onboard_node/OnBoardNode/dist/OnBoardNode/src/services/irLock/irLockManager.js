'use strict';function a53_0x2d53(_0x3edd61,_0x264e8a){const _0x240467=a53_0x2404();return a53_0x2d53=function(_0x2d53db,_0x2d0bf7){_0x2d53db=_0x2d53db-0x103;let _0xb8df63=_0x240467[_0x2d53db];return _0xb8df63;},a53_0x2d53(_0x3edd61,_0x264e8a);}const a53_0x5903a7=a53_0x2d53;(function(_0x34b619,_0x54d572){const _0x12331c=a53_0x2d53,_0x4b9b8c=_0x34b619();while(!![]){try{const _0x23c454=parseInt(_0x12331c(0x132))/0x1+parseInt(_0x12331c(0x12e))/0x2+-parseInt(_0x12331c(0x124))/0x3+parseInt(_0x12331c(0x122))/0x4*(parseInt(_0x12331c(0x10b))/0x5)+parseInt(_0x12331c(0x116))/0x6*(-parseInt(_0x12331c(0x11a))/0x7)+parseInt(_0x12331c(0x12c))/0x8*(parseInt(_0x12331c(0x118))/0x9)+-parseInt(_0x12331c(0x129))/0xa;if(_0x23c454===_0x54d572)break;else _0x4b9b8c['push'](_0x4b9b8c['shift']());}catch(_0x2d3fe0){_0x4b9b8c['push'](_0x4b9b8c['shift']());}}}(a53_0x2404,0x6491a));Object[a53_0x5903a7(0x11e)](exports,'__esModule',{'value':!![]}),exports[a53_0x5903a7(0x11d)]=void 0x0;function a53_0x2404(){const _0x122854=['tmpDropAlt','AirVehicleManager','9366puhZeS','PX_TAKEOFF_ASL','3845403uCCSdf','stopIrLock','133XbxOLw','success','notActive','IrLockManager','defineProperty','../../../../classes/typings/all.typings','../../logger/Logger','Utils','22076JREoXh','lastHome','835926TlWJCs','servo','../TCPUDP/serverUDP','start_mission\x20failed.\x20wait\x20for\x20state\x20too\x20long.\x20current\x20state:\x20','upload_loiter_mission','9833580ODndPp','homeLocation','node.js','8tsdYQW','startIrLock','1057616rKbXAP','start_mission','azimuth','ERROR','521235Fddgli','send_handler2RequestService','UdpServer','dropPackage','stopped','../../Utils','irLockStatus','instance','concat','push','message','json','onBoardNodeJsService','requestedAltitude','dropGeoPoint','Logger','lat','205XcCRZI','IR_LOCK_STATUS','getIrStatus','getModeMission','waitForState','running','irLockManager','LOG_LEVEL','getFlightModeEnum'];a53_0x2404=function(){return _0x122854;};return a53_0x2404();}const all_typings_1=require(a53_0x5903a7(0x11f)),Utils_1=require(a53_0x5903a7(0x137)),Logger_1=require(a53_0x5903a7(0x120)),serverUDP_1=require(a53_0x5903a7(0x126)),airVechicleManager_1=require('../airVehicle/airVechicleManager'),projConf=require('./../../../../../../projConf.json'),tmpDropAlt=projConf[a53_0x5903a7(0x106)][a53_0x5903a7(0x114)];class IrLockManager{constructor(){const _0x36fb4d=a53_0x5903a7;this['irLockStatus']=all_typings_1[_0x36fb4d(0x10c)][_0x36fb4d(0x11c)],this[_0x36fb4d(0x10d)]=()=>{const _0xbac20e=_0x36fb4d;return this[_0xbac20e(0x138)];},this[_0x36fb4d(0x12d)]=_0x1f1c20=>{return new Promise((_0x4efad4,_0x285ddd)=>{const _0x7a360f=a53_0x2d53;this['irLockStatus']=all_typings_1[_0x7a360f(0x10c)]['running'];const _0x1e0c12={'success':![],'data':{'status':all_typings_1[_0x7a360f(0x10c)][_0x7a360f(0x110)]}},_0x4c22ef=serverUDP_1[_0x7a360f(0x134)]['getTelemetryData'](),_0x20737a={'dropAlt':_0x4c22ef[_0x7a360f(0x123)][_0x7a360f(0x12a)][_0x7a360f(0x117)]+_0x1f1c20[_0x7a360f(0x107)],'azimuth':_0x1f1c20[_0x7a360f(0x130)],'lat':_0x1f1c20[_0x7a360f(0x108)][_0x7a360f(0x10a)],'lon':_0x1f1c20[_0x7a360f(0x108)]['lon']};airVechicleManager_1[_0x7a360f(0x115)]['clearAllForceIntervals'](),Utils_1['Utils'][_0x7a360f(0x133)](_0x7a360f(0x128),_0x20737a,_0x2b3dc1=>{const _0x45781e=_0x7a360f;_0x2b3dc1['success']?Utils_1[_0x45781e(0x121)][_0x45781e(0x133)](_0x45781e(0x12f),{},_0x4e2988=>{const _0x2c9d1d=_0x45781e;_0x4e2988[_0x2c9d1d(0x11b)]?Utils_1[_0x2c9d1d(0x121)][_0x2c9d1d(0x10f)](serverUDP_1[_0x2c9d1d(0x134)][_0x2c9d1d(0x10e)])['then'](_0x2918dc=>{const _0x5c854e=_0x2c9d1d;_0x1e0c12['success']=_0x2918dc['success'],!_0x1e0c12[_0x5c854e(0x11b)]&&(_0x1e0c12[_0x5c854e(0x104)][_0x5c854e(0x103)](_0x5c854e(0x127)+serverUDP_1['UdpServer'][_0x5c854e(0x113)]()),Logger_1[_0x5c854e(0x109)][_0x5c854e(0x105)](_0x5c854e(0x12b),_0x5c854e(0x111),_0x5c854e(0x12d),{'response':_0x1e0c12,'request':_0x1f1c20},all_typings_1[_0x5c854e(0x112)][_0x5c854e(0x131)])),_0x4efad4(_0x1e0c12);})['catch'](_0x687974=>{_0x285ddd(_0x1e0c12);}):(_0x1e0c12[_0x2c9d1d(0x104)]['push']('could\x20not\x20start\x20mission'),_0x1e0c12[_0x2c9d1d(0x104)]=_0x1e0c12[_0x2c9d1d(0x104)][_0x2c9d1d(0x13a)](_0x2b3dc1[_0x2c9d1d(0x104)]),Logger_1[_0x2c9d1d(0x109)]['json'](_0x2c9d1d(0x12b),'irLockManager','startIrLock',{'response':_0x1e0c12,'request':_0x1f1c20},all_typings_1['LOG_LEVEL'][_0x2c9d1d(0x131)]),_0x285ddd(_0x1e0c12));}):(_0x1e0c12[_0x45781e(0x104)][_0x45781e(0x103)]('could\x20not\x20load\x20precision\x20mission'),_0x1e0c12[_0x45781e(0x104)]=_0x1e0c12[_0x45781e(0x104)][_0x45781e(0x13a)](_0x2b3dc1[_0x45781e(0x104)]),Logger_1[_0x45781e(0x109)][_0x45781e(0x105)]('node.js','irLockManager',_0x45781e(0x12d),{'response':_0x1e0c12,'request':_0x1f1c20},all_typings_1[_0x45781e(0x112)][_0x45781e(0x131)]),_0x285ddd(_0x1e0c12));});});},this[_0x36fb4d(0x119)]=()=>{return new Promise((_0x13c9ba,_0xe3d11)=>{const _0x3cb1ec=a53_0x2d53;this[_0x3cb1ec(0x138)]=all_typings_1[_0x3cb1ec(0x10c)][_0x3cb1ec(0x136)];const _0x3889ad={'success':!![],'data':{'status':all_typings_1[_0x3cb1ec(0x10c)][_0x3cb1ec(0x136)]}};_0x13c9ba(_0x3889ad);});},this['dropPackage']=_0x1ea64a=>{return new Promise((_0x176e6c,_0x38c9d3)=>{const _0x3442d1=a53_0x2d53,_0x157673={'success':![]};Utils_1[_0x3442d1(0x121)][_0x3442d1(0x133)](_0x3442d1(0x125),_0x1ea64a,_0x759b98=>{const _0x23febf=_0x3442d1;_0x759b98['success']?(_0x157673[_0x23febf(0x11b)]=!![],_0x176e6c(_0x157673)):(_0x157673['message'][_0x23febf(0x103)]('could\x20not\x20drop\x20package'),_0x157673['message']=_0x157673[_0x23febf(0x104)]['concat'](_0x759b98[_0x23febf(0x104)]),Logger_1[_0x23febf(0x109)][_0x23febf(0x105)](_0x23febf(0x12b),_0x23febf(0x111),_0x23febf(0x135),{'response':_0x157673,'request':{}},all_typings_1[_0x23febf(0x112)][_0x23febf(0x131)]),_0x38c9d3(_0x157673));});});};}}exports[a53_0x5903a7(0x11d)]=IrLockManager,IrLockManager['instance']=new IrLockManager(),IrLockManager[a53_0x5903a7(0x12d)]=IrLockManager['instance'][a53_0x5903a7(0x12d)],IrLockManager['stopIrLock']=IrLockManager[a53_0x5903a7(0x139)][a53_0x5903a7(0x119)],IrLockManager['getIrStatus']=IrLockManager['instance'][a53_0x5903a7(0x10d)],IrLockManager['dropPackage']=IrLockManager[a53_0x5903a7(0x139)]['dropPackage'];