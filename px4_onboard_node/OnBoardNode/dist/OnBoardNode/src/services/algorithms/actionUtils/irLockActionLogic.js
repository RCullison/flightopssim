'use strict';function a40_0x276d(){const _0x8deb5c=['../../irLock/irLockManager','azimuth','131643HdPOix','24yAypIU','json','stopIrLock','IrLockManager','node.js','endAction','LOG_LEVEL','toISOString','INFO','getTelemetryData','IrLockActionLogic','../../../../../classes/typings/all.typings','catch','success','211320qvUiPv','|\x20startOpticLockAction\x20|','log','../../../logger/Logger','\x20actionId:','start','requestedAltitude','heading','282672Gwgwkr','actionId','../../TCPUDP/serverUDP','startIrLock','2qgMjBv','action','then','1164384XOsiya','__esModule','380317ibASLU','67695mEIoWA','1172300plTVHI','actionConfig','startAction','lodash','stringify','UdpServer','Logger','geoPoint','name','defineProperty'];a40_0x276d=function(){return _0x8deb5c;};return a40_0x276d();}const a40_0x2ef9b9=a40_0x3cba;(function(_0x5a9b8d,_0x2ffb49){const _0x4c6929=a40_0x3cba,_0x192ddb=_0x5a9b8d();while(!![]){try{const _0x4edd83=parseInt(_0x4c6929(0x19f))/0x1*(-parseInt(_0x4c6929(0x1ba))/0x2)+parseInt(_0x4c6929(0x1b6))/0x3+parseInt(_0x4c6929(0x1c1))/0x4+-parseInt(_0x4c6929(0x1c0))/0x5+-parseInt(_0x4c6929(0x1bd))/0x6+parseInt(_0x4c6929(0x1bf))/0x7+parseInt(_0x4c6929(0x1a0))/0x8*(parseInt(_0x4c6929(0x1ae))/0x9);if(_0x4edd83===_0x2ffb49)break;else _0x192ddb['push'](_0x192ddb['shift']());}catch(_0x691fcf){_0x192ddb['push'](_0x192ddb['shift']());}}}(a40_0x276d,0x2a318));function a40_0x3cba(_0x4203bc,_0x542f7d){const _0x276d0c=a40_0x276d();return a40_0x3cba=function(_0x3cba43,_0x3ea03d){_0x3cba43=_0x3cba43-0x199;let _0x5cffd6=_0x276d0c[_0x3cba43];return _0x5cffd6;},a40_0x3cba(_0x4203bc,_0x542f7d);}Object[a40_0x2ef9b9(0x19c)](exports,a40_0x2ef9b9(0x1be),{'value':!![]}),exports[a40_0x2ef9b9(0x1aa)]=void 0x0;const irLockManager_1=require(a40_0x2ef9b9(0x19d)),_=require(a40_0x2ef9b9(0x1c4)),all_typings_1=require(a40_0x2ef9b9(0x1ab)),Logger_1=require(a40_0x2ef9b9(0x1b1)),serverUDP_1=require(a40_0x2ef9b9(0x1b8));class IrLockActionLogic{constructor(){const _0x19a646=a40_0x2ef9b9;this[_0x19a646(0x1c3)]=(_0xf926f,_0x242382)=>{return new Promise((_0x259b21,_0x338c4e)=>{const _0xea76d7=a40_0x3cba;let _0x33bf1a={'success':![]};const _0x985269=_0xf926f[_0xea76d7(0x1bb)];this['log'](_0xea76d7(0x1af),JSON[_0xea76d7(0x1c5)](_0xf926f)),_0x33bf1a[_0xea76d7(0x1ad)]=!![],console[_0xea76d7(0x1b0)](new Date()[_0xea76d7(0x1a7)](),'|\x20start\x20OpticLockAction\x20|',_0xea76d7(0x1b2),JSON[_0xea76d7(0x1c5)](_0xf926f[_0xea76d7(0x1b7)])),this[_0xea76d7(0x1c2)]['irLock'][_0xea76d7(0x1b3)](_0x985269,_0x242382)[_0xea76d7(0x1bc)](_0x40383f=>{_0x259b21(_0x40383f);})[_0xea76d7(0x1ac)](_0x57e7ad=>{_0x338c4e(_0x57e7ad);});});},this[_0x19a646(0x1a5)]=_0x219c0f=>{return new Promise((_0x389567,_0x2f9434)=>{const _0x10d5bf=a40_0x3cba;let _0x5cb9ac={'success':![]};const _0x7646f3=_0x219c0f[_0x10d5bf(0x1bb)];this['log']('|\x20endOpticLockAction\x20|',JSON[_0x10d5bf(0x1c5)](_0x219c0f)),_0x5cb9ac[_0x10d5bf(0x1ad)]=!![],_0x389567(_0x5cb9ac);});},this[_0x19a646(0x1b9)]=(_0x58f635,_0xb08b29)=>{return new Promise((_0x321ff0,_0x580b47)=>{const _0x290c5d=a40_0x3cba,_0x4f362a={'azimuth':!isNaN(_0x58f635[_0x290c5d(0x19e)])?_0x58f635[_0x290c5d(0x19e)]:serverUDP_1[_0x290c5d(0x1c6)][_0x290c5d(0x1a9)]()[_0x290c5d(0x1b5)],'requestedAltitude':_0x58f635[_0x290c5d(0x1b4)],'dropGeoPoint':_0xb08b29['actionPoint'][_0x290c5d(0x19a)]};irLockManager_1[_0x290c5d(0x1a3)][_0x290c5d(0x1b9)](_0x4f362a)['then'](_0x2288f2=>{_0x321ff0(_0x2288f2);})[_0x290c5d(0x1ac)](_0x55dcd7=>{_0x580b47(_0x55dcd7);});});},this[_0x19a646(0x1a2)]=_0x13f4c6=>{return new Promise((_0x57a5a4,_0x2dff31)=>{const _0x2104ec=a40_0x3cba;irLockManager_1[_0x2104ec(0x1a3)][_0x2104ec(0x1a2)]()[_0x2104ec(0x1bc)](_0x146a5a=>{_0x57a5a4(_0x146a5a);})[_0x2104ec(0x1ac)](_0x5ea50d=>{_0x2dff31(_0x5ea50d);});});},this[_0x19a646(0x1b0)]=(_0x1aacdb,_0x299756,_0x17fae0=all_typings_1[_0x19a646(0x1a6)][_0x19a646(0x1a8)])=>{const _0x5d7dbf=_0x19a646;Logger_1[_0x5d7dbf(0x199)][_0x5d7dbf(0x1a1)](_0x5d7dbf(0x1a4),IrLockActionLogic[_0x5d7dbf(0x19b)],_0x1aacdb,{'string':_0x299756},all_typings_1[_0x5d7dbf(0x1a6)][_0x5d7dbf(0x1a8)]);},this[_0x19a646(0x1c2)]={'irLock':{'start':this[_0x19a646(0x1b9)],'stop':this[_0x19a646(0x1a2)]}};}}exports[a40_0x2ef9b9(0x1aa)]=IrLockActionLogic;