'use strict';const a28_0x870c9f=a28_0x9753;(function(_0x68ab3b,_0xd10ee2){const _0x2778f7=a28_0x9753,_0x41c35b=_0x68ab3b();while(!![]){try{const _0x2d7e5a=parseInt(_0x2778f7(0xa8))/0x1*(-parseInt(_0x2778f7(0x167))/0x2)+-parseInt(_0x2778f7(0x177))/0x3+parseInt(_0x2778f7(0x149))/0x4+-parseInt(_0x2778f7(0x14f))/0x5+-parseInt(_0x2778f7(0x185))/0x6+-parseInt(_0x2778f7(0x184))/0x7*(-parseInt(_0x2778f7(0x14d))/0x8)+parseInt(_0x2778f7(0x191))/0x9;if(_0x2d7e5a===_0xd10ee2)break;else _0x41c35b['push'](_0x41c35b['shift']());}catch(_0x359953){_0x41c35b['push'](_0x41c35b['shift']());}}}(a28_0x50e3,0xd232d));function a28_0x50e3(){const _0x74f0fc=['onBoardNodeJsService','velocity','maxTimeOutDontChangeStatusArmInSec','remaining_percent','set\x20LAND\x20home\x20ASL\x20real:\x20','getLastTelemetryTimestamp','stack','address','flightCommandServiceStatus','\x20PX:\x20','start\x20receiving\x20telemetry\x20from\x20CPP','Home\x20point\x20was\x20not\x20changed\x20in\x20FC','./clientUDP','listen.onError','REAL_LAND_ASL','sendUDPWithoutCheck','Utils','CRITICAL','CPP','projConf','telemetry','update','ERROR','telemetryData','setMinEnergyRTH','../algorithmStatus/algorithmStatusManager','winch','armStatus','text','droneService','publish','prevHomeLocation','isSaveTelemetry','LoggerTelemetry','atan2','5598160tigyzs','FLIGHT_MODE_PX4_ENUM','switchVirtualRC','POSCTL','88ODVrNO','setMatrixDataCreationTime','7577880IXSfwL','keepAlive','REAL_TAKEOFF_ASL','../../Utils','_telemetryData','ClientUDP','sendTelemetryToMoveXY','fileName','isVirtualRCTouched','TelemetryServiceData','set_home','catch','matrixDataCreationTime','PX_TAKEOFF_ASL','FLIGHT_MODE_PX4','down_m_s','isTelemetryTrueNotation','assign','minEnergy','setLastHome','yaw','telemetry_now','round','Logger','32636xJkPcD','lastTimeUpdateArm','altitude','setTelemetryGimbal','flight_mode','getModeLand','convert','type','keys','FLIGHT_MODE_ARDUPILOT','getEnergyPercent','positionVelocityNED','updateMoveXYTelemetry','longitude','east_m_s','../lidar/lidarManager','2598462QPetvH','then','getModeHold','allowedId','latitude_deg','getControl','PX_LAND_ASL','dgram','server\x20error:\x0a','\x20isUpdateHomeInTelemetryToo:\x20','missionStatus','setOwner','isCalculatedAltAfterChangeHome','397551lgSNXY','7521192pfIrpw','!!!!!\x20isRCTouched','node.js','number','setWaypointsStatus','getDistanceFromHome','armed','pitch','save2File','RETURN_TO_LAUNCH','log','setIsTemporaryManual','29297124hMeJSA','concat','localhost','last_change_time','copterType','gps_position','cloneDeep','currentFlightMode','===================================','family','getModeMission','sendWinchTelemetry','AirVehicleManager','gpsHealth','setLastTimeStartedLand','MODE_RTL','../../../../classes/typings/ob-node-types','error','height_above_takeoff','state','MISSION','toString','roll','createSocket','updatedTelemetry','takeoffASLHeight','Start','../../logger/LoggerTelemetry','hasOwnProperty','serverUDP','statusText','didn\x27t\x20send\x20telemetry\x20to\x20FCS\x20-\x20no\x20UdpServer.telemetry_now','../../../../classes/typings/all.typings','getTelemetryData','isAllowSendRequests','-----------','testPercent','MODE_LAND','getWaypointsStatus','setKeepAlive','../airVehicle/airVechicleManager','ALGORITHM_STATUS','lastHome','server\x20UDP\x20listening\x20','data','owner','config','MOVE_XY','48IwMZDA','current','saveLastHome','control','sendToWS','battery_state','heading','ACTION_TYPE','sendSetHomeToPixhawk','CONTROL','../AccurateLanding','getHomePointDiff','listening','Ardupilot','message','getGpsHealth','name','MODE_BRAKE','LidarManager','subscribeProgress','getTelemetryNow','MODE_ENUM_HOLD','isArmed','minPercent','../../../../classes/typings/ds.typings','HOLD','telemetryConfig','total','recousiveUpdate','EventEmitterService','percentage','getOwner','websocketRooms','homeData','gimbal','latitude','setIsOnMissionLanging','num','flightMode','cos','COPTER_TYPE','emit','battery','corridorPoint','socketio','velocityNED','getIsRCTouched','timeStamp','Can\x27t\x20set\x20home\x20-\x20incorrect\x20ASL\x20height','OWNER','../../logger/Logger','isTemporaryManual','updateTemetry4Send2FCS','success','getFlightModeEnum','instance','UdpServer','pixhawk\x20cant\x20set_home','quaternion','now','longitude_deg','INFO','stringify','stop','start','listen.onMessage_catchE','CSV2JSON','timeToOnboardRHSec','set_home\x20success','TAKEOFF','AccurateLanding','info','MODE_AUTO','ALS','my10hz','is_armed','setAirVechicleStatus','getVelocity','getMissionStatus','position','LOG_LEVEL','setAllowedId','parse','joystick',',\x20PX:\x20','udp4','north_m_s','homePosition','__esModule','defineProperty','isRCTouched','externalSortConfig','set_home\x20fail:\x20','changeHomeTimeout','host','stopAccurateLand','json','getModeBrake','distance_from_home','getAlgorithmStatus','addToSortConfig','isChangedHome','../scv2json','voltage_v','fix_type','absolute_altitude_m','lidarData','PX4','STATUS_TEXT_TYPE','ARMED','../../../../../../config/services.json','listen','homeLocation','getDistanceInMeter','sin','getCurTelemetryOriginal','MODE_ALT_HOLD','my2hz','wayPoints','getFlightMode','clearWaypointsPoints','LAND','relative_altitude_m','status','landASLHeight','getHeightAboveTakeoff'];a28_0x50e3=function(){return _0x74f0fc;};return a28_0x50e3();}Object[a28_0x870c9f(0x101)](exports,a28_0x870c9f(0x100),{'value':!![]}),exports[a28_0x870c9f(0xe0)]=void 0x0;const dgram_1=require(a28_0x870c9f(0x17e)),TelemetryServiceData_1=require('../../TelemetryServiceData'),Logger_1=require(a28_0x870c9f(0xda)),all_typings_1=require(a28_0x870c9f(0x98)),ob_node_types_1=require(a28_0x870c9f(0x88)),ds_typings_1=require(a28_0x870c9f(0xc0)),Utils_1=require(a28_0x870c9f(0x152)),EventEmitterService_1=require('../EventEmitterService'),scv2json_1=require(a28_0x870c9f(0x10e)),LoggerTelemetry_1=require(a28_0x870c9f(0x93)),airVechicleManager_1=require(a28_0x870c9f(0xa0)),AccurateLanding_1=require(a28_0x870c9f(0xb2)),VisualLanding_1=require('../VisualLanding'),clientUDP_1=require(a28_0x870c9f(0x132)),algorithmStatusManager_1=require(a28_0x870c9f(0x13f)),lidarManager_1=require(a28_0x870c9f(0x176)),serviceConf=require(a28_0x870c9f(0x116)),moveXYUdpPort=serviceConf[a28_0x870c9f(0xa7)]['serverUDP'],moveXYUDPHost=serviceConf[a28_0x870c9f(0xa7)][a28_0x870c9f(0x106)],ALSUDPPort=serviceConf[a28_0x870c9f(0xf1)][a28_0x870c9f(0x95)],ALSUDPHost=serviceConf['ALS'][a28_0x870c9f(0x106)],projConf=require('../../../../../../projConf.json'),server=(0x0,dgram_1[a28_0x870c9f(0x8f)])(a28_0x870c9f(0xfd)),_=require('lodash');function a28_0x9753(_0x19bb03,_0x10964d){const _0x50e3af=a28_0x50e3();return a28_0x9753=function(_0x9753b5,_0x42c321){_0x9753b5=_0x9753b5-0x85;let _0x19b308=_0x50e3af[_0x9753b5];return _0x19b308;},a28_0x9753(_0x19bb03,_0x10964d);}class UdpServer{constructor(){const _0x189683=a28_0x870c9f;this[_0x189683(0x103)]={},this[_0x189683(0x90)]=_0x28b72f=>{const _0x34616a=_0x189683;for(const _0x1e7d1b in this[_0x34616a(0x103)]['telemetry']){this[_0x34616a(0x103)][_0x34616a(0x13a)][_0x34616a(0x94)](_0x1e7d1b)&&this[_0x34616a(0x103)][_0x34616a(0x13a)][_0x1e7d1b](_0x28b72f);}},this[_0x189683(0x10c)]=_0x265cde=>{const _0x531c4c=_0x189683;for(const _0x1c7528 in _0x265cde){_0x265cde[_0x531c4c(0x94)](_0x1c7528)&&(this['externalSortConfig'][_0x1c7528]=Object[_0x531c4c(0x160)](Object['assign']({},this[_0x531c4c(0x103)][_0x1c7528]),{'listener':_0x265cde[_0x1c7528]}));}},this['listen']=(_0x9c3e15,_0x332f1f)=>{const _0x21d175=_0x189683;this[_0x21d175(0xd4)]=_0x332f1f,this[_0x21d175(0x139)]=_0x9c3e15,UdpServer[_0x21d175(0x195)]=this[_0x21d175(0x139)][_0x21d175(0x126)][_0x21d175(0x195)],server['on']('error',_0x2e2754=>{const _0x8396d0=_0x21d175;console[_0x8396d0(0x89)](_0x8396d0(0x17f)+_0x2e2754[_0x8396d0(0x12c)]),Logger_1[_0x8396d0(0x166)]['json'](_0x8396d0(0x187),UdpServer[_0x8396d0(0xb8)],_0x8396d0(0x133),{'string':_0x2e2754['stack']},all_typings_1[_0x8396d0(0xf8)]['ERROR']);}),server['on'](_0x21d175(0xb6),(_0xe8e11c,_0x292253)=>{const _0x2b6983=_0x21d175;let _0x4105da;_0x4105da=scv2json_1[_0x2b6983(0xea)][_0x2b6983(0x16d)](_0xe8e11c[_0x2b6983(0x8d)]());if(_0x4105da)_0x4105da&&_0x4105da[_0x2b6983(0x140)]&&(UdpServer['telemetry_now'][_0x2b6983(0x140)]=_0x4105da[_0x2b6983(0x140)]),UdpServer[_0x2b6983(0x13b)](_0x4105da),_0x4105da[_0x2b6983(0x96)]&&Logger_1[_0x2b6983(0x166)][_0x2b6983(0x108)]('CPP',UdpServer['name'],_0x2b6983(0x96),_0x4105da['statusText'][_0x2b6983(0x142)],ob_node_types_1[_0x2b6983(0x114)]['num'+_0x4105da[_0x2b6983(0x96)][_0x2b6983(0x16e)]]);else try{_0x4105da=JSON[_0x2b6983(0xfa)](_0xe8e11c[_0x2b6983(0x8d)]()),UdpServer[_0x2b6983(0x13b)](_0x4105da),_0x4105da[_0x2b6983(0x96)]&&Logger_1['Logger'][_0x2b6983(0x108)](_0x2b6983(0x138),UdpServer[_0x2b6983(0xb8)],_0x2b6983(0x96),_0x4105da[_0x2b6983(0x96)]['text'],ob_node_types_1[_0x2b6983(0x114)][_0x2b6983(0xcd)+_0x4105da[_0x2b6983(0x96)][_0x2b6983(0x16e)]]);}catch(_0x2dcf2f){Logger_1[_0x2b6983(0x166)][_0x2b6983(0x108)]('node.js',UdpServer['name'],_0x2b6983(0xe9),{'string':_0x2dcf2f,'message':_0xe8e11c[_0x2b6983(0x8d)]()},all_typings_1['LOG_LEVEL']['ERROR']);}this[_0x2b6983(0x90)](UdpServer['_telemetryData']);}),server['on'](_0x21d175(0xb4),()=>{const _0x5716df=_0x21d175,_0x7c7bc3=server[_0x5716df(0x12d)]();console['log'](_0x5716df(0xa3)+_0x7c7bc3['address']+':'+_0x7c7bc3['port']+','+_0x7c7bc3[_0x5716df(0x19a)]);}),server['bind'](_0x9c3e15[_0x21d175(0x126)][_0x21d175(0x95)]),this[_0x21d175(0xac)]();},this['sendToWS']=()=>{const _0x1bb4d0=_0x189683;setInterval(()=>{const _0x2e5b6c=a28_0x9753,_0x1bb01a=UdpServer['getTelemetryData']();Date[_0x2e5b6c(0xe3)]()-UdpServer[_0x2e5b6c(0x153)]['last_change_time']<0x3e8&&(this['socketio']['emit'](this[_0x2e5b6c(0x139)]['onBoardNodeJsService'][_0x2e5b6c(0xc8)]['my'],UdpServer[_0x2e5b6c(0x153)]),UdpServer['sendWinchTelemetry']());},this[_0x1bb4d0(0x139)]['onBoardNodeJsService']['periodSendTelemetry']*0x3e8),setInterval(()=>{const _0x42d2f9=_0x1bb4d0;Date['now']()-UdpServer['_telemetryData'][_0x42d2f9(0x194)]<0xc8&&this['socketio'][_0x42d2f9(0xd1)](this[_0x42d2f9(0x139)][_0x42d2f9(0x126)][_0x42d2f9(0xc8)]['my5hz'],UdpServer['_telemetryData']);},0xc8),setInterval(()=>{const _0x32468e=_0x1bb4d0;Date[_0x32468e(0xe3)]()-UdpServer[_0x32468e(0x153)][_0x32468e(0x194)]<0x1f4&&this['socketio'][_0x32468e(0xd1)](this[_0x32468e(0x139)][_0x32468e(0x126)][_0x32468e(0xc8)][_0x32468e(0x11d)],UdpServer['_telemetryData']);},0x1f4),setInterval(()=>{const _0x461fc8=_0x1bb4d0;UdpServer[_0x461fc8(0xdc)](),Date[_0x461fc8(0xe3)]()-UdpServer[_0x461fc8(0x153)][_0x461fc8(0x194)]<0x6e&&(this[_0x461fc8(0xd4)][_0x461fc8(0xd1)](this['projConf']['onBoardNodeJsService'][_0x461fc8(0xc8)][_0x461fc8(0xf2)],UdpServer[_0x461fc8(0x153)]),UdpServer[_0x461fc8(0x155)](),UdpServer['sendUdpToALS']());},0x64);},UdpServer[_0x189683(0x153)]=TelemetryServiceData_1[_0x189683(0x158)][_0x189683(0xa4)],UdpServer[_0x189683(0x164)]=TelemetryServiceData_1[_0x189683(0x158)]['telemetryNow'],UdpServer[_0x189683(0xc2)]=TelemetryServiceData_1[_0x189683(0x158)][_0x189683(0xa6)];}static get[a28_0x870c9f(0x13d)](){const _0x1557ec=a28_0x870c9f;return this[_0x1557ec(0x153)];}static[a28_0x870c9f(0xc4)](_0x45e6ee,_0x2bbde4){const _0x5b7d53=a28_0x870c9f;for(let _0x2fbcfe of Object[_0x5b7d53(0x16f)](_0x2bbde4)){if(_0x45e6ee[_0x5b7d53(0x94)](_0x2fbcfe)){if(typeof _0x45e6ee[_0x2fbcfe]==='object'&&typeof _0x2bbde4[_0x2fbcfe]==='object')for(let _0x17ed6d of Object[_0x5b7d53(0x16f)](_0x2bbde4[_0x2fbcfe])){typeof _0x45e6ee[_0x2fbcfe][_0x17ed6d]===_0x5b7d53(0x188)&&typeof _0x45e6ee[_0x2fbcfe][_0x17ed6d]===_0x5b7d53(0x188)?_0x2bbde4[_0x2fbcfe][_0x17ed6d]=_0x45e6ee[_0x2fbcfe][_0x17ed6d]:_0x45e6ee[_0x2fbcfe]=UdpServer[_0x5b7d53(0xc4)](_0x45e6ee[_0x2fbcfe],_0x2bbde4);}else typeof _0x45e6ee[_0x2fbcfe]===_0x5b7d53(0x188)&&typeof _0x45e6ee[_0x2fbcfe]===_0x5b7d53(0x188)&&(_0x2bbde4[_0x2fbcfe]=_0x45e6ee[_0x2fbcfe]);}else{}}return _0x45e6ee;}static[a28_0x870c9f(0xdc)](){const _0x58dbb5=a28_0x870c9f;if(UdpServer[_0x58dbb5(0x164)]&&(UdpServer[_0x58dbb5(0x164)]['quaternion']['z']!==0x0&&UdpServer[_0x58dbb5(0x164)]['quaternion']['x']!==0x0&&UdpServer[_0x58dbb5(0x164)][_0x58dbb5(0xe2)]['y']!==0x0&&UdpServer[_0x58dbb5(0x164)][_0x58dbb5(0xe2)]['w']!==0x0||UdpServer[_0x58dbb5(0x164)][_0x58dbb5(0xd2)]['voltage_v']!=0x0)&&Date['now']()-UdpServer['telemetry_now']['timeStamp']<0x3e8)UdpServer[_0x58dbb5(0x153)][_0x58dbb5(0xad)][_0x58dbb5(0xc6)]=UdpServer[_0x58dbb5(0x171)](),UdpServer[_0x58dbb5(0x153)][_0x58dbb5(0xad)]['voltage']=UdpServer[_0x58dbb5(0x164)][_0x58dbb5(0xd2)][_0x58dbb5(0x10f)],UdpServer[_0x58dbb5(0x153)][_0x58dbb5(0x10a)]=UdpServer[_0x58dbb5(0x18a)](),UdpServer[_0x58dbb5(0x153)][_0x58dbb5(0x8a)]=UdpServer[_0x58dbb5(0x125)](),UdpServer['_telemetryData']['gps_health']=UdpServer[_0x58dbb5(0xb7)](),UdpServer[_0x58dbb5(0x153)][_0x58dbb5(0xae)]=UdpServer['getHeading'](),UdpServer[_0x58dbb5(0x153)][_0x58dbb5(0x127)]=UdpServer[_0x58dbb5(0xf5)](UdpServer[_0x58dbb5(0x153)][_0x58dbb5(0xae)]),UdpServer['_telemetryData'][_0x58dbb5(0x196)][_0x58dbb5(0x169)]=UdpServer[_0x58dbb5(0x164)][_0x58dbb5(0xf7)][_0x58dbb5(0x111)],UdpServer['_telemetryData']['gps_position'][_0x58dbb5(0xcb)]=UdpServer[_0x58dbb5(0x164)][_0x58dbb5(0xf7)]['latitude_deg'],UdpServer['_telemetryData']['gps_position'][_0x58dbb5(0x174)]=UdpServer[_0x58dbb5(0x164)][_0x58dbb5(0xf7)]['longitude_deg'],UdpServer['_telemetryData'][_0x58dbb5(0x112)]=lidarManager_1[_0x58dbb5(0xba)]['getHeightAboveCurrentPoint'](),UdpServer[_0x58dbb5(0x153)][_0x58dbb5(0x8b)][_0x58dbb5(0x18b)]=UdpServer[_0x58dbb5(0x164)][_0x58dbb5(0x141)][_0x58dbb5(0xf3)],UdpServer[_0x58dbb5(0x153)][_0x58dbb5(0xa5)]=UdpServer['getOwner'](),UdpServer[_0x58dbb5(0x153)][_0x58dbb5(0x11e)][_0x58dbb5(0x123)]=UdpServer[_0x58dbb5(0x9e)](),UdpServer[_0x58dbb5(0x153)]['last_change_time']=UdpServer[_0x58dbb5(0x164)][_0x58dbb5(0xd7)],UdpServer['_telemetryData'][_0x58dbb5(0xab)]=UdpServer['getControl'](),UdpServer[_0x58dbb5(0x153)]['algorithmStatus']=algorithmStatusManager_1['AlgorithmStatusManager'][_0x58dbb5(0x10b)](),this[_0x58dbb5(0x198)]!==UdpServer[_0x58dbb5(0x164)]['flightMode'][_0x58dbb5(0x16b)]&&(this[_0x58dbb5(0x198)]=UdpServer[_0x58dbb5(0x164)][_0x58dbb5(0xce)]['flight_mode'],Logger_1['Logger'][_0x58dbb5(0x108)](_0x58dbb5(0x187),_0x58dbb5(0x9b),'flightMode:\x20'+this['getFlightModeEnum'](),'',all_typings_1[_0x58dbb5(0xf8)][_0x58dbb5(0xe5)])),EventEmitterService_1[_0x58dbb5(0xc5)][_0x58dbb5(0x144)](EventEmitterService_1[_0x58dbb5(0xc5)]['config']()[_0x58dbb5(0x13a)],UdpServer[_0x58dbb5(0x153)]),this['isTelemetryTrueNotation']&&console[_0x58dbb5(0x18f)](new Date(),_0x58dbb5(0x130)),this[_0x58dbb5(0x15f)]=![];else{!this['isTelemetryTrueNotation']&&(this[_0x58dbb5(0x15f)]=!![],console['log'](_0x58dbb5(0x199)),console[_0x58dbb5(0x18f)](new Date(),'didn\x27t\x20get\x20true\x20telemetry\x20from\x20CPP'),console[_0x58dbb5(0x18f)](_0x58dbb5(0x199)));if(UdpServer[_0x58dbb5(0x164)]){}else console['log'](new Date(),_0x58dbb5(0x97));}const _0x444f54=UdpServer[_0x58dbb5(0x99)]()[_0x58dbb5(0xab)]===ob_node_types_1['CONTROL']['pilot']?![]:!![];(UdpServer[_0x58dbb5(0x153)][_0x58dbb5(0xa5)]===ds_typings_1[_0x58dbb5(0xd9)][_0x58dbb5(0xfb)]||!_0x444f54)&&(airVechicleManager_1[_0x58dbb5(0x19d)]['clearAllForceIntervals'](),VisualLanding_1['VisualLanding']['stopVisualLanding'](),AccurateLanding_1[_0x58dbb5(0xee)][_0x58dbb5(0x107)]());}static[a28_0x870c9f(0x99)](){const _0x1fdf41=a28_0x870c9f;return this[_0x1fdf41(0x153)];}static[a28_0x870c9f(0xbc)](){const _0x5eca91=a28_0x870c9f;return this[_0x5eca91(0x164)];}static['getFlightMode'](){const _0x5adf60=a28_0x870c9f;return this[_0x5adf60(0x164)][_0x5adf60(0xce)][_0x5adf60(0x16b)];}static[a28_0x870c9f(0xde)](){const _0x247c2f=a28_0x870c9f;let _0xfc95d8;if(UdpServer[_0x247c2f(0x195)]==ob_node_types_1[_0x247c2f(0xd0)]['PX4'])_0xfc95d8=ob_node_types_1[_0x247c2f(0x14a)][_0x247c2f(0xcd)+this[_0x247c2f(0x164)][_0x247c2f(0xce)]['flight_mode']];else UdpServer['copterType']==ob_node_types_1['COPTER_TYPE'][_0x247c2f(0xb5)]&&(_0xfc95d8=ob_node_types_1['FLIGHT_MODE_ARDUPILOT_ENUM'][_0x247c2f(0xcd)+this['telemetry_now'][_0x247c2f(0xce)][_0x247c2f(0x16b)]]);return _0xfc95d8;}static[a28_0x870c9f(0x16a)](_0x592976,_0x2b5181,_0x4a3d44){const _0x26f746=a28_0x870c9f;this[_0x26f746(0x153)][_0x26f746(0xca)][_0x26f746(0x18c)]=_0x4a3d44,this[_0x26f746(0x153)][_0x26f746(0xca)][_0x26f746(0x8e)]=_0x2b5181,this[_0x26f746(0x153)][_0x26f746(0xca)][_0x26f746(0x163)]=_0x592976,this[_0x26f746(0x153)][_0x26f746(0xca)]['timestamp']=Date[_0x26f746(0xe3)]();}static[a28_0x870c9f(0xcc)](_0x60b376){return this['_telemetryData']['isOnMissionLanging']=_0x60b376;}static[a28_0x870c9f(0x14e)](_0x4141b9){const _0x1e1be6=a28_0x870c9f;this[_0x1e1be6(0x153)][_0x1e1be6(0x15b)]=_0x4141b9;}static[a28_0x870c9f(0xf9)](_0x4e4e70){const _0x2c05ff=a28_0x870c9f;this['_telemetryData'][_0x2c05ff(0x17a)]=_0x4e4e70;}static[a28_0x870c9f(0x189)](_0x706fe8){const _0x106c6e=a28_0x870c9f;this[_0x106c6e(0x153)][_0x106c6e(0x11e)][_0x106c6e(0x123)]=_0x706fe8;}static[a28_0x870c9f(0x9f)](_0x47e4ea){const _0x1bf7ea=a28_0x870c9f;this[_0x1bf7ea(0x153)][_0x1bf7ea(0x150)]=_0x47e4ea;}static[a28_0x870c9f(0x13e)](_0xb460cb){const _0x522034=a28_0x870c9f;this[_0x522034(0x153)][_0x522034(0x161)]=_0xb460cb;}static['setOwner'](_0x2cc874){const _0xed240=a28_0x870c9f;this[_0xed240(0x153)][_0xed240(0xa5)]=_0x2cc874;}static[a28_0x870c9f(0xc7)](){const _0x48bf89=a28_0x870c9f;return this[_0x48bf89(0x153)][_0x48bf89(0xa5)];}static[a28_0x870c9f(0x190)](_0x1ab2e3){const _0x2acd74=a28_0x870c9f;this[_0x2acd74(0x153)][_0x2acd74(0xdb)]=_0x1ab2e3;}static[a28_0x870c9f(0x11b)](){return this['telemetry_now'];}static[a28_0x870c9f(0xd6)](){const _0x67d08=a28_0x870c9f;return UdpServer[_0x67d08(0x102)];}static['getIsVirtualRCTouched'](){const _0x5bd73d=a28_0x870c9f;return UdpServer[_0x5bd73d(0x157)];}static get[a28_0x870c9f(0x16c)](){const _0x23dcc9=a28_0x870c9f;if(UdpServer[_0x23dcc9(0x195)]==ob_node_types_1['COPTER_TYPE'][_0x23dcc9(0x113)])return ob_node_types_1[_0x23dcc9(0x15d)][_0x23dcc9(0x121)];else{if(UdpServer['copterType']==ob_node_types_1[_0x23dcc9(0xd0)][_0x23dcc9(0xb5)])return ob_node_types_1[_0x23dcc9(0x170)][_0x23dcc9(0x9d)];}}static get['getModeTakeoff'](){const _0x5089f=a28_0x870c9f;if(UdpServer['copterType']==ob_node_types_1[_0x5089f(0xd0)][_0x5089f(0x113)])return ob_node_types_1[_0x5089f(0x15d)][_0x5089f(0xed)];else{if(UdpServer[_0x5089f(0x195)]==ob_node_types_1[_0x5089f(0xd0)]['Ardupilot'])return ob_node_types_1[_0x5089f(0x170)]['MODE_ENUM_TAKEOFF'];}}static get[a28_0x870c9f(0x179)](){const _0x2bf4db=a28_0x870c9f;if(UdpServer[_0x2bf4db(0x195)]==ob_node_types_1[_0x2bf4db(0xd0)][_0x2bf4db(0x113)])return ob_node_types_1[_0x2bf4db(0x15d)]['HOLD'];else{if(UdpServer['copterType']==ob_node_types_1[_0x2bf4db(0xd0)][_0x2bf4db(0xb5)])return ob_node_types_1[_0x2bf4db(0x170)][_0x2bf4db(0xbd)];}}static get[a28_0x870c9f(0x109)](){const _0x266e07=a28_0x870c9f;if(UdpServer[_0x266e07(0x195)]==ob_node_types_1[_0x266e07(0xd0)][_0x266e07(0x113)])return ob_node_types_1['FLIGHT_MODE_PX4'][_0x266e07(0xc1)];else{if(UdpServer['copterType']==ob_node_types_1[_0x266e07(0xd0)][_0x266e07(0xb5)])return ob_node_types_1[_0x266e07(0x170)][_0x266e07(0xb9)];}}static get[a28_0x870c9f(0x19b)](){const _0x49c635=a28_0x870c9f;if(UdpServer[_0x49c635(0x195)]==ob_node_types_1[_0x49c635(0xd0)][_0x49c635(0x113)])return ob_node_types_1[_0x49c635(0x15d)][_0x49c635(0x8c)];else{if(UdpServer['copterType']==ob_node_types_1[_0x49c635(0xd0)][_0x49c635(0xb5)])return ob_node_types_1[_0x49c635(0x170)][_0x49c635(0xf0)];}}static[a28_0x870c9f(0xf4)](_0x1ef864){const _0x3ad3bb=a28_0x870c9f;this[_0x3ad3bb(0x153)][_0x3ad3bb(0x181)]=_0x1ef864;}static[a28_0x870c9f(0x120)](){}}exports[a28_0x870c9f(0xe0)]=UdpServer,UdpServer[a28_0x870c9f(0xdf)]=new UdpServer(),UdpServer[a28_0x870c9f(0x102)]=![],UdpServer['isVirtualRCTouched']=![],UdpServer[a28_0x870c9f(0x198)]=-0x1,UdpServer['isTelemetryTrueNotation']=![],UdpServer[a28_0x870c9f(0x183)]=![],UdpServer[a28_0x870c9f(0x168)]={'ts':0x0,'status':![]},UdpServer['update']=_0x401e29=>{const _0x1d72b9=a28_0x870c9f;if(_0x401e29&&_0x401e29[_0x1d72b9(0xe2)]&&_0x401e29['quaternion']['z']!==0x0&&_0x401e29[_0x1d72b9(0xe2)]['x']!==0x0&&_0x401e29['quaternion']['y']!==0x0&&_0x401e29['quaternion']['w']!==0x0&&_0x401e29[_0x1d72b9(0x141)]){for(let _0x3ac30a of Object[_0x1d72b9(0x16f)](_0x401e29)){_0x401e29[_0x1d72b9(0x94)](_0x3ac30a)&&UdpServer[_0x1d72b9(0x164)][_0x1d72b9(0x94)](_0x3ac30a)&&(UdpServer[_0x1d72b9(0x164)][_0x3ac30a]=UdpServer[_0x1d72b9(0xc4)](_0x401e29[_0x3ac30a],UdpServer[_0x1d72b9(0x164)][_0x3ac30a]));}projConf[_0x1d72b9(0x126)][_0x1d72b9(0x146)]&&LoggerTelemetry_1[_0x1d72b9(0x147)][_0x1d72b9(0xef)]('telemetry',JSON[_0x1d72b9(0xe6)](UdpServer[_0x1d72b9(0x164)]));UdpServer[_0x1d72b9(0x164)][_0x1d72b9(0xd7)]=Date[_0x1d72b9(0xe3)]();UdpServer[_0x1d72b9(0xbe)]!==_0x401e29[_0x1d72b9(0x141)]['is_armed']&&(UdpServer[_0x1d72b9(0xbe)]=_0x401e29[_0x1d72b9(0x141)][_0x1d72b9(0xf3)],console['log'](_0x1d72b9(0x199)),console[_0x1d72b9(0x18f)](new Date(),_0x1d72b9(0x115),UdpServer[_0x1d72b9(0xbe)]),!UdpServer['isArmed']&&(Logger_1['Logger'][_0x1d72b9(0x108)](_0x1d72b9(0x187),_0x1d72b9(0x9b),'DISARMED',{},all_typings_1[_0x1d72b9(0xf8)][_0x1d72b9(0x137)]),airVechicleManager_1[_0x1d72b9(0x19d)][_0x1d72b9(0x86)](![])),console[_0x1d72b9(0x18f)](_0x1d72b9(0x199)));const _0x3672d1=UdpServer['telemetry_now']['timeStamp'];!UdpServer['telemetry_now'][_0x1d72b9(0x141)]['is_armed']?(_0x3672d1-UdpServer['lastTimeUpdateArm']['ts']>projConf[_0x1d72b9(0x128)]*0x3e8||UdpServer[_0x1d72b9(0x168)]['ts']===0x0?(UdpServer[_0x1d72b9(0x164)][_0x1d72b9(0x141)]['is_armed']=![],UdpServer[_0x1d72b9(0x168)][_0x1d72b9(0x123)]=![],UdpServer['lastTimeUpdateArm']['ts']=_0x3672d1):UdpServer[_0x1d72b9(0x164)]['armStatus'][_0x1d72b9(0xf3)]=UdpServer[_0x1d72b9(0x168)][_0x1d72b9(0x123)],UdpServer[_0x1d72b9(0x182)](ds_typings_1['OWNER'][_0x1d72b9(0x143)])):(UdpServer['lastTimeUpdateArm'][_0x1d72b9(0x123)]=!![],UdpServer[_0x1d72b9(0x168)]['ts']=_0x3672d1),UdpServer['isAllowSendRequests']();}else{const _0xc362ce=0x0;}},UdpServer[a28_0x870c9f(0x19c)]=()=>{const _0x5cfbd2=a28_0x870c9f;UdpServer['telemetry_now'][_0x5cfbd2(0x140)]&&clientUDP_1[_0x5cfbd2(0x154)]['sendUDPWithoutCheck'](JSON[_0x5cfbd2(0xe6)]({'telemetry':UdpServer['telemetry_now'][_0x5cfbd2(0x140)]}),0x2715,_0x5cfbd2(0x193),()=>{});},UdpServer[a28_0x870c9f(0x155)]=()=>{const _0x509ef4=a28_0x870c9f;clientUDP_1[_0x509ef4(0x154)][_0x509ef4(0x135)](JSON[_0x509ef4(0xe6)]({'telemetry':UdpServer['_telemetryData']}),moveXYUdpPort,moveXYUDPHost,()=>{});},UdpServer['sendUdpToALS']=()=>{const _0x5c502d=a28_0x870c9f;clientUDP_1[_0x5c502d(0x154)]['sendUDPWithoutCheck'](JSON[_0x5c502d(0xe6)]({'telemetry':UdpServer[_0x5c502d(0x153)]}),ALSUDPPort,ALSUDPHost,()=>{});},UdpServer[a28_0x870c9f(0x9a)]=()=>{const _0x219e10=a28_0x870c9f,_0x48b176=UdpServer['copterType']===ob_node_types_1[_0x219e10(0xd0)][_0x219e10(0x113)]&&(UdpServer['getFlightMode']()===ob_node_types_1[_0x219e10(0x15d)][_0x219e10(0x18e)]||UdpServer[_0x219e10(0x11f)]()===ob_node_types_1[_0x219e10(0x15d)][_0x219e10(0x14c)])||UdpServer[_0x219e10(0x195)]==ob_node_types_1['COPTER_TYPE']['Ardupilot']&&(UdpServer[_0x219e10(0x11f)]()===ob_node_types_1[_0x219e10(0x170)][_0x219e10(0x87)]||UdpServer[_0x219e10(0x11f)]()===ob_node_types_1[_0x219e10(0x170)]['MODE_POSHOLD']||UdpServer[_0x219e10(0x11f)]()===ob_node_types_1['FLIGHT_MODE_ARDUPILOT'][_0x219e10(0x11c)]);_0x48b176&&!UdpServer['isRCTouched']&&(UdpServer[_0x219e10(0x102)]=!![],console[_0x219e10(0x18f)]('!!!!!\x20isRCTouched',UdpServer['isRCTouched'])),!_0x48b176&&UdpServer['isRCTouched']&&!UdpServer[_0x219e10(0x99)]()[_0x219e10(0x8b)][_0x219e10(0x18b)]&&(UdpServer[_0x219e10(0x102)]=![],console['log'](_0x219e10(0x186),UdpServer['isRCTouched'])),!UdpServer[_0x219e10(0x11b)]()[_0x219e10(0x141)]['is_armed']&&UdpServer[_0x219e10(0x11b)]()['position']['relative_altitude_m']<0x1&&UdpServer[_0x219e10(0x157)]&&(UdpServer[_0x219e10(0x157)]=![]);},UdpServer[a28_0x870c9f(0x125)]=()=>{const _0x2dd5b9=a28_0x870c9f;return UdpServer[_0x2dd5b9(0x183)]?UdpServer[_0x2dd5b9(0x164)]['position'][_0x2dd5b9(0x111)]-(UdpServer[_0x2dd5b9(0x153)][_0x2dd5b9(0xa2)]['homeLocation']['PX_TAKEOFF_ASL']+UdpServer[_0x2dd5b9(0xb3)]()):UdpServer[_0x2dd5b9(0x164)]['position'][_0x2dd5b9(0x122)];},UdpServer[a28_0x870c9f(0x9c)]=0x64,UdpServer[a28_0x870c9f(0xbf)]=0x32,UdpServer[a28_0x870c9f(0x171)]=()=>{const _0x2ac38f=a28_0x870c9f;let _0x283c86=UdpServer[_0x2ac38f(0x164)][_0x2ac38f(0xd2)][_0x2ac38f(0x129)]*0x64;return!projConf['isProd']&&(UdpServer[_0x2ac38f(0x9c)]<UdpServer[_0x2ac38f(0xbf)]&&(UdpServer[_0x2ac38f(0x9c)]=0x64),UdpServer['testPercent']-=0.001,_0x283c86=UdpServer[_0x2ac38f(0x9c)]),_0x283c86;},UdpServer[a28_0x870c9f(0x17c)]=()=>{const _0x183af0=a28_0x870c9f;let _0x235cf5=ob_node_types_1[_0x183af0(0xb1)]['onboard'];return(UdpServer['getIsRCTouched']()||UdpServer['getIsVirtualRCTouched']())&&(_0x235cf5=ob_node_types_1[_0x183af0(0xb1)]['pilot']),_0x235cf5;},UdpServer['getDistanceFromHome']=()=>{const _0x4d3456=a28_0x870c9f,_0x5445ec=Utils_1['Utils'][_0x4d3456(0x119)]([UdpServer[_0x4d3456(0x164)][_0x4d3456(0xf7)][_0x4d3456(0xe4)],UdpServer['telemetry_now'][_0x4d3456(0xf7)]['latitude_deg']],[UdpServer[_0x4d3456(0x164)][_0x4d3456(0xff)]['longitude_deg'],UdpServer[_0x4d3456(0x164)][_0x4d3456(0xff)][_0x4d3456(0x17b)]]);return _0x5445ec;},UdpServer[a28_0x870c9f(0xb7)]=()=>{const _0x25665b=a28_0x870c9f;let _0xcda18f=0x0;switch(UdpServer[_0x25665b(0x164)][_0x25665b(0x85)][_0x25665b(0x110)]){case 0x0:case 0x1:_0xcda18f=0x0;break;case 0x2:_0xcda18f=0x2;break;case 0x3:case 0x4:case 0x5:case 0x6:_0xcda18f=0x5;break;}return _0xcda18f;},UdpServer['getHeading']=()=>{const _0x39b358=a28_0x870c9f;let _0x135847;const _0x3f202d=0x2*(UdpServer['telemetry_now'][_0x39b358(0xe2)]['w']*UdpServer[_0x39b358(0x164)][_0x39b358(0xe2)]['z']+UdpServer[_0x39b358(0x164)]['quaternion']['x']*UdpServer['telemetry_now']['quaternion']['y']),_0x53bbc6=0x1-0x2*(UdpServer[_0x39b358(0x164)][_0x39b358(0xe2)]['y']*UdpServer[_0x39b358(0x164)][_0x39b358(0xe2)]['y']+UdpServer[_0x39b358(0x164)][_0x39b358(0xe2)]['z']*UdpServer[_0x39b358(0x164)]['quaternion']['z']),_0x186137=Math[_0x39b358(0x148)](_0x3f202d,_0x53bbc6);return _0x186137>0x0?_0x135847=_0x186137*0xb4/Math['PI']:_0x135847=(_0x186137+Math['PI']*0x2)*0xb4/Math['PI'],_0x135847;},UdpServer[a28_0x870c9f(0xf5)]=_0x3fefbc=>{const _0x18d1f9=a28_0x870c9f,_0x13c75c={'x':0x0,'y':0x0,'z':0x0},_0x5077c2=0x5a-_0x3fefbc,_0x55e0eb=[Math[_0x18d1f9(0x165)](Math[_0x18d1f9(0xcf)]((_0x5077c2-0x5a)*Math['PI']/0xb4)*0x64)/0x64,Math[_0x18d1f9(0x165)](Math[_0x18d1f9(0x11a)]((_0x5077c2-0x5a)*Math['PI']/0xb4)*0x64)/0x64],_0x245891=[Math['round'](Math[_0x18d1f9(0xcf)](_0x5077c2*Math['PI']/0xb4)*0x64)/0x64,Math['round'](Math[_0x18d1f9(0x11a)](_0x5077c2*Math['PI']/0xb4)*0x64)/0x64];return _0x13c75c['x']=UdpServer[_0x18d1f9(0x164)][_0x18d1f9(0x172)][_0x18d1f9(0xd5)][_0x18d1f9(0x175)]*_0x55e0eb[0x0]+UdpServer[_0x18d1f9(0x164)][_0x18d1f9(0x172)]['velocityNED'][_0x18d1f9(0xfe)]*_0x245891[0x0],_0x13c75c['y']=UdpServer[_0x18d1f9(0x164)]['positionVelocityNED']['velocityNED'][_0x18d1f9(0x175)]*_0x55e0eb[0x1]+UdpServer['telemetry_now']['positionVelocityNED'][_0x18d1f9(0xd5)]['north_m_s']*_0x245891[0x1],_0x13c75c['z']=UdpServer[_0x18d1f9(0x164)][_0x18d1f9(0x172)][_0x18d1f9(0xd5)][_0x18d1f9(0x15e)],_0x13c75c;},UdpServer[a28_0x870c9f(0x9e)]=()=>{const _0x2ef4ce=a28_0x870c9f;let _0x7d0e93=UdpServer[_0x2ef4ce(0x153)][_0x2ef4ce(0x11e)][_0x2ef4ce(0x123)];if(UdpServer['telemetry_now'][_0x2ef4ce(0xbb)][_0x2ef4ce(0xc3)]===0x0||UdpServer[_0x2ef4ce(0x164)][_0x2ef4ce(0xbb)][_0x2ef4ce(0xa9)]>0x0&&UdpServer[_0x2ef4ce(0x164)][_0x2ef4ce(0xbb)][_0x2ef4ce(0xa9)]===UdpServer['telemetry_now'][_0x2ef4ce(0xbb)][_0x2ef4ce(0xc3)])_0x7d0e93=ob_node_types_1[_0x2ef4ce(0xaf)][_0x2ef4ce(0xe7)];else{if(UdpServer[_0x2ef4ce(0x11f)]()===UdpServer[_0x2ef4ce(0x19b)])_0x7d0e93=ob_node_types_1[_0x2ef4ce(0xaf)][_0x2ef4ce(0xe8)];else UdpServer[_0x2ef4ce(0x11f)]()===UdpServer['getModeHold']&&UdpServer[_0x2ef4ce(0x153)][_0x2ef4ce(0x11e)][_0x2ef4ce(0x123)]!==ob_node_types_1[_0x2ef4ce(0xaf)][_0x2ef4ce(0xe7)]?_0x7d0e93=ob_node_types_1[_0x2ef4ce(0xaf)]['pause']:_0x7d0e93=UdpServer[_0x2ef4ce(0x153)]['wayPoints'][_0x2ef4ce(0x123)];}return _0x7d0e93;},UdpServer[a28_0x870c9f(0xf6)]=()=>{const _0x56f633=a28_0x870c9f;let _0x3a8f6b=UdpServer['_telemetryData'][_0x56f633(0x181)];if(UdpServer[_0x56f633(0x164)]['subscribeProgress'][_0x56f633(0xa9)]>0x1&&UdpServer[_0x56f633(0x164)][_0x56f633(0xbb)][_0x56f633(0xa9)]===UdpServer[_0x56f633(0x164)][_0x56f633(0xbb)][_0x56f633(0xc3)]){}else{if(UdpServer[_0x56f633(0x11f)]()===UdpServer[_0x56f633(0x19b)])_0x3a8f6b=all_typings_1[_0x56f633(0xa1)][_0x56f633(0x92)];else UdpServer['getFlightMode']()===UdpServer['getModeHold']&&UdpServer[_0x56f633(0x153)][_0x56f633(0x11e)][_0x56f633(0x123)]!==ob_node_types_1[_0x56f633(0xaf)]['stop']&&(_0x3a8f6b=all_typings_1[_0x56f633(0xa1)]['Stop']);}return _0x3a8f6b;},UdpServer['saveLastHome']=(_0x42e0dd,_0x25f0f4)=>{return new Promise((_0xbecc90,_0x24aa71)=>{const _0x91b0a2=a28_0x9753;let _0x4782dd=projConf[_0x91b0a2(0x156)],_0x2516b1,_0x147d5a,_0xe53394,_0x52f4b4,_0x272647,_0x13ae87;_0x25f0f4?(_0x2516b1=_0x42e0dd['homeData'][_0x91b0a2(0x91)]||0x0,_0x147d5a=UdpServer[_0x91b0a2(0x99)]()[_0x91b0a2(0x196)][_0x91b0a2(0x169)],_0xe53394=_0x2516b1,_0x52f4b4=_0x147d5a,_0x272647=_0x147d5a,_0x13ae87=![],Logger_1[_0x91b0a2(0x166)][_0x91b0a2(0x108)](_0x91b0a2(0x187),'','set\x20TAKEOFF\x20home\x20ASL\x20real:\x20'+_0x2516b1+',\x20PX:\x20'+_0x147d5a,'',all_typings_1[_0x91b0a2(0xf8)][_0x91b0a2(0xe5)])):(_0x2516b1=UdpServer['_telemetryData'][_0x91b0a2(0xa2)][_0x91b0a2(0x118)][_0x91b0a2(0x151)],_0x147d5a=UdpServer[_0x91b0a2(0x153)][_0x91b0a2(0xa2)][_0x91b0a2(0x118)][_0x91b0a2(0x15c)],_0xe53394=!isNaN(_0x42e0dd['homeData'][_0x91b0a2(0x124)])?_0x42e0dd[_0x91b0a2(0xc9)]['landASLHeight']:_0x2516b1,_0x52f4b4=_0x147d5a+(_0xe53394-_0x2516b1),_0x272647=_0x52f4b4,_0x13ae87=!![],Logger_1[_0x91b0a2(0x166)][_0x91b0a2(0x108)]('node.js','','set\x20LAND\x20home\x20ASL\x20real:\x20'+_0xe53394+_0x91b0a2(0xfc)+_0x52f4b4,'',all_typings_1[_0x91b0a2(0xf8)]['INFO'])),!isNaN(_0x2516b1)&&!isNaN(_0xe53394)&&!isNaN(_0xe53394)&&!isNaN(_0x52f4b4)?UdpServer[_0x91b0a2(0xb0)](_0x42e0dd[_0x91b0a2(0x118)]['longitude'],_0x42e0dd['homeLocation']['latitude'],_0x272647,![])[_0x91b0a2(0x178)](_0x362f25=>{const _0x1c2a59=_0x91b0a2;_0x362f25['success']&&(UdpServer['_telemetryData'][_0x1c2a59(0xa2)]=_0x42e0dd,UdpServer['_telemetryData'][_0x1c2a59(0xa2)]['homeLocation'][_0x1c2a59(0x174)]=_0x42e0dd['homeLocation'][_0x1c2a59(0x174)],UdpServer[_0x1c2a59(0x153)][_0x1c2a59(0xa2)][_0x1c2a59(0x118)]['latitude']=_0x42e0dd['homeLocation'][_0x1c2a59(0xcb)],UdpServer['_telemetryData'][_0x1c2a59(0xa2)]['homeLocation'][_0x1c2a59(0x169)]=_0x42e0dd['homeLocation']['altitude'],UdpServer[_0x1c2a59(0x153)]['lastHome'][_0x1c2a59(0x118)][_0x1c2a59(0x151)]=_0x2516b1,UdpServer[_0x1c2a59(0x153)][_0x1c2a59(0xa2)][_0x1c2a59(0x118)]['PX_TAKEOFF_ASL']=_0x147d5a,UdpServer[_0x1c2a59(0x153)][_0x1c2a59(0xa2)][_0x1c2a59(0x118)]['REAL_LAND_ASL']=_0xe53394,UdpServer[_0x1c2a59(0x153)][_0x1c2a59(0xa2)][_0x1c2a59(0x118)][_0x1c2a59(0x17d)]=_0x52f4b4,UdpServer[_0x1c2a59(0x153)][_0x1c2a59(0xa2)]['homeLocation'][_0x1c2a59(0x10d)]=_0x13ae87,_0x42e0dd[_0x1c2a59(0xd3)]?UdpServer[_0x1c2a59(0x153)][_0x1c2a59(0xa2)]['corridorPoint']=_0x42e0dd[_0x1c2a59(0xd3)]:UdpServer[_0x1c2a59(0x153)]['lastHome']['corridorPoint']=undefined,_0x42e0dd[_0x1c2a59(0xeb)]&&(UdpServer['_telemetryData'][_0x1c2a59(0xa2)][_0x1c2a59(0xeb)]=_0x42e0dd[_0x1c2a59(0xeb)]),UdpServer[_0x1c2a59(0x153)][_0x1c2a59(0xa2)][_0x1c2a59(0x145)]=_[_0x1c2a59(0x197)](UdpServer[_0x1c2a59(0x153)][_0x1c2a59(0xa2)][_0x1c2a59(0x118)]),Utils_1[_0x1c2a59(0x136)][_0x1c2a59(0x18d)](_0x4782dd,UdpServer[_0x1c2a59(0x153)]['lastHome'])),_0xbecc90(_0x362f25);})[_0x91b0a2(0x15a)](_0x4abbb4=>{_0x24aa71(_0x4abbb4);}):(Logger_1['Logger'][_0x91b0a2(0x108)](_0x91b0a2(0x187),'',_0x91b0a2(0xd8),'',all_typings_1[_0x91b0a2(0xf8)][_0x91b0a2(0x13c)]),_0x24aa71({'success':![],'message':[_0x91b0a2(0xd8)]}));});},UdpServer[a28_0x870c9f(0xb0)]=(_0x1bac77,_0x1eee44,_0x5f4c3f,_0xd01a9)=>{return new Promise((_0xb93325,_0x19925e)=>{const _0x44adf4=a28_0x9753,_0x59f659={'lon':_0x1bac77,'lat':_0x1eee44,'alt':_0x5f4c3f};Utils_1['Utils']['send_handler2RequestService'](_0x44adf4(0x159),_0x59f659,_0x366a78=>{const _0x2103ef=_0x44adf4;_0x366a78['success']===!![]?(console[_0x2103ef(0x18f)]('Home\x20point\x20changed\x20in\x20FC'),Logger_1[_0x2103ef(0x166)][_0x2103ef(0x108)](_0x2103ef(0x187),_0x2103ef(0x9b),_0x2103ef(0xec)+JSON[_0x2103ef(0xe6)](_0x59f659),'',all_typings_1[_0x2103ef(0xf8)][_0x2103ef(0xe5)]),UdpServer['isCalculatedAltAfterChangeHome']=!![],clearTimeout(UdpServer[_0x2103ef(0x105)]),UdpServer[_0x2103ef(0x105)]=setTimeout(()=>{UdpServer['isCalculatedAltAfterChangeHome']=![];},0x7d0)):(console[_0x2103ef(0x18f)](_0x2103ef(0x131)),_0x366a78[_0x2103ef(0xb6)]=_0x366a78[_0x2103ef(0xb6)]?_0x366a78[_0x2103ef(0xb6)][_0x2103ef(0x192)]([_0x2103ef(0xe1)]):[_0x2103ef(0xe1)],Logger_1[_0x2103ef(0x166)][_0x2103ef(0x108)](_0x2103ef(0x187),'',_0x2103ef(0xaa),_0x2103ef(0x104)+JSON[_0x2103ef(0xe6)](_0x366a78),all_typings_1['LOG_LEVEL'][_0x2103ef(0x13c)])),_0xb93325(_0x366a78);},_0xd01a9);});},UdpServer['updateHome']=(_0x2b9b5e,_0x1399e8,_0x6bb7ca,_0x119a11)=>{return new Promise((_0x425c11,_0x3bc19f)=>{const _0x45b6aa=a28_0x9753;let _0x32fc7b=projConf['fileName'],_0x2844a2=UdpServer['_telemetryData'][_0x45b6aa(0xa2)][_0x45b6aa(0x118)][_0x45b6aa(0x151)],_0x10fd64=UdpServer[_0x45b6aa(0x153)]['lastHome'][_0x45b6aa(0x118)][_0x45b6aa(0x15c)],_0x2d391b=_0x1399e8,_0x942cd3=_0x10fd64+(_0x2d391b-_0x2844a2);const _0x8bf95e=_0x942cd3,_0x27b764=!![];Logger_1[_0x45b6aa(0x166)][_0x45b6aa(0x108)](_0x45b6aa(0x187),'',_0x45b6aa(0x12a)+_0x2d391b+_0x45b6aa(0x12f)+_0x942cd3+_0x45b6aa(0x180)+_0x119a11,'',all_typings_1[_0x45b6aa(0xf8)][_0x45b6aa(0xe5)]),UdpServer[_0x45b6aa(0xb0)](_0x2b9b5e[_0x45b6aa(0x174)],_0x2b9b5e[_0x45b6aa(0xcb)],_0x8bf95e,_0x6bb7ca)['then'](_0x3c8980=>{const _0x27b9de=_0x45b6aa;_0x3c8980[_0x27b9de(0xdd)]&&(_0x119a11&&(UdpServer[_0x27b9de(0x153)][_0x27b9de(0xa2)][_0x27b9de(0x118)][_0x27b9de(0x174)]=_0x2b9b5e['longitude'],UdpServer[_0x27b9de(0x153)][_0x27b9de(0xa2)][_0x27b9de(0x118)][_0x27b9de(0xcb)]=_0x2b9b5e[_0x27b9de(0xcb)],UdpServer[_0x27b9de(0x153)][_0x27b9de(0xa2)][_0x27b9de(0x118)][_0x27b9de(0x169)]=_0x942cd3,UdpServer['_telemetryData']['lastHome'][_0x27b9de(0x118)]['REAL_TAKEOFF_ASL']=_0x2844a2,UdpServer['_telemetryData']['lastHome'][_0x27b9de(0x118)][_0x27b9de(0x15c)]=_0x10fd64,UdpServer[_0x27b9de(0x153)][_0x27b9de(0xa2)][_0x27b9de(0x118)][_0x27b9de(0x134)]=_0x2d391b,UdpServer[_0x27b9de(0x153)]['lastHome']['homeLocation']['PX_LAND_ASL']=_0x942cd3,UdpServer[_0x27b9de(0x153)][_0x27b9de(0xa2)][_0x27b9de(0x118)]['isChangedHome']=_0x27b764,Utils_1['Utils'][_0x27b9de(0x18d)](_0x32fc7b,UdpServer[_0x27b9de(0x153)][_0x27b9de(0xa2)]))),_0x425c11(_0x3c8980);})[_0x45b6aa(0x15a)](_0x553d2e=>{_0x3bc19f(_0x553d2e);});});},UdpServer[a28_0x870c9f(0xb3)]=()=>{const _0x3b1e48=a28_0x870c9f;return UdpServer[_0x3b1e48(0x99)]()[_0x3b1e48(0xa2)][_0x3b1e48(0x118)][_0x3b1e48(0x134)]-UdpServer['getTelemetryData']()[_0x3b1e48(0xa2)][_0x3b1e48(0x118)]['REAL_TAKEOFF_ASL']||0x0;},UdpServer[a28_0x870c9f(0x162)]=_0x57725a=>{const _0x5638f1=a28_0x870c9f;UdpServer[_0x5638f1(0x153)]['lastHome']=_0x57725a;},UdpServer[a28_0x870c9f(0x12b)]=()=>{const _0x4e1464=a28_0x870c9f;return UdpServer[_0x4e1464(0x164)][_0x4e1464(0xd7)];},UdpServer['getNextPointIndex']=()=>{const _0x428a4f=a28_0x870c9f;return UdpServer[_0x428a4f(0x164)][_0x428a4f(0xbb)]['current'];},UdpServer[a28_0x870c9f(0x14b)]=_0x2030f3=>{UdpServer['isVirtualRCTouched']=_0x2030f3;},UdpServer[a28_0x870c9f(0x173)]=_0xa2757=>{const _0x4f69f8=a28_0x870c9f;UdpServer[_0x4f69f8(0x153)][_0x4f69f8(0x12e)]=_0xa2757;},UdpServer[a28_0x870c9f(0x117)]=UdpServer[a28_0x870c9f(0xdf)][a28_0x870c9f(0x117)],UdpServer[a28_0x870c9f(0x10c)]=UdpServer['instance'][a28_0x870c9f(0x10c)];