'use strict';const a5_0xb2a703=a5_0x5ea0;(function(_0x2ac8c4,_0x254598){const _0x1a8d25=a5_0x5ea0,_0x3c15f6=_0x2ac8c4();while(!![]){try{const _0x17c7c5=parseInt(_0x1a8d25(0x11f))/0x1+parseInt(_0x1a8d25(0x88))/0x2*(-parseInt(_0x1a8d25(0x76))/0x3)+-parseInt(_0x1a8d25(0x139))/0x4+parseInt(_0x1a8d25(0x85))/0x5+-parseInt(_0x1a8d25(0xad))/0x6+parseInt(_0x1a8d25(0xc3))/0x7+-parseInt(_0x1a8d25(0x6b))/0x8;if(_0x17c7c5===_0x254598)break;else _0x3c15f6['push'](_0x3c15f6['shift']());}catch(_0x12856a){_0x3c15f6['push'](_0x3c15f6['shift']());}}}(a5_0xd964,0xbaf2b));var __awaiter=this&&this['__awaiter']||function(_0x5cdb6b,_0x42a8c9,_0x463b95,_0x9a1662){function _0x2f5343(_0x371fe6){return _0x371fe6 instanceof _0x463b95?_0x371fe6:new _0x463b95(function(_0x4c9331){_0x4c9331(_0x371fe6);});}return new(_0x463b95||(_0x463b95=Promise))(function(_0x1bb95d,_0x2df996){const _0x3444cf=a5_0x5ea0;function _0x425ce8(_0xb3d838){const _0x2804b7=a5_0x5ea0;try{_0x11c700(_0x9a1662[_0x2804b7(0x127)](_0xb3d838));}catch(_0x904762){_0x2df996(_0x904762);}}function _0x5e97b9(_0x15c959){try{_0x11c700(_0x9a1662['throw'](_0x15c959));}catch(_0x26a5ff){_0x2df996(_0x26a5ff);}}function _0x11c700(_0xb014){const _0x46c15e=a5_0x5ea0;_0xb014[_0x46c15e(0xb6)]?_0x1bb95d(_0xb014['value']):_0x2f5343(_0xb014[_0x46c15e(0xce)])[_0x46c15e(0x9e)](_0x425ce8,_0x5e97b9);}_0x11c700((_0x9a1662=_0x9a1662[_0x3444cf(0x116)](_0x5cdb6b,_0x42a8c9||[]))[_0x3444cf(0x127)]());});};function a5_0xd964(){const _0x26c4ed=['RTHtolerance','abs','got\x20\x20keepalive=0\x20\x20','catch','POST','express','lastHome','unlockRHInterval','don\x27t\x20get\x20new\x20telemetry','then','timeout4StartCheckingMinEnergy','validateHomePosition','isReturnedOwnerDroneService','platform','/wayPoint/uploadComplex','now','percentage','No\x20winch','getHomeFromController','\x20with\x20error','port','last_change_time','adding\x20last\x20point\x20as\x20home','unlockRHTimeout','679776QaWwdT','Running\x20server\x20on\x20port\x20','slope','keepAlive','route','requestPost','\x20successfully','isLockedForRH\x20response','error','done','unlockRHIfNeeded\x20catch','GENERAL_API','routeServicePathAGL','winchService','length','bearing','defaultEmergencyRHHeight','altitudeRange','unlockRH','velocity','urlencoded','body-parser','2938278zqlXWv','onRTH','\x20\x20RTHtolerance\x20','join','longitude','UnlockRH\x20response','writeFile','unlockRHIfNeeded','tellMeWhenDroneWillStop','takeoffASLHeight','uploadComplexInterval','value','ASL_Max','rth\x20by\x20min\x20energy','onBoard','didnt\x20success\x20land...','latitude','readFile','geolib','onboardRHAlt','state','getPathLength','\x20times','success','url','request','isAGL','sending\x20to\x20RS\x20body','Logger','max\x20retry\x20','win32','height_above_takeoff','scheduler','uniqueKey4RTH','host','telemetryLastHome','general','hasOwnProperty','push','log','/api/isLockedForRH','use','checkIsChangedTelemetry','alt','timeKeepAliveBIG','lon','toString','routers','split','prev_last_change_time','Winch','path','clearInterval','land\x20with\x20result0','http://','isCheckingUnlockRH','unlock\x20RH\x20timeout','returned\x20owner\x20-\x20droneService,\x20request\x20impossible','intervalIsArmed','__esModule','body\x20with\x20cor\x20point\x202','env','parse','interval4Landing','data','dataland','lockedForRH','bootstrap','./../../../../start.json','converPointsArrayOfObjects2ArrayOfArrays','homeData','json','minEnergy','point2','getSecondCorridorPoint','http','got\x20answer\x20from\x20RS_corridorpoint\x201','altitude','reading\x20file\x20','requestPortRouteService','battery_state','armed','SocketIOClient','apply','unlockRHTimeoutSec','upload\x20\x20WP\x20with\x20result','info','find','RTH','height','MAPI_SENSOR_TYPE','emergencyRHHeight','1426356tnEgXP','./applicationServices/restConnections/restManager','===\x20Starting\x20interval\x20to\x20check\x20if\x20winch\x20status\x20unlocked\x20===','allowedId','homeLocation','getFuncName','unlockRHIfNeeded\x20','./SocketIOClient','next','corridorPoint','timeToOnboardRHSec','timers','started\x20\x20WP\x20with\x20result','land','request\x20to\x20controller','could\x20not\x20\x20change\x20owner','buildWPComplex','droneService','forEach','HOME','stringify','startLandInterval','getDistance','alreadyRTH','stack','gps_position','832700egdAhy','body','message','timeout\x20between\x20levels','/api/unlockRH','minLength','Server','USERPROFILE','1309176EkDRfz','saving\x20file\x20','rth','convertPointsArrayOfArrays2arrayofObjects','routeServicePath','land\x20with\x20result1','point1','getModeReturnHome','points','got\x20answer\x20from\x20RS','=================\x20USING\x20emergency\x20height\x20=====================','592212YOxTul','sending\x20stop/upload/start','includes','getTelemetry','/land','arrived\x20on\x20level\x20','landInterval','getFirstAndSecondPoints','getTime','calcDistance','requestPort','stopped\x20\x20WP\x20with\x20result\x20','type','lat','homeFromController','1958835JTfjDD','returned\x20owner\x20-\x20droneService','timeout','10KZcoLL','listen','createServer','isForce','RestManager','absHeight','got\x20\x20keepalive=0\x20more\x20than\x205\x20times.\x20didnt\x20get\x20keepalive\x20','could\x20not\x20\x20get\x20home\x20position\x20from\x20controller','../../../classes/typings/all.typings','sendCalulateRS_andGO','actionsAfterGetData4RTH','didn\x27t\x20return\x20owner\x20-\x20droneService','got\x20answer\x20from_corridorpoint\x202'];a5_0xd964=function(){return _0x26c4ed;};return a5_0xd964();}Object['defineProperty'](exports,a5_0xb2a703(0xfe),{'value':!![]}),exports[a5_0xb2a703(0x69)]=void 0x0;const express=require(a5_0xb2a703(0x9a)),http=require(a5_0xb2a703(0x10e)),bodyParser=require(a5_0xb2a703(0xc2)),SocketIOClient_1=require(a5_0xb2a703(0x126)),all_typings_1=require(a5_0xb2a703(0x90)),fs=require('fs'),ApiManager_1=require('./services/ApiManager'),restManager_1=require(a5_0xb2a703(0x120)),api_enums_1=require('../../../classes/typings/api_enums'),Logger_1=require('./Logger'),timers_1=require(a5_0xb2a703(0x12a)),path=require(a5_0xb2a703(0xf6)),configStart=require(a5_0xb2a703(0x107)),host=configStart[a5_0xb2a703(0xe5)],absPathHomePosition=path[a5_0xb2a703(0xc6)](process[a5_0xb2a703(0x100)][process[a5_0xb2a703(0xa2)]===a5_0xb2a703(0xe1)?a5_0xb2a703(0x6a):a5_0xb2a703(0x132)],configStart['homePosition']),requestPort=configStart[a5_0xb2a703(0x80)];let timeout=configStart[a5_0xb2a703(0x87)],timeout4StartCheckingMinEnergy=configStart[a5_0xb2a703(0x9f)];const RTHtolerance=configStart[a5_0xb2a703(0x95)],minLength=configStart[a5_0xb2a703(0x13e)],allowedId=configStart[a5_0xb2a703(0x122)],hostRouteService=configStart['hostRouteService'],velocityRoute=configStart[a5_0xb2a703(0xc0)],requestPortRouteService=configStart[a5_0xb2a703(0x112)];let routeServicePath=configStart[a5_0xb2a703(0x6f)];function a5_0x5ea0(_0x30911d,_0x996be3){const _0xd9645b=a5_0xd964();return a5_0x5ea0=function(_0x5ea016,_0x16bfcc){_0x5ea016=_0x5ea016-0x69;let _0x18cbd8=_0xd9645b[_0x5ea016];return _0x18cbd8;},a5_0x5ea0(_0x30911d,_0x996be3);}const defaultEmergencyRHHeight=configStart[a5_0xb2a703(0xbd)],unlockRHTimeoutSec=configStart[a5_0xb2a703(0x117)],request=require(a5_0xb2a703(0xdc)),geolib=require(a5_0xb2a703(0xd5)),wpUploadComplexPath=a5_0xb2a703(0xa3),wpActionPath='/wayPoint/action',getDataFromControllerPath='/api/getHome',wpUploadComplex={'isForce':![],'action_on_finish':0x0,'action_on_rc_lost':0x0,'gimbal_pitch_mode':0x0,'idle_velocity':0xc,'mission_exec_times':0x1,'damping_distance':0x1,'target_gimbal_pitch':0x0,'turn_mode':0x0,'has_action':0x0,'action_time_limit':0xbb8,'action_repeat':0x1,'trace_mode':0x1,'velocity_range':0xd,'yaw_mode':0x0,'points':[]},actionStart={'action':0x0},actionStop={'action':0x1},ownerRTH={'owner':a5_0xb2a703(0xd1)},ownerRTH_InCaseNotSuccessRH={'owner':a5_0xb2a703(0x130)};class Server{constructor(){const _0x49cd37=a5_0xb2a703;this['alreadyRTH']=![],this[_0x49cd37(0x102)]=undefined,this[_0x49cd37(0xa9)]=configStart[_0x49cd37(0x11b)][_0x49cd37(0xa9)],this[_0x49cd37(0x84)]=undefined,this['timeKeepAliveBIG']=0x0,this[_0x49cd37(0xa1)]=![],this[_0x49cd37(0xfd)]=undefined,this['isCheckingUnlockRH']=![],this['createServer']=_0x21eb97=>{const _0x49feae=_0x49cd37;return http[_0x49feae(0x8a)](_0x21eb97);},this[_0x49cd37(0x89)]=_0x1287de=>{const _0x5c74da=_0x49cd37,_0x5a50a7=Logger_1[_0x5c74da(0xdf)][_0x5c74da(0x124)](new Error()['stack']);_0x1287de[_0x5c74da(0x89)](this['port'],()=>{const _0x41d123=_0x5c74da;Logger_1[_0x41d123(0xdf)][_0x41d123(0x119)](_0x5a50a7,[_0x41d123(0xae),this[_0x41d123(0xa9)]]);});},this[_0x49cd37(0xf4)]=0x0,this[_0x49cd37(0x6d)]=()=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x57dfc0=_0x49cd37,_0x56e3cc=SocketIOClient_1[_0x57dfc0(0x115)][_0x57dfc0(0x79)](),_0x1d9a70=Logger_1[_0x57dfc0(0xdf)][_0x57dfc0(0x124)](new Error()['stack']);!this['isCheckingUnlockRH']&&(this[_0x57dfc0(0xfa)]=!![],Logger_1[_0x57dfc0(0xdf)]['info'](_0x1d9a70,['start\x20return\x20home,\x20now-\x20timeout\x20',(Date['now']()-_0x56e3cc[_0x57dfc0(0xb0)]||0x0)/0x3e8]),this[_0x57dfc0(0xb2)](host,requestPort,'/changeOwner',ownerRTH,_0x2f76a4=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x5e573b=_0x57dfc0;_0x2f76a4[_0x5e573b(0xda)]?this[_0x5e573b(0xca)]()[_0x5e573b(0x9e)](_0x56c0d0=>{const _0x26f8be=_0x5e573b;Logger_1['Logger'][_0x26f8be(0x119)](_0x1d9a70,_0x26f8be(0x125)+JSON['stringify'](_0x56c0d0)),console[_0x26f8be(0xea)](_0x26f8be(0xca)+JSON[_0x26f8be(0x133)](_0x56c0d0)),this[_0x26f8be(0xfa)]=![],this[_0x26f8be(0xc4)]();})[_0x5e573b(0x98)](_0x253734=>{const _0x90edb7=_0x5e573b;Logger_1[_0x90edb7(0xdf)]['info'](_0x1d9a70,'unlockRHIfNeeded\x20catch'),console[_0x90edb7(0xea)](_0x90edb7(0xb7),_0x253734),this[_0x90edb7(0xfa)]=![],this[_0x90edb7(0xc4)]();}):(Logger_1[_0x5e573b(0xdf)]['info'](_0x1d9a70,[_0x5e573b(0x12e)]),this[_0x5e573b(0xfa)]=![]);})));}),this[_0x49cd37(0xc4)]=()=>{const _0x454b34=_0x49cd37;if(!this[_0x454b34(0x136)]){const _0x45969a=SocketIOClient_1[_0x454b34(0x115)][_0x454b34(0x79)](),_0x11581c=Logger_1[_0x454b34(0xdf)][_0x454b34(0x124)](new Error()[_0x454b34(0x137)]);this['alreadyRTH']=!![],wpUploadComplex[_0x454b34(0x8b)]=_0x45969a['isForce'];let _0x2dbcfc=_0x45969a[_0x454b34(0xe2)];_0x45969a[_0x454b34(0x9b)]&&_0x45969a[_0x454b34(0x9b)][_0x454b34(0xd6)]&&(_0x2dbcfc=_0x45969a['lastHome'][_0x454b34(0xd6)]),_0x45969a[_0x454b34(0x9b)]&&_0x45969a[_0x454b34(0x9b)]['absHeight']&&(_0x2dbcfc=_0x45969a[_0x454b34(0x9b)][_0x454b34(0x8d)]),this[_0x454b34(0x72)](wpUploadComplex,_0x2dbcfc),wpUploadComplex['points']['length']===0x0?(Logger_1[_0x454b34(0xdf)][_0x454b34(0xb5)](_0x11581c,'there\x20aren\x27t\x20home\x20position\x20in\x20file,\x20trying\x20to\x20get\x20info\x20from\x20controller'),this['validateHomePosition'](_0x45969a)&&(this['homeFromController']=this[_0x454b34(0xe6)]),!this[_0x454b34(0x84)]?(Logger_1[_0x454b34(0xdf)][_0x454b34(0x119)](_0x11581c,[_0x454b34(0x12d)]),this[_0x454b34(0xb2)](host,requestPort,getDataFromControllerPath,{},_0x13d2e9=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x467a96=_0x454b34;this[_0x467a96(0x84)]=this[_0x467a96(0xa7)](_0x13d2e9),this[_0x467a96(0x84)]?this[_0x467a96(0x92)](_0x2dbcfc):Logger_1['Logger'][_0x467a96(0x119)](_0x11581c,[_0x467a96(0x8f)]);}))):this['actionsAfterGetData4RTH'](_0x2dbcfc)):this['generalRTHFullWay'](_0x2dbcfc);}},this['generalRTHFullWay']=_0x4c2508=>{const _0x2f0fc6=_0x49cd37,_0xc9e44=Logger_1[_0x2f0fc6(0xdf)][_0x2f0fc6(0x124)](new Error()[_0x2f0fc6(0x137)]);this[_0x2f0fc6(0xb2)](host,requestPort,wpActionPath,actionStop,_0x200907=>{const _0xed2814=_0x2f0fc6;Logger_1[_0xed2814(0xdf)][_0xed2814(0x119)](_0xc9e44,[_0xed2814(0x81),_0x200907]),setTimeout(()=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x505bd3=_0xed2814,_0x198b6b={'latitude':wpUploadComplex['points'][wpUploadComplex[_0x505bd3(0x73)]['length']-0x1][_0x505bd3(0xd3)],'longitude':wpUploadComplex[_0x505bd3(0x73)][wpUploadComplex['points'][_0x505bd3(0xbb)]-0x1][_0x505bd3(0xc7)]};if(this[_0x505bd3(0x7f)]({'latitude':wpUploadComplex[_0x505bd3(0x73)][0x0][_0x505bd3(0xd3)],'longitude':wpUploadComplex[_0x505bd3(0x73)][0x0]['longitude']},_0x198b6b)>minLength){const _0x15b669=SocketIOClient_1[_0x505bd3(0x115)][_0x505bd3(0x79)]();let _0x59e4cc=this[_0x505bd3(0x108)](this[_0x505bd3(0x7d)](wpUploadComplex[_0x505bd3(0x73)]),_0x4c2508),_0xbd9883={'fromTo':_0x59e4cc,'allowedId':allowedId,'takeOffAslHeight':_0x15b669[_0x505bd3(0x9b)]&&_0x15b669[_0x505bd3(0x9b)][_0x505bd3(0x109)]&&_0x15b669[_0x505bd3(0x9b)][_0x505bd3(0x109)][_0x505bd3(0xe8)](_0x505bd3(0xcc))?_0x15b669[_0x505bd3(0x9b)][_0x505bd3(0x109)][_0x505bd3(0xcc)]:undefined};_0x15b669[_0x505bd3(0x9b)]&&_0x15b669[_0x505bd3(0x9b)][_0x505bd3(0x109)]&&_0x15b669['lastHome'][_0x505bd3(0x109)]['isAGL']&&_0x15b669[_0x505bd3(0x9b)]['homeData'][_0x505bd3(0xdd)]&&_0x15b669[_0x505bd3(0x9b)][_0x505bd3(0x109)][_0x505bd3(0xe8)](_0x505bd3(0xbe))&&_0x15b669[_0x505bd3(0x9b)][_0x505bd3(0x109)]['hasOwnProperty'](_0x505bd3(0xcf))&&_0x15b669[_0x505bd3(0x9b)][_0x505bd3(0x109)][_0x505bd3(0xe8)]('slope')?(_0xbd9883[_0x505bd3(0xdd)]=_0x15b669[_0x505bd3(0x9b)][_0x505bd3(0x109)][_0x505bd3(0xdd)],_0xbd9883[_0x505bd3(0xbe)]=_0x15b669[_0x505bd3(0x9b)]['homeData'][_0x505bd3(0xbe)],_0xbd9883[_0x505bd3(0xaf)]=_0x15b669[_0x505bd3(0x9b)][_0x505bd3(0x109)]['slope'],_0xbd9883[_0x505bd3(0xcf)]=_0x15b669[_0x505bd3(0x9b)]['homeData'][_0x505bd3(0xcf)],routeServicePath=configStart[_0x505bd3(0xb9)]):(_0xbd9883['isAGL']=![],routeServicePath=configStart[_0x505bd3(0x6f)],_0xbd9883[_0x505bd3(0x11c)]=_0x4c2508);Logger_1[_0x505bd3(0xdf)][_0x505bd3(0x119)](_0xc9e44,[_0x505bd3(0xde),_0xbd9883]);if(wpUploadComplex['points'][_0x505bd3(0xbb)]===0x2)this['sendCalulateRS_andGO'](_0xbd9883,_0x4c2508);else{const _0x49bf08=this[_0x505bd3(0x10d)](wpUploadComplex[_0x505bd3(0x73)][wpUploadComplex[_0x505bd3(0x73)][_0x505bd3(0xbb)]-0x1],wpUploadComplex[_0x505bd3(0x73)][wpUploadComplex[_0x505bd3(0x73)]['length']-0x2]);this[_0x505bd3(0xb2)](hostRouteService,requestPortRouteService,routeServicePath,_0xbd9883,_0x13f3b7=>{const _0x587098=_0x505bd3;if(_0x13f3b7[_0x587098(0xda)]){let _0x536458=[];const _0xaf5f76=SocketIOClient_1['SocketIOClient'][_0x587098(0x79)]();_0x536458['push']({'longitude':_0xaf5f76[_0x587098(0x138)][_0x587098(0xc7)],'latitude':_0xaf5f76[_0x587098(0x138)][_0x587098(0xd3)],'altitude':_0x4c2508,'velocity':velocityRoute,'yaw':0x0});_0x49bf08&&_0x536458['push']({'longitude':_0x49bf08[_0x587098(0xc7)],'latitude':_0x49bf08['latitude'],'altitude':_0x4c2508,'velocity':velocityRoute,'yaw':0x0});_0xaf5f76['lastHome']&&_0xaf5f76['lastHome'][_0x587098(0x123)]&&_0x536458[_0x587098(0xe9)]({'longitude':_0xaf5f76[_0x587098(0x9b)][_0x587098(0x123)]['longitude'],'latitude':_0xaf5f76['lastHome'][_0x587098(0x123)][_0x587098(0xd3)],'altitude':_0x4c2508,'velocity':velocityRoute,'yaw':0x0});let _0x31d22d=this[_0x587098(0x108)](this[_0x587098(0x7d)](_0x536458),_0x4c2508),_0x3f139d={'fromTo':_0x31d22d,'allowedId':allowedId,'takeOffAslHeight':_0xaf5f76[_0x587098(0x9b)]&&_0xaf5f76[_0x587098(0x9b)][_0x587098(0x109)]&&_0xaf5f76['lastHome'][_0x587098(0x109)][_0x587098(0xe8)]('takeoffASLHeight')?_0xaf5f76['lastHome'][_0x587098(0x109)]['takeoffASLHeight']:undefined};_0xaf5f76['lastHome'][_0x587098(0x109)]&&_0xaf5f76[_0x587098(0x9b)][_0x587098(0x109)][_0x587098(0xdd)]&&_0xaf5f76[_0x587098(0x9b)]['homeData']['isAGL']&&_0xaf5f76[_0x587098(0x9b)][_0x587098(0x109)]['hasOwnProperty'](_0x587098(0xbe))&&_0xaf5f76[_0x587098(0x9b)][_0x587098(0x109)][_0x587098(0xe8)](_0x587098(0xcf))&&_0xaf5f76[_0x587098(0x9b)]['homeData'][_0x587098(0xe8)](_0x587098(0xaf))?(_0x3f139d[_0x587098(0xdd)]=_0xaf5f76[_0x587098(0x9b)][_0x587098(0x109)][_0x587098(0xdd)],_0x3f139d[_0x587098(0xbe)]=_0xaf5f76[_0x587098(0x9b)][_0x587098(0x109)][_0x587098(0xbe)],_0x3f139d[_0x587098(0xaf)]=_0xaf5f76[_0x587098(0x9b)][_0x587098(0x109)][_0x587098(0xaf)],_0x3f139d[_0x587098(0xcf)]=_0xaf5f76[_0x587098(0x9b)]['homeData']['ASL_Max'],routeServicePath=configStart['routeServicePathAGL']):(_0x3f139d['isAGL']=![],routeServicePath=configStart[_0x587098(0x6f)],_0x3f139d[_0x587098(0x11c)]=_0x4c2508),Logger_1[_0x587098(0xdf)][_0x587098(0x119)](_0xc9e44,[_0x587098(0xff),_0x3f139d]),Logger_1[_0x587098(0xdf)][_0x587098(0x119)](_0xc9e44,[_0x587098(0x10f),_0x13f3b7]),this[_0x587098(0xb2)](hostRouteService,requestPortRouteService,routeServicePath,_0x3f139d,_0x3e5a91=>{const _0x4c4ed2=_0x587098;Logger_1[_0x4c4ed2(0xdf)][_0x4c4ed2(0x119)](_0xc9e44,[_0x4c4ed2(0x94),_0x3e5a91]);if(_0x3e5a91[_0x4c4ed2(0xda)]){_0xaf5f76[_0x4c4ed2(0x9b)]&&_0xaf5f76[_0x4c4ed2(0x9b)][_0x4c4ed2(0x109)]&&_0xaf5f76[_0x4c4ed2(0x9b)][_0x4c4ed2(0x109)][_0x4c4ed2(0xdd)]?(_0x13f3b7['data']=_0x13f3b7['data'],_0x3e5a91['data']=_0x3e5a91[_0x4c4ed2(0x103)]):(_0x13f3b7[_0x4c4ed2(0x103)]=_0x13f3b7[_0x4c4ed2(0x103)],_0x3e5a91[_0x4c4ed2(0x103)]=_0x3e5a91['data']);const _0x41ddd1=this[_0x4c4ed2(0x6e)](_0x13f3b7[_0x4c4ed2(0x103)][_0x4c4ed2(0xb1)],_0x4c2508),_0x4b5850=this[_0x4c4ed2(0x6e)](_0x3e5a91[_0x4c4ed2(0x103)]['route'],_0x4c2508),_0x376704=geolib[_0x4c4ed2(0xd8)](_0x41ddd1),_0x564fd4=geolib['getPathLength'](_0x4b5850);_0x376704>_0x564fd4?this[_0x4c4ed2(0x91)](_0x3f139d,_0x4c2508):this[_0x4c4ed2(0x91)](_0xbd9883,_0x4c2508);}else this[_0x4c4ed2(0x91)](_0xbd9883,_0x4c2508);});}else _0xbd9883[_0x587098(0xdd)]=![],_0xbd9883[_0x587098(0x11c)]=_0x4c2508,routeServicePath=configStart[_0x587098(0x6f)],this[_0x587098(0x91)](_0xbd9883,_0x4c2508);});}}else Logger_1['Logger']['info'](_0xc9e44,['try\x20to\x20land\x20']),this[_0x505bd3(0x12c)](_0x57ff4a=>{const _0x190a50=_0x505bd3;!_0x57ff4a['success']&&Logger_1['Logger']['error'](_0xc9e44,[_0x190a50(0xd2),_0x57ff4a]);});}),0xbb8);});},this[_0x49cd37(0x92)]=_0x1db399=>{const _0x5f2e83=_0x49cd37,_0x1ee26c=Logger_1[_0x5f2e83(0xdf)][_0x5f2e83(0x124)](new Error()[_0x5f2e83(0x137)]);this[_0x5f2e83(0x12f)](wpUploadComplex,_0x1db399,{'lon':this[_0x5f2e83(0x84)][_0x5f2e83(0x9b)][_0x5f2e83(0x123)][_0x5f2e83(0xc7)],'lat':this[_0x5f2e83(0x84)][_0x5f2e83(0x9b)]['homeLocation'][_0x5f2e83(0xd3)],'alt':this[_0x5f2e83(0x84)][_0x5f2e83(0x9b)][_0x5f2e83(0x123)][_0x5f2e83(0x110)]}),this[_0x5f2e83(0xb2)](host,requestPort,wpActionPath,actionStop,_0x4ccb64=>{const _0x190e86=_0x5f2e83;Logger_1[_0x190e86(0xdf)][_0x190e86(0x119)](_0x1ee26c,[_0x190e86(0x81),_0x4ccb64]),setTimeout(()=>{const _0x4c0c74=_0x190e86,_0x34f33e={'latitude':wpUploadComplex[_0x4c0c74(0x73)][wpUploadComplex[_0x4c0c74(0x73)]['length']-0x1]['latitude'],'longitude':wpUploadComplex['points'][wpUploadComplex[_0x4c0c74(0x73)]['length']-0x1]['longitude']};if(this[_0x4c0c74(0x7f)]({'latitude':wpUploadComplex[_0x4c0c74(0x73)][0x0][_0x4c0c74(0xd3)],'longitude':wpUploadComplex[_0x4c0c74(0x73)][0x0][_0x4c0c74(0xc7)]},_0x34f33e)>minLength){const _0x209d0d=SocketIOClient_1['SocketIOClient'][_0x4c0c74(0x79)]();let _0x33749c=this['converPointsArrayOfObjects2ArrayOfArrays'](this[_0x4c0c74(0x7d)](wpUploadComplex[_0x4c0c74(0x73)]),_0x1db399),_0x1eb1c2={'fromTo':_0x33749c,'allowedId':allowedId,'takeOffAslHeight':_0x209d0d[_0x4c0c74(0x9b)]&&_0x209d0d[_0x4c0c74(0x9b)][_0x4c0c74(0x109)]&&_0x209d0d['lastHome']['homeData']['hasOwnProperty'](_0x4c0c74(0xcc))?_0x209d0d[_0x4c0c74(0x9b)][_0x4c0c74(0x109)]['takeoffASLHeight']:undefined};_0x209d0d[_0x4c0c74(0x9b)]&&_0x209d0d[_0x4c0c74(0x9b)][_0x4c0c74(0x109)]&&_0x209d0d['lastHome'][_0x4c0c74(0x109)][_0x4c0c74(0xdd)]&&_0x209d0d['lastHome'][_0x4c0c74(0x109)][_0x4c0c74(0xe8)]('altitudeRange')&&_0x209d0d['lastHome'][_0x4c0c74(0x109)]['hasOwnProperty'](_0x4c0c74(0xcf))&&_0x209d0d[_0x4c0c74(0x9b)]['homeData'][_0x4c0c74(0xe8)](_0x4c0c74(0xaf))?(_0x1eb1c2[_0x4c0c74(0xdd)]=_0x209d0d[_0x4c0c74(0x9b)][_0x4c0c74(0x109)][_0x4c0c74(0xdd)],_0x1eb1c2[_0x4c0c74(0xbe)]=_0x209d0d[_0x4c0c74(0x9b)]['homeData'][_0x4c0c74(0xbe)],_0x1eb1c2[_0x4c0c74(0xaf)]=_0x209d0d[_0x4c0c74(0x9b)][_0x4c0c74(0x109)][_0x4c0c74(0xaf)],_0x1eb1c2[_0x4c0c74(0xcf)]=_0x209d0d[_0x4c0c74(0x9b)][_0x4c0c74(0x109)][_0x4c0c74(0xcf)],routeServicePath=configStart[_0x4c0c74(0xb9)]):(routeServicePath=configStart[_0x4c0c74(0x6f)],_0x1eb1c2[_0x4c0c74(0x11c)]=_0x1db399,_0x1eb1c2[_0x4c0c74(0xdd)]=![]);Logger_1[_0x4c0c74(0xdf)][_0x4c0c74(0x119)](_0x1ee26c,[_0x4c0c74(0xde),_0x1eb1c2]);if(wpUploadComplex['points'][_0x4c0c74(0xbb)]===0x2)this[_0x4c0c74(0x91)](_0x1eb1c2,_0x1db399);else{const _0x5b8373=this[_0x4c0c74(0x10d)](wpUploadComplex['points'][wpUploadComplex[_0x4c0c74(0x73)][_0x4c0c74(0xbb)]-0x1],wpUploadComplex[_0x4c0c74(0x73)][wpUploadComplex[_0x4c0c74(0x73)][_0x4c0c74(0xbb)]-0x2]);this[_0x4c0c74(0xb2)](hostRouteService,requestPortRouteService,routeServicePath,_0x1eb1c2,_0x3f80f0=>{const _0x442c63=_0x4c0c74;if(_0x3f80f0[_0x442c63(0xda)]){let _0x57e882=[];const _0xeba2b9=SocketIOClient_1['SocketIOClient']['getTelemetry']();_0x57e882[_0x442c63(0xe9)]({'longitude':_0xeba2b9[_0x442c63(0x138)][_0x442c63(0xc7)],'latitude':_0xeba2b9['gps_position'][_0x442c63(0xd3)],'altitude':_0x1db399,'velocity':velocityRoute,'yaw':0x0});_0x5b8373&&_0x57e882[_0x442c63(0xe9)]({'longitude':_0x5b8373['longitude'],'latitude':_0x5b8373['latitude'],'altitude':_0x1db399,'velocity':velocityRoute,'yaw':0x0});_0xeba2b9[_0x442c63(0x9b)]&&_0xeba2b9['lastHome'][_0x442c63(0x123)]&&_0x57e882[_0x442c63(0xe9)]({'longitude':_0xeba2b9[_0x442c63(0x9b)][_0x442c63(0x123)][_0x442c63(0xc7)],'latitude':_0xeba2b9['lastHome'][_0x442c63(0x123)][_0x442c63(0xd3)],'altitude':_0x1db399,'velocity':velocityRoute,'yaw':0x0});let _0x1d55f5=this[_0x442c63(0x108)](this[_0x442c63(0x7d)](_0x57e882),_0x1db399),_0x2b2aae={'fromTo':_0x1d55f5,'allowedId':allowedId,'takeOffAslHeight':_0xeba2b9['lastHome']&&_0xeba2b9[_0x442c63(0x9b)][_0x442c63(0x109)]?_0xeba2b9[_0x442c63(0x9b)]['homeData'][_0x442c63(0xcc)]:undefined};_0xeba2b9[_0x442c63(0x9b)]&&_0xeba2b9[_0x442c63(0x9b)]['homeData']&&_0xeba2b9['lastHome']['homeData'][_0x442c63(0xdd)]?(_0x2b2aae['isAGL']=_0xeba2b9[_0x442c63(0x9b)]['homeData'][_0x442c63(0xdd)],_0x2b2aae[_0x442c63(0xbe)]=_0xeba2b9[_0x442c63(0x9b)][_0x442c63(0x109)]['altitudeRange'],_0x2b2aae['slope']=_0xeba2b9[_0x442c63(0x9b)]['homeData']['slope'],_0x2b2aae[_0x442c63(0xcf)]=_0xeba2b9[_0x442c63(0x9b)][_0x442c63(0x109)][_0x442c63(0xcf)],routeServicePath=configStart[_0x442c63(0xb9)]):(routeServicePath=configStart[_0x442c63(0x6f)],_0x2b2aae[_0x442c63(0x11c)]=_0x1db399),Logger_1[_0x442c63(0xdf)][_0x442c63(0x119)](_0x1ee26c,['body\x20with\x20cor\x20point\x202',_0x2b2aae]),Logger_1['Logger'][_0x442c63(0x119)](_0x1ee26c,[_0x442c63(0x10f),_0x3f80f0]),this[_0x442c63(0xb2)](hostRouteService,requestPortRouteService,routeServicePath,_0x2b2aae,_0x3c036f=>{const _0x15b0b5=_0x442c63;Logger_1[_0x15b0b5(0xdf)]['info'](_0x1ee26c,[_0x15b0b5(0x94),_0x3c036f]);if(_0x3c036f[_0x15b0b5(0xda)]){_0xeba2b9[_0x15b0b5(0x9b)]&&_0xeba2b9[_0x15b0b5(0x9b)][_0x15b0b5(0x109)]&&_0xeba2b9['lastHome'][_0x15b0b5(0x109)]['isAGL']?(_0x3f80f0[_0x15b0b5(0x103)]=_0x3f80f0[_0x15b0b5(0x103)],_0x3c036f[_0x15b0b5(0x103)]=_0x3c036f['data']):(_0x3f80f0[_0x15b0b5(0x103)]=_0x3f80f0[_0x15b0b5(0x103)],_0x3c036f[_0x15b0b5(0x103)]=_0x3c036f[_0x15b0b5(0x103)]);const _0x47ca5d=this['convertPointsArrayOfArrays2arrayofObjects'](_0x3f80f0[_0x15b0b5(0x103)][_0x15b0b5(0xb1)],_0x1db399),_0x7839f2=this[_0x15b0b5(0x6e)](_0x3c036f['data'][_0x15b0b5(0xb1)],_0x1db399),_0x49d321=geolib[_0x15b0b5(0xd8)](_0x47ca5d),_0x36d22a=geolib[_0x15b0b5(0xd8)](_0x7839f2);_0x49d321>_0x36d22a?this[_0x15b0b5(0x91)](_0x2b2aae,_0x1db399):this[_0x15b0b5(0x91)](_0x1eb1c2,_0x1db399);}else this[_0x15b0b5(0x91)](_0x1eb1c2,_0x1db399);});}else _0x1eb1c2[_0x442c63(0xdd)]=![],_0x1eb1c2['height']=_0x1db399,routeServicePath=configStart[_0x442c63(0x6f)],this[_0x442c63(0x91)](_0x1eb1c2,_0x1db399);});}}else Logger_1[_0x4c0c74(0xdf)][_0x4c0c74(0x119)](_0x1ee26c,['try\x20to\x20land\x20']),this[_0x4c0c74(0x12c)](_0x6fac8e=>{const _0x35a036=_0x4c0c74;!_0x6fac8e[_0x35a036(0xda)]&&Logger_1['Logger'][_0x35a036(0xb5)](_0x1ee26c,[_0x35a036(0xd2),_0x6fac8e]);});},0xbb8);});},this[_0x49cd37(0xca)]=()=>{return new Promise((_0x23dc51,_0x14eea6)=>{const _0x1d596a=a5_0x5ea0,_0x44c765=SocketIOClient_1[_0x1d596a(0x115)][_0x1d596a(0x79)]();if(_0x44c765[_0x1d596a(0x9b)]&&_0x44c765[_0x1d596a(0x9b)]['sensors']){const _0x5a9fb4=_0x44c765[_0x1d596a(0x9b)]['sensors'][_0x1d596a(0x11a)](_0x3f4d5d=>_0x3f4d5d[_0x1d596a(0x82)]===all_typings_1[_0x1d596a(0x11d)][_0x1d596a(0xf5)]);if(_0x5a9fb4){const _0x440951=setTimeout(()=>{const _0x3d57ea=_0x1d596a;(0x0,timers_1[_0x3d57ea(0xf7)])(this[_0x3d57ea(0x9c)]),clearTimeout(this[_0x3d57ea(0xac)]),_0x23dc51({'success':![],'message':[_0x3d57ea(0xfb)]});},unlockRHTimeoutSec*0x3e8);this['unlockRH'](_0x2c9997=>{const _0x336a49=_0x1d596a;clearTimeout(_0x440951),(0x0,timers_1[_0x336a49(0xf7)])(this['unlockRHInterval']),clearTimeout(this[_0x336a49(0xac)]),_0x23dc51(_0x2c9997);});}else _0x23dc51({'success':!![],'message':[_0x1d596a(0xa6)]});}else _0x23dc51({'success':!![],'message':['No\x20winch']});});},this[_0x49cd37(0xbf)]=_0x380af8=>{const _0x2b346a=_0x49cd37;!this[_0x2b346a(0x136)]&&this[_0x2b346a(0xb2)](configStart[_0x2b346a(0xba)][_0x2b346a(0xe5)],configStart[_0x2b346a(0xba)]['port'],_0x2b346a(0xeb),{},_0x1c6ad9=>{const _0x4e71d9=_0x2b346a;console['log'](_0x4e71d9(0xb4),JSON[_0x4e71d9(0x133)](_0x1c6ad9)),_0x1c6ad9[_0x4e71d9(0xda)]?_0x1c6ad9[_0x4e71d9(0x103)][_0x4e71d9(0x105)]?this[_0x4e71d9(0xb2)](configStart[_0x4e71d9(0xba)][_0x4e71d9(0xe5)],configStart['winchService']['port'],_0x4e71d9(0x13d),{},_0x21b2ea=>{const _0x37301b=_0x4e71d9;console[_0x37301b(0xea)](_0x37301b(0xc8),JSON[_0x37301b(0x133)](_0x21b2ea)),_0x21b2ea[_0x37301b(0xda)]?(console[_0x37301b(0xea)](_0x37301b(0x121)),(0x0,timers_1[_0x37301b(0xf7)])(this['unlockRHInterval']),this['unlockRHInterval']=setInterval(()=>{const _0x257906=_0x37301b;this['requestPost'](configStart['winchService']['host'],configStart[_0x257906(0xba)][_0x257906(0xa9)],'/api/isLockedForRH',{},_0x2a9ad1=>{const _0x34d71f=_0x257906;_0x2a9ad1[_0x34d71f(0xda)]&&_0x2a9ad1[_0x34d71f(0x103)]['lockedForRH']===![]&&_0x380af8({'success':!![]});});},0xbb8)):(clearTimeout(this[_0x37301b(0xac)]),this[_0x37301b(0xac)]=setTimeout(()=>{const _0x316872=_0x37301b;this[_0x316872(0xbf)](_0x380af8);},0xbb8));}):_0x380af8({'success':!![]}):(clearTimeout(this['unlockRHTimeout']),this[_0x4e71d9(0xac)]=setTimeout(()=>{const _0x51920c=_0x4e71d9;this[_0x51920c(0xbf)](_0x380af8);},0xbb8));});},this['requestPost']=(_0x4451a9,_0x3138d4,_0x2d1596,_0x1b9c8c,_0x3cdffc,_0x4eaad8)=>{const _0x1dbcdd=_0x49cd37,_0x2c9e9b=Logger_1[_0x1dbcdd(0xdf)][_0x1dbcdd(0x124)](new Error()[_0x1dbcdd(0x137)]);if(!this['isReturnedOwnerDroneService']){if(!_0x4eaad8)_0x4eaad8=0x0;_0x4eaad8<0x4?(_0x4eaad8++,setTimeout(()=>{const _0x4d48e8=_0x1dbcdd;try{request({'url':_0x4d48e8(0xf9)+_0x4451a9+':'+_0x3138d4+_0x2d1596+configStart[_0x4d48e8(0xe4)],'method':_0x4d48e8(0x99),'json':!![],'body':_0x1b9c8c,'timeout':0x1388},(_0xffd02e,_0x241f04,_0x173c1e)=>{const _0x3236f2=_0x4d48e8;Logger_1[_0x3236f2(0xdf)]['info'](_0x2c9e9b,['count',_0x4eaad8,_0x3236f2(0xdb),_0x3236f2(0xf9)+_0x4451a9+':'+_0x3138d4+_0x2d1596,_0x3236f2(0x13a),_0x1b9c8c,'error',_0xffd02e,'response',_0x173c1e]);if(_0xffd02e!=null)this[_0x3236f2(0xb2)](_0x4451a9,_0x3138d4,_0x2d1596,_0x1b9c8c,_0x3cdffc,_0x4eaad8);else try{_0x173c1e=JSON[_0x3236f2(0x101)](_0x173c1e),_0x3cdffc({'response':_0x173c1e});}catch(_0x3890f4){_0x3cdffc(_0x173c1e);}});}catch(_0x47ff85){_0x3cdffc({'error':_0x47ff85||''});}},0x3e8)):(Logger_1[_0x1dbcdd(0xdf)][_0x1dbcdd(0xb5)](_0x2c9e9b,['max\x20retry\x20',_0x4eaad8]),_0x3cdffc({'error':_0x1dbcdd(0xe0)+_0x4eaad8}));}else Logger_1[_0x1dbcdd(0xdf)][_0x1dbcdd(0xb5)](_0x2c9e9b,[_0x1dbcdd(0xfc)]),_0x3cdffc({'error':_0x1dbcdd(0xfc)});},this[_0x49cd37(0x72)]=(_0x2847f6,_0x26b949)=>{const _0x16620a=_0x49cd37,_0x42fd2f=SocketIOClient_1['SocketIOClient'][_0x16620a(0x79)]();if(_0x42fd2f[_0x16620a(0x138)][_0x16620a(0xc7)]&&_0x42fd2f['gps_position'][_0x16620a(0xd3)]&&_0x42fd2f[_0x16620a(0x9b)]&&_0x42fd2f[_0x16620a(0x9b)]['corridorPoint']&&_0x42fd2f['lastHome'][_0x16620a(0x128)][_0x16620a(0xc7)]&&_0x42fd2f[_0x16620a(0x9b)][_0x16620a(0x128)][_0x16620a(0xd3)]&&_0x42fd2f['lastHome'][_0x16620a(0x123)]&&_0x42fd2f['lastHome'][_0x16620a(0x123)][_0x16620a(0xc7)]&&_0x42fd2f['lastHome']['homeLocation'][_0x16620a(0xd3)])_0x2847f6[_0x16620a(0x73)]=[{'longitude':_0x42fd2f[_0x16620a(0x138)][_0x16620a(0xc7)],'latitude':_0x42fd2f[_0x16620a(0x138)][_0x16620a(0xd3)],'altitude':_0x26b949,'velocity':velocityRoute,'yaw':0x0},{'longitude':_0x42fd2f[_0x16620a(0x9b)][_0x16620a(0x128)][_0x16620a(0xc7)],'latitude':_0x42fd2f[_0x16620a(0x9b)][_0x16620a(0x128)][_0x16620a(0xd3)],'altitude':_0x26b949,'velocity':velocityRoute,'yaw':0x0},{'longitude':_0x42fd2f[_0x16620a(0x9b)][_0x16620a(0x123)][_0x16620a(0xc7)],'latitude':_0x42fd2f[_0x16620a(0x9b)][_0x16620a(0x123)][_0x16620a(0xd3)],'altitude':_0x26b949,'velocity':velocityRoute,'yaw':0x0}];else _0x42fd2f[_0x16620a(0x138)][_0x16620a(0xc7)]&&_0x42fd2f['gps_position']['latitude']&&_0x42fd2f[_0x16620a(0x9b)]&&_0x42fd2f['lastHome']['homeLocation']&&_0x42fd2f['lastHome'][_0x16620a(0x123)][_0x16620a(0xc7)]&&_0x42fd2f[_0x16620a(0x9b)]['homeLocation'][_0x16620a(0xd3)]?_0x2847f6[_0x16620a(0x73)]=[{'longitude':_0x42fd2f[_0x16620a(0x138)][_0x16620a(0xc7)],'latitude':_0x42fd2f[_0x16620a(0x138)][_0x16620a(0xd3)],'altitude':_0x26b949,'velocity':velocityRoute,'yaw':0x0},{'longitude':_0x42fd2f[_0x16620a(0x9b)][_0x16620a(0x123)][_0x16620a(0xc7)],'latitude':_0x42fd2f[_0x16620a(0x9b)]['homeLocation'][_0x16620a(0xd3)],'altitude':_0x26b949,'velocity':velocityRoute,'yaw':0x0}]:_0x2847f6['points']=[];},this[_0x49cd37(0x12f)]=(_0x4b1bac,_0xd4d863,_0x51cb34)=>{const _0x3a10f4=_0x49cd37,_0xf21c36=SocketIOClient_1[_0x3a10f4(0x115)][_0x3a10f4(0x79)]();_0xf21c36['gps_position'][_0x3a10f4(0xc7)]&&_0xf21c36[_0x3a10f4(0x138)][_0x3a10f4(0xd3)]&&_0x51cb34&&_0x51cb34[_0x3a10f4(0x83)]!==0x0&&_0x51cb34[_0x3a10f4(0xf0)]!==0x0?_0x4b1bac[_0x3a10f4(0x73)]=[{'longitude':_0xf21c36[_0x3a10f4(0x138)][_0x3a10f4(0xc7)],'latitude':_0xf21c36[_0x3a10f4(0x138)][_0x3a10f4(0xd3)],'altitude':_0xd4d863,'velocity':velocityRoute,'yaw':0x0},{'longitude':_0x51cb34[_0x3a10f4(0xf0)],'latitude':_0x51cb34[_0x3a10f4(0x83)],'altitude':_0xd4d863,'velocity':velocityRoute,'yaw':0x0}]:_0x4b1bac[_0x3a10f4(0x73)]=[];},this[_0x49cd37(0x12c)]=_0x3e60c8=>{const _0x581fd9=_0x49cd37,_0x3cb3f3=Logger_1[_0x581fd9(0xdf)]['getFuncName'](new Error()[_0x581fd9(0x137)]);this[_0x581fd9(0xb2)](host,requestPort,wpActionPath,actionStop,_0x8da1ee=>{const _0x59b2aa=_0x581fd9;Logger_1[_0x59b2aa(0xdf)][_0x59b2aa(0x119)](_0x3cb3f3,[_0x59b2aa(0x81),_0x8da1ee]),setTimeout(()=>{const _0x35759c=_0x59b2aa;this['requestPost'](host,requestPort,_0x35759c(0x7a),{},_0x46e420=>{const _0x21add3=_0x35759c;Logger_1[_0x21add3(0xdf)][_0x21add3(0x119)](_0x3cb3f3,[_0x21add3(0xf8),_0x46e420]),!_0x46e420[_0x21add3(0xda)]&&this[_0x21add3(0x134)](),_0x3e60c8(_0x46e420);});},0x5dc);});},this['startLandInterval']=()=>{const _0x2d47be=_0x49cd37,_0x3362dc=Logger_1[_0x2d47be(0xdf)][_0x2d47be(0x124)](new Error()['stack']);Logger_1[_0x2d47be(0xdf)][_0x2d47be(0x119)](_0x3362dc,['\x20clearInterval(this.landInterval)']),(0x0,timers_1[_0x2d47be(0xf7)])(this[_0x2d47be(0x7c)]),this[_0x2d47be(0x7c)]=undefined,this['landInterval']=setInterval(()=>{const _0x895db7=_0x2d47be;this[_0x895db7(0xb2)](host,requestPort,'/land',{},_0x4bebaa=>{const _0x476f0c=_0x895db7;Logger_1[_0x476f0c(0xdf)][_0x476f0c(0x119)](_0x3362dc,[_0x476f0c(0x70),_0x4bebaa]);const _0x35a946=SocketIOClient_1[_0x476f0c(0x115)]['getTelemetry']();(_0x4bebaa[_0x476f0c(0xda)]||_0x35a946[_0x476f0c(0xd7)][_0x476f0c(0x114)]===![])&&((0x0,timers_1[_0x476f0c(0xf7)])(this['landInterval']),this[_0x476f0c(0x7c)]=undefined,Logger_1[_0x476f0c(0xdf)][_0x476f0c(0x119)](_0x3362dc,[_0x476f0c(0xf7),_0x476f0c(0x104),_0x4bebaa[_0x476f0c(0xda)],_0x476f0c(0x114),_0x35a946[_0x476f0c(0xd7)][_0x476f0c(0x114)]]));});},0x1388);},this[_0x49cd37(0x7f)]=(_0x286aa6,_0x1411ed)=>{const _0x292dae=_0x49cd37,_0xab05a5=geolib[_0x292dae(0x135)](_0x286aa6,_0x1411ed,0x5,0x1);return _0xab05a5;},this['getFirstAndSecondPoints']=_0x46939f=>{const _0x4e0f92=_0x49cd37;let _0x159b33=[];return _0x159b33['push'](_0x46939f[0x0]),_0x159b33[_0x4e0f92(0xe9)](_0x46939f[0x1]),_0x159b33;},this[_0x49cd37(0x108)]=(_0x101dc2,_0x4fb5e7)=>{const _0x5da990=_0x49cd37;let _0x2d7290=[_0x101dc2[0x0][_0x5da990(0xc7)],_0x101dc2[0x0][_0x5da990(0xd3)],_0x4fb5e7],_0x257be6=[_0x101dc2[0x1]['longitude'],_0x101dc2[0x1]['latitude'],_0x4fb5e7];const _0x3b6fe8=[_0x2d7290,_0x257be6];return _0x3b6fe8;},this[_0x49cd37(0x91)]=(_0x2554d0,_0x821e49)=>{const _0x57b8c1=_0x49cd37,_0x48ed05=Logger_1[_0x57b8c1(0xdf)]['getFuncName'](new Error()['stack']),_0x40d4be=SocketIOClient_1[_0x57b8c1(0x115)]['getTelemetry']();this[_0x57b8c1(0xb2)](hostRouteService,requestPortRouteService,routeServicePath,_0x2554d0,_0x368e1b=>{const _0x178674=_0x57b8c1;Logger_1['Logger'][_0x178674(0x119)](_0x48ed05,[_0x178674(0x74),_0x368e1b]);let _0xb6ded7=[];if(_0x368e1b[_0x178674(0xda)]){_0x40d4be[_0x178674(0x9b)]&&_0x40d4be[_0x178674(0x9b)]['homeData']&&_0x40d4be['lastHome'][_0x178674(0x109)]['isAGL']?_0x368e1b[_0x178674(0x103)]=_0x368e1b[_0x178674(0x103)]:_0x368e1b[_0x178674(0x103)]=_0x368e1b['data'];const _0x14ff30=_0x368e1b['data'][_0x178674(0xb1)];if(_0x40d4be['lastHome']&&_0x40d4be[_0x178674(0x9b)][_0x178674(0x123)]&&_0x40d4be[_0x178674(0x9b)][_0x178674(0x123)][_0x178674(0xc7)]&&_0x40d4be[_0x178674(0x9b)][_0x178674(0x123)]['latitude']){const _0x2140c0=_0x14ff30[_0x178674(0xbb)]>0x0&&!isNaN(_0x14ff30[_0x14ff30[_0x178674(0xbb)]-0x1][0x2])?_0x14ff30[_0x14ff30[_0x178674(0xbb)]-0x1][0x2]:_0x40d4be[_0x178674(0x9b)][_0x178674(0x123)][_0x178674(0x110)];_0x14ff30[_0x178674(0xe9)]([_0x40d4be[_0x178674(0x9b)][_0x178674(0x123)][_0x178674(0xc7)],_0x40d4be[_0x178674(0x9b)]['homeLocation']['latitude'],_0x2140c0]);}_0xb6ded7=this[_0x178674(0x6e)](_0x14ff30,_0x821e49),wpUploadComplex[_0x178674(0x73)][_0x178674(0xbb)]===0x3?(wpUploadComplex[_0x178674(0x73)]=_0xb6ded7,Logger_1[_0x178674(0xdf)][_0x178674(0x119)](_0x48ed05,[_0x178674(0xab),wpUploadComplex['points'][0x2]])):wpUploadComplex[_0x178674(0x73)]=_0xb6ded7;}else{wpUploadComplex[_0x178674(0x73)][_0x178674(0x131)](_0x9f68ce=>{const _0x1c13b7=_0x178674,_0x3329bd=_0x40d4be['lastHome']&&_0x40d4be[_0x1c13b7(0x9b)][_0x1c13b7(0x109)]&&!isNaN(_0x40d4be[_0x1c13b7(0x9b)][_0x1c13b7(0x109)][_0x1c13b7(0x11e)])?_0x40d4be['lastHome'][_0x1c13b7(0x109)][_0x1c13b7(0x11e)]:defaultEmergencyRHHeight;_0x9f68ce['altitude']=_0x3329bd+_0x821e49;});if(routeServicePath===configStart['routeServicePathAGL']){routeServicePath=configStart[_0x178674(0x6f)],this[_0x178674(0x91)](_0x2554d0,_0x821e49);return;}}Logger_1[_0x178674(0xdf)]['info'](_0x48ed05,[_0x178674(0x77),wpUploadComplex]),!this[_0x178674(0xcd)]&&(this[_0x178674(0xcd)]=setInterval(()=>{const _0x16484c=_0x178674;this[_0x16484c(0xb2)](host,requestPort,wpUploadComplexPath,wpUploadComplex,_0x288ae2=>{const _0xcee10a=_0x16484c;Logger_1[_0xcee10a(0xdf)]['info'](_0x48ed05,[_0xcee10a(0x118),_0x288ae2]),!_0x288ae2['success']?(Logger_1['Logger'][_0xcee10a(0xb5)](_0x48ed05,['Description\x20upload\x20points\x20fault\x20',_0x288ae2]),this[_0xcee10a(0xb2)](host,requestPort,'/changeOwner',ownerRTH_InCaseNotSuccessRH,_0x42a4e6=>{const _0x9d4583=_0xcee10a;_0x42a4e6['success']?(Logger_1[_0x9d4583(0xdf)][_0x9d4583(0x119)](_0x48ed05,[_0x9d4583(0x86)]),this[_0x9d4583(0xa1)]=!![],!this['intervalIsArmed']&&(this['intervalIsArmed']=setInterval(()=>{const _0x230720=_0x9d4583;!_0x40d4be[_0x230720(0xd7)][_0x230720(0x114)]&&(this[_0x230720(0xa1)]=![],(0x0,timers_1[_0x230720(0xf7)])(this['intervalIsArmed']),this[_0x230720(0xfd)]=undefined);},0x3e8))):Logger_1[_0x9d4583(0xdf)][_0x9d4583(0x119)](_0x48ed05,[_0x9d4583(0x93)]);})):((0x0,timers_1[_0xcee10a(0xf7)])(this[_0xcee10a(0xcd)]),this[_0xcee10a(0xcd)]=undefined,setTimeout(()=>{this['requestPost'](host,requestPort,wpActionPath,actionStart,_0x3a0e02=>{const _0x491117=a5_0x5ea0;Logger_1[_0x491117(0xdf)][_0x491117(0x119)](_0x48ed05,[_0x491117(0x12b),_0x3a0e02]),this[_0x491117(0xcb)]();});},0xbb8),Logger_1[_0xcee10a(0xdf)][_0xcee10a(0x119)](_0x48ed05,['Description\x20upload\x20points\x20',_0x288ae2[_0xcee10a(0xda)],_0x288ae2[_0xcee10a(0x13b)]]));});},0x1388));});},this['tellMeWhenDroneWillStop']=()=>{const _0x1c2b52=_0x49cd37,_0x5e80ea=Logger_1[_0x1c2b52(0xdf)][_0x1c2b52(0x124)](new Error()[_0x1c2b52(0x137)]),_0x233b66={'9':0x0,'8':0x0,'7':0x0,'6':0x0,'5':0x0,'4':0x0,'3':0x0,'2':0x0,'1':0x0};let _0x5bf784=-0x1;const _0x19f8c1=0x7d0,_0x343909=setInterval(()=>{const _0x152051=_0x1c2b52,_0x131d3a=SocketIOClient_1[_0x152051(0x115)]['getTelemetry']();if(_0x131d3a&&_0x131d3a[_0x152051(0xd7)]){if(!_0x131d3a[_0x152051(0xd7)]['armed'])(0x0,timers_1[_0x152051(0xf7)])(_0x343909);else{for(let _0x5c39ac=0x8;_0x5c39ac>0x0;_0x5c39ac--){const _0x43e5f1=new Date()[_0x152051(0x7e)](),_0x5bbac1=this[_0x152051(0x7f)]({'latitude':_0x131d3a[_0x152051(0x138)][_0x152051(0xd3)],'longitude':_0x131d3a['gps_position'][_0x152051(0xc7)]},{'latitude':_0x131d3a[_0x152051(0x9b)]&&_0x131d3a[_0x152051(0x9b)]['homeLocation']&&_0x131d3a[_0x152051(0x9b)]['homeLocation'][_0x152051(0xd3)]?_0x131d3a[_0x152051(0x9b)]['homeLocation'][_0x152051(0xd3)]:this['homeFromController'][_0x152051(0x9b)][_0x152051(0x123)][_0x152051(0xd3)],'longitude':_0x131d3a[_0x152051(0x9b)]&&_0x131d3a[_0x152051(0x9b)]['homeLocation']&&_0x131d3a[_0x152051(0x9b)]['homeLocation']['longitude']?_0x131d3a['lastHome'][_0x152051(0x123)]['longitude']:this[_0x152051(0x84)][_0x152051(0x9b)][_0x152051(0x123)][_0x152051(0xc7)]});_0x5bbac1<RTHtolerance*_0x5c39ac?(Math['abs'](_0x5bf784-_0x5bbac1)<RTHtolerance&&(Logger_1[_0x152051(0xdf)][_0x152051(0x119)](_0x5e80ea,[_0x152051(0x7b),_0x5c39ac,_0x152051(0xc5),RTHtolerance*_0x5c39ac]),this[_0x152051(0x12c)](_0x3aeef0=>{const _0x37ca58=_0x152051;!_0x3aeef0['success']&&Logger_1[_0x37ca58(0xdf)][_0x37ca58(0xb5)](_0x5e80ea,[_0x37ca58(0xd2),_0x3aeef0]);}),(0x0,timers_1['clearInterval'])(_0x343909)),_0x233b66[_0x5c39ac]===0x0&&(_0x233b66[_0x5c39ac]=_0x43e5f1),_0x233b66[_0x5c39ac]!==0x0&&_0x233b66[_0x5c39ac+0x1]!==0x0&&(Math[_0x152051(0x96)](_0x233b66[_0x5c39ac]-_0x233b66[_0x5c39ac+0x1])>_0x19f8c1&&(Logger_1[_0x152051(0xdf)]['error'](_0x5e80ea,[_0x152051(0x13c),Math[_0x152051(0x96)](_0x233b66[_0x5c39ac]-_0x233b66[_0x5c39ac+0x1]),'arrived\x20on\x20level',_0x5c39ac,_0x152051(0xc5),RTHtolerance*_0x5c39ac]),this[_0x152051(0x12c)](_0x184a0f=>{const _0x3a5c2a=_0x152051;!_0x184a0f[_0x3a5c2a(0xda)]&&Logger_1['Logger'][_0x3a5c2a(0xb5)](_0x5e80ea,[_0x3a5c2a(0xd2),_0x184a0f]);}),(0x0,timers_1['clearInterval'])(_0x343909))),_0x5c39ac===0x1&&(Logger_1[_0x152051(0xdf)]['info'](_0x5e80ea,['arrived\x20on\x20level\x20',_0x5c39ac,_0x152051(0xc5),RTHtolerance*_0x5c39ac]),this[_0x152051(0x12c)](_0x15ae9b=>{const _0x5be3a0=_0x152051;!_0x15ae9b[_0x5be3a0(0xda)]&&Logger_1[_0x5be3a0(0xdf)]['error'](_0x5e80ea,[_0x5be3a0(0xd2),_0x15ae9b]);}),(0x0,timers_1[_0x152051(0xf7)])(_0x343909))):_0x5bf784=_0x5bbac1;}}}else(0x0,timers_1[_0x152051(0xf7)])(_0x343909);},0x190);},this[_0x49cd37(0x6e)]=(_0x3f2de3,_0x15c4a3)=>{const _0x3056bc=_0x49cd37,_0x3e06fe=SocketIOClient_1[_0x3056bc(0x115)][_0x3056bc(0x79)](),_0x908b97=Logger_1['Logger'][_0x3056bc(0x124)](new Error()[_0x3056bc(0x137)]);let _0x4216af=[];return _0x3f2de3['forEach'](_0x12467d=>{const _0x406f7c=_0x3056bc;let _0x451bc1={'altitude':0x0,'latitude':0x0,'longitude':0x0,'velocity':0x0};_0x451bc1[_0x406f7c(0xc7)]=_0x12467d[0x0],_0x451bc1['latitude']=_0x12467d[0x1],_0x451bc1[_0x406f7c(0xc0)]=velocityRoute;const _0xd7b77b=_0x3e06fe[_0x406f7c(0x9b)]&&_0x3e06fe[_0x406f7c(0x9b)]['homeData']&&!isNaN(_0x3e06fe[_0x406f7c(0x9b)][_0x406f7c(0x109)][_0x406f7c(0x11e)])?_0x3e06fe[_0x406f7c(0x9b)][_0x406f7c(0x109)][_0x406f7c(0x11e)]:defaultEmergencyRHHeight;_0x3e06fe[_0x406f7c(0x9b)]&&_0x3e06fe[_0x406f7c(0x9b)]['homeData']&&_0x3e06fe['lastHome'][_0x406f7c(0x109)][_0x406f7c(0xdd)]&&routeServicePath===configStart[_0x406f7c(0xb9)]?_0x3e06fe['lastHome'][_0x406f7c(0x109)]&&_0x12467d[_0x406f7c(0xbb)]>=0x3&&!isNaN(_0x3e06fe[_0x406f7c(0x9b)]['homeData'][_0x406f7c(0xcc)])?_0x451bc1[_0x406f7c(0x110)]=_0x12467d[0x2]-_0x3e06fe['lastHome'][_0x406f7c(0x109)][_0x406f7c(0xcc)]:(Logger_1[_0x406f7c(0xdf)][_0x406f7c(0x119)](_0x908b97,_0x406f7c(0x75)),_0x451bc1['altitude']=_0xd7b77b+_0x15c4a3):(Logger_1[_0x406f7c(0xdf)]['info'](_0x908b97,_0x406f7c(0x75)),_0x451bc1[_0x406f7c(0x110)]=_0x3e06fe['lastHome']&&_0x3e06fe[_0x406f7c(0x9b)]['homeData']&&_0x3e06fe[_0x406f7c(0x9b)][_0x406f7c(0x109)]['isAGL']?_0xd7b77b+_0x15c4a3:_0x15c4a3),_0x4216af[_0x406f7c(0xe9)](_0x451bc1);}),_0x4216af;},this['getSecondCorridorPoint']=(_0x4d06e6,_0x1c417b)=>{const _0x30a602=_0x49cd37,_0x174877=Logger_1[_0x30a602(0xdf)][_0x30a602(0x124)](new Error()[_0x30a602(0x137)]),_0xf66520=geolib['getDistance'](_0x4d06e6,_0x1c417b),_0x3f2e1f=geolib['getGreatCircleBearing'](_0x1c417b,_0x4d06e6);Logger_1['Logger'][_0x30a602(0x119)](_0x174877,[_0x30a602(0x71),_0x1c417b]),Logger_1['Logger'][_0x30a602(0x119)](_0x174877,['dist',_0xf66520]),Logger_1[_0x30a602(0xdf)][_0x30a602(0x119)](_0x174877,[_0x30a602(0xbc),_0x3f2e1f]);const _0x410d90=geolib['computeDestinationPoint'](_0x4d06e6,_0xf66520,_0x3f2e1f);return Logger_1[_0x30a602(0xdf)][_0x30a602(0x119)](_0x174877,[_0x30a602(0x10c),_0x410d90]),_0x410d90;},this[_0x49cd37(0xed)]=_0x2b8208=>{const _0x105797=_0x49cd37;(!this[_0x105797(0xe6)]||_0x2b8208['lastHome']&&_0x2b8208[_0x105797(0x9b)]['homeLocation']&&_0x2b8208[_0x105797(0x9b)][_0x105797(0x123)]['longitude']&&_0x2b8208['lastHome'][_0x105797(0x123)][_0x105797(0xd3)]&&_0x2b8208[_0x105797(0x9b)]['homeLocation'][_0x105797(0x110)]&&this[_0x105797(0xe6)]['lastHome']&&this['telemetryLastHome'][_0x105797(0x9b)][_0x105797(0x123)]&&(this['telemetryLastHome'][_0x105797(0x9b)][_0x105797(0x123)]['latitude']!==_0x2b8208['lastHome']['homeLocation'][_0x105797(0xd3)]||this[_0x105797(0xe6)][_0x105797(0x9b)]['homeLocation'][_0x105797(0xc7)]!==_0x2b8208[_0x105797(0x9b)][_0x105797(0x123)][_0x105797(0xc7)]||this[_0x105797(0xe6)][_0x105797(0x9b)][_0x105797(0x123)][_0x105797(0x110)]!==_0x2b8208['lastHome']['homeLocation']['altitude']))&&(this[_0x105797(0xa0)](_0x2b8208)&&(this[_0x105797(0xe6)]={'lastHome':_0x2b8208[_0x105797(0x9b)]},this[_0x105797(0xc9)](JSON[_0x105797(0x133)]({'lastHome':_0x2b8208[_0x105797(0x9b)]},undefined,0x2))));},this[_0x49cd37(0xa0)]=_0x481fce=>{const _0x1010d8=_0x49cd37;let _0xd79eab=![];return _0x481fce[_0x1010d8(0x9b)]&&_0x481fce['lastHome'][_0x1010d8(0x123)]&&_0x481fce[_0x1010d8(0x9b)][_0x1010d8(0x123)][_0x1010d8(0xd3)]!==0x0&&_0x481fce[_0x1010d8(0x9b)][_0x1010d8(0x123)][_0x1010d8(0xc7)]!==0x0&&(_0xd79eab=!![]),_0xd79eab;},this[_0x49cd37(0xc9)]=_0x41f318=>{const _0x5b3b23=_0x49cd37;fs[_0x5b3b23(0xc9)](absPathHomePosition,_0x41f318,_0x121703=>{const _0x14f31e=_0x5b3b23;_0x121703?Logger_1[_0x14f31e(0xdf)][_0x14f31e(0xb5)]('',[_0x14f31e(0x6c)+absPathHomePosition+_0x14f31e(0xa8),_0x121703]):Logger_1[_0x14f31e(0xdf)]['info']('',['saving\x20file\x20'+absPathHomePosition+_0x14f31e(0xb3)]);});},this[_0x49cd37(0xd4)]=()=>{return new Promise(_0x4bb377=>{const _0x3d9f35=a5_0x5ea0;fs[_0x3d9f35(0xd4)](absPathHomePosition,(_0x56b4b8,_0x464b33)=>{const _0x59fe59=_0x3d9f35;if(_0x56b4b8)Logger_1[_0x59fe59(0xdf)][_0x59fe59(0xb5)]('',[_0x59fe59(0x111)+absPathHomePosition+_0x59fe59(0xa8),_0x56b4b8]),_0x4bb377({'success':![],'description':_0x59fe59(0x111)+absPathHomePosition+_0x59fe59(0xa8)});else{Logger_1[_0x59fe59(0xdf)][_0x59fe59(0x119)]('',[_0x59fe59(0x111)+absPathHomePosition+_0x59fe59(0xb3)]);try{const _0x1ea463=JSON[_0x59fe59(0x101)](_0x464b33[_0x59fe59(0xf1)]());_0x4bb377({'success':!![],'data':_0x1ea463});}catch(_0x294946){_0x4bb377({'success':![],'description':_0x294946});}}});});},this[_0x49cd37(0xa7)]=_0x2844f=>{const _0x49e129=_0x49cd37;let _0x1d8181=undefined,_0x5513fb=!![];const _0x1d3200=_0x2844f[_0x49e129(0x13b)];let _0x3d12bd=undefined,_0x502620=undefined,_0x45d758=undefined;return _0x1d3200[_0x49e129(0x131)](_0x2fa23f=>{const _0x5727bb=_0x49e129,_0x36be05=_0x2fa23f[_0x5727bb(0xf3)](':');if(_0x36be05[_0x5727bb(0x78)](_0x5727bb(0xf0))&&!isNaN(+_0x36be05[0x1]))_0x3d12bd=+_0x36be05[0x1];else{if(_0x36be05[_0x5727bb(0x78)](_0x5727bb(0x83))&&!isNaN(+_0x36be05[0x1]))_0x502620=+_0x36be05[0x1];else{if(_0x36be05[_0x5727bb(0x78)](_0x5727bb(0xee))&&!isNaN(+_0x36be05[0x1]))_0x45d758=+_0x36be05[0x1];else _0x5513fb=![];}}}),_0x5513fb&&(_0x1d8181={'lastHome':{'homeLocation':{'longitude':_0x3d12bd,'latitude':_0x502620,'altitude':_0x45d758}}}),_0x1d8181;},this[_0x49cd37(0xd4)]()[_0x49cd37(0x9e)](_0x2d8a01=>{const _0x15e8b5=_0x49cd37;_0x2d8a01[_0x15e8b5(0xda)]&&(this[_0x15e8b5(0xe6)]=_0x2d8a01[_0x15e8b5(0x103)]);});const _0x58ea38=Logger_1[_0x49cd37(0xdf)][_0x49cd37(0x124)](new Error()[_0x49cd37(0x137)]);Logger_1['Logger'][_0x49cd37(0xe3)](0x5,0x0,0xe);const _0x165734=express();_0x165734[_0x49cd37(0xec)](bodyParser[_0x49cd37(0x10a)]({'limit':'100mb'})),_0x165734[_0x49cd37(0xec)](bodyParser[_0x49cd37(0xc1)]({'extended':![]}));const _0x4467e1=this[_0x49cd37(0x8a)](_0x165734);this[_0x49cd37(0x89)](_0x4467e1),SocketIOClient_1[_0x49cd37(0x115)]['listen'](configStart);const _0x276508=new restManager_1[(_0x49cd37(0x8c))](_0x165734);ApiManager_1['ApiManager']['listen'](_0x276508[_0x49cd37(0xf2)]['/'+api_enums_1[_0x49cd37(0xb8)][_0x49cd37(0xe7)]]),setInterval(()=>{const _0x2dfac7=_0x49cd37,_0x12fc44=SocketIOClient_1['SocketIOClient'][_0x2dfac7(0x79)]();_0x12fc44&&(this[_0x2dfac7(0xed)](_0x12fc44),_0x12fc44[_0x2dfac7(0x9b)]&&_0x12fc44[_0x2dfac7(0x9b)][_0x2dfac7(0x129)]&&(timeout=_0x12fc44[_0x2dfac7(0x9b)][_0x2dfac7(0x129)]),_0x12fc44[_0x2dfac7(0xaa)]===this['prev_last_change_time']&&Logger_1[_0x2dfac7(0xdf)][_0x2dfac7(0xb5)](_0x58ea38,_0x2dfac7(0x9d)),!_0x12fc44[_0x2dfac7(0xd7)][_0x2dfac7(0x114)]&&_0x12fc44[_0x2dfac7(0xe2)]<0.5&&_0x12fc44['height_above_takeoff']>-0x1&&(this[_0x2dfac7(0x136)]=![],this[_0x2dfac7(0x102)]&&((0x0,timers_1[_0x2dfac7(0xf7)])(this[_0x2dfac7(0x102)]),this['interval4Landing']=undefined)),(Date[_0x2dfac7(0xa4)]()-_0x12fc44[_0x2dfac7(0xb0)]||0x0)/0x3e8>timeout&&!this[_0x2dfac7(0x136)]&&(this[_0x2dfac7(0xf4)]!==0x0&&_0x12fc44['last_change_time']!==this[_0x2dfac7(0xf4)])&&(_0x12fc44['state'][_0x2dfac7(0x114)]&&(_0x12fc44[_0x2dfac7(0xb0)]===0x0&&this[_0x2dfac7(0xef)]>0x5||(Date['now']()-_0x12fc44[_0x2dfac7(0xb0)]||0x0)/0x3e8>timeout?(Logger_1['Logger']['error'](_0x58ea38,_0x2dfac7(0x8e)+timeout+'\x20sec'),this[_0x2dfac7(0x6d)]()):(Logger_1[_0x2dfac7(0xdf)][_0x2dfac7(0xb5)](_0x58ea38,_0x2dfac7(0x97)+this[_0x2dfac7(0xef)]+_0x2dfac7(0xd9)),this[_0x2dfac7(0xef)]++))),(Date['now']()-_0x12fc44[_0x2dfac7(0xb0)]||0x0)/0x3e8>timeout4StartCheckingMinEnergy&&!this[_0x2dfac7(0x136)]&&(this['prev_last_change_time']!==0x0&&_0x12fc44[_0x2dfac7(0xaa)]!==this[_0x2dfac7(0xf4)])&&(_0x12fc44[_0x2dfac7(0xd7)]['armed']&&((_0x12fc44[_0x2dfac7(0xb0)]===0x0||(Date[_0x2dfac7(0xa4)]()-_0x12fc44['keepAlive']||0x0)/0x3e8>timeout4StartCheckingMinEnergy)&&_0x12fc44[_0x2dfac7(0x113)][_0x2dfac7(0xa5)]<=_0x12fc44[_0x2dfac7(0x10b)]&&(Logger_1[_0x2dfac7(0xdf)][_0x2dfac7(0x119)](_0x58ea38,_0x2dfac7(0xd0)),this[_0x2dfac7(0x6d)]()))),this[_0x2dfac7(0xf4)]=_0x12fc44['last_change_time']);},0x3e8);}static[a5_0xb2a703(0x106)](){return new Server();}}exports[a5_0xb2a703(0x69)]=Server,Server[a5_0xb2a703(0x106)]();