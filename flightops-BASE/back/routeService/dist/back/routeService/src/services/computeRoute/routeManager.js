'use strict';const a9_0x4db2af=a9_0x104e;(function(_0x503ead,_0x59fbeb){const _0x352690=a9_0x104e,_0x3cb013=_0x503ead();while(!![]){try{const _0x3333dc=-parseInt(_0x352690(0x175))/0x1*(-parseInt(_0x352690(0x15e))/0x2)+parseInt(_0x352690(0x11c))/0x3+parseInt(_0x352690(0x129))/0x4*(parseInt(_0x352690(0x147))/0x5)+-parseInt(_0x352690(0x12b))/0x6*(-parseInt(_0x352690(0xfc))/0x7)+parseInt(_0x352690(0x158))/0x8*(parseInt(_0x352690(0x157))/0x9)+-parseInt(_0x352690(0x159))/0xa*(parseInt(_0x352690(0x100))/0xb)+parseInt(_0x352690(0x163))/0xc*(-parseInt(_0x352690(0x137))/0xd);if(_0x3333dc===_0x59fbeb)break;else _0x3cb013['push'](_0x3cb013['shift']());}catch(_0x116548){_0x3cb013['push'](_0x3cb013['shift']());}}}(a9_0x3ab2,0xa95ee));function a9_0x104e(_0x259707,_0x98d415){const _0x3ab250=a9_0x3ab2();return a9_0x104e=function(_0x104e7c,_0x199eae){_0x104e7c=_0x104e7c-0xee;let _0x3d5810=_0x3ab250[_0x104e7c];return _0x3d5810;},a9_0x104e(_0x259707,_0x98d415);}Object[a9_0x4db2af(0x131)](exports,a9_0x4db2af(0x15d),{'value':!![]}),exports[a9_0x4db2af(0x10a)]=void 0x0;const _=require(a9_0x4db2af(0xf2)),matrixUtility_1=require('../../../../../classes/applicationClasses/utility/matrixUtility'),dtmManager_1=require('../dtm/dtmManager'),dataUtility_1=require(a9_0x4db2af(0x154)),all_typings_1=require(a9_0x4db2af(0x11f)),siteManager_1=require(a9_0x4db2af(0xf6)),findRouteUtility_1=require(a9_0x4db2af(0x12c)),computeRouteUtility_1=require(a9_0x4db2af(0x11d)),Logger_1=require(a9_0x4db2af(0x13d)),geoUtility_1=require('../../../../../classes/applicationClasses/utility/geoUtility'),bypassReliefUtility_1=require('./bypassReliefUtility'),filterUtility_1=require(a9_0x4db2af(0xf3)),Michael_1=require(a9_0x4db2af(0x155)),routeComputeConfig=require('./../../../../../../../../config/routeComputeConfig.json'),heightRange=routeComputeConfig[a9_0x4db2af(0x120)],heightFactor=routeComputeConfig[a9_0x4db2af(0xf8)];class RouteManager{constructor(){const _0x2537dd=a9_0x4db2af;this[_0x2537dd(0x136)]=_0xfe5ce0=>{const _0xc2e4aa=_0x2537dd;let _0x43e166=(_0xfe5ce0['takeOffAslHeight']||0x0)+_0xfe5ce0[_0xc2e4aa(0x108)][_0xc2e4aa(0x128)];return _0xfe5ce0[_0xc2e4aa(0x164)]?_0x43e166=_0xfe5ce0[_0xc2e4aa(0x140)]-_0xfe5ce0['altitudeRange'][_0xc2e4aa(0x128)]:_0x43e166=(_0xfe5ce0['takeOffAslHeight']||0x0)+_0xfe5ce0[_0xc2e4aa(0x108)][_0xc2e4aa(0x128)],_0x43e166;},this[_0x2537dd(0x11a)]=_0x5c9a44=>{const _0x548dd2=_0x2537dd;let _0x2835ce=(_0x5c9a44[_0x548dd2(0x17c)]||0x0)+_0x5c9a44[_0x548dd2(0x108)][_0x548dd2(0x128)];return _0x2835ce;},this[_0x2537dd(0x142)]=_0x34e721=>{const _0x157022=_0x2537dd;Michael_1['Michael']['log'](_0x157022(0x10c)),Michael_1[_0x157022(0x125)][_0x157022(0x143)](dataUtility_1[_0x157022(0x14c)][_0x157022(0x13a)](),_0x157022(0x15b));let _0x239069={'success':![]};const _0x47da4a=siteManager_1['SiteManager']['getVersion']();if(!(_0x34e721[_0x157022(0x14a)]>_0x47da4a)){const _0x412206=Date[_0x157022(0x15c)]();_0x34e721=Object[_0x157022(0x16f)](Object[_0x157022(0x16f)]({},_0x34e721),this[_0x157022(0xfa)](_0x34e721));const _0x44a0f7=this['computeHeightASLForMatrix'](_0x34e721),_0x33a864=computeRouteUtility_1[_0x157022(0x165)][_0x157022(0x142)](_0x34e721,_0x44a0f7);_0x239069={'success':_0x33a864&&_0x33a864[_0x157022(0x12d)]&&_0x33a864[_0x157022(0x12d)][_0x157022(0x17e)]>0x0,'data':{'route':_0x33a864[_0x157022(0x12d)],'id':_0x33a864['id']}},Michael_1[_0x157022(0x125)][_0x157022(0x143)](dataUtility_1[_0x157022(0x14c)][_0x157022(0x13a)](),_0x157022(0x14e),dataUtility_1[_0x157022(0x14c)][_0x157022(0x104)](_0x412206,_0x157022(0xfe)));}else _0x239069[_0x157022(0x10b)]=_0x157022(0x127)+_0x34e721[_0x157022(0x14a)]+'existing\x20version\x20of\x20the\x20matrix:\x20'+_0x47da4a;return _0x239069;},this[_0x2537dd(0x110)]=_0x254f61=>{return new Promise((_0x785e5,_0x1a0353)=>{const _0x30772e=a9_0x104e;Michael_1[_0x30772e(0x125)][_0x30772e(0x143)](_0x30772e(0x10c)),Michael_1['Michael'][_0x30772e(0x143)](dataUtility_1[_0x30772e(0x14c)][_0x30772e(0x13a)](),_0x30772e(0x11b));const _0xa77c39=siteManager_1[_0x30772e(0xf1)][_0x30772e(0x132)]();if(!(_0x254f61[_0x30772e(0x14a)]>_0xa77c39))bypassReliefUtility_1[_0x30772e(0x13c)][_0x30772e(0x168)](_0x254f61,_0x1a6d44=>{_0x785e5(_0x1a6d44);},!![]);else{let _0xf9d5c1={'success':![],'description':'The\x20requested\x20matrix\x20version\x20is\x20greater\x20then\x20the\x20matrix\x20version\x20in\x20the\x20RouteService\x20(requested:\x20'+_0x254f61[_0x30772e(0x14a)]+'existing\x20version\x20of\x20the\x20matrix:\x20'+_0xa77c39};_0x785e5(_0xf9d5c1);}});},this['computeRouteTerrainFollowingFullPath']=_0x2434a3=>{return new Promise((_0x4d2ddf,_0x295274)=>{const _0x5a503a=a9_0x104e,_0x240319=siteManager_1[_0x5a503a(0xf1)][_0x5a503a(0x132)]();if(!(_0x2434a3[_0x5a503a(0x14a)]>_0x240319))bypassReliefUtility_1['BypassReliefUtility'][_0x5a503a(0x118)](_0x2434a3,_0x397cd1=>{_0x4d2ddf(_0x397cd1);},!![]);else{let _0x4eade8={'success':![],'description':_0x5a503a(0x127)+_0x2434a3['version']+_0x5a503a(0x112)+_0x240319};_0x4d2ddf(_0x4eade8);}});},this[_0x2537dd(0x139)]=_0x5dc3d0=>{return new Promise((_0x30428d,_0x568ea3)=>{const _0x1b2e3b=a9_0x104e;let _0x3e3382={'success':![]};Michael_1['Michael'][_0x1b2e3b(0x143)](_0x1b2e3b(0x10c)),Michael_1[_0x1b2e3b(0x125)][_0x1b2e3b(0x143)](dataUtility_1[_0x1b2e3b(0x14c)][_0x1b2e3b(0x13a)](),'-start\x20RouteManager.computeRouteTerrainFollowingFullPath_floating');const _0x130864=siteManager_1[_0x1b2e3b(0xf1)][_0x1b2e3b(0x132)]();if(!(_0x5dc3d0['version']>_0x130864)){const _0x1c64bc=this['validateRequestJson'](_0x5dc3d0);_0x1c64bc[_0x1b2e3b(0x170)]?bypassReliefUtility_1[_0x1b2e3b(0x13c)][_0x1b2e3b(0x134)](_0x5dc3d0,_0xb49b6a=>{_0x30428d(_0xb49b6a);},!![]):_0x30428d(_0x1c64bc);}else _0x3e3382={'success':![],'description':_0x1b2e3b(0x127)+_0x5dc3d0[_0x1b2e3b(0x14a)]+'existing\x20version\x20of\x20the\x20matrix:\x20'+_0x130864},_0x30428d(_0x3e3382);});},this['validateRequestJson']=_0x239269=>{const _0x23e863=_0x2537dd,_0x5b9922={'success':![]};return Array[_0x23e863(0x141)](_0x239269[_0x23e863(0x13b)])&&_0x239269['fromTo']['length']===0x2&&_0x239269[_0x23e863(0x111)]?_0x5b9922[_0x23e863(0x170)]=!![]:_0x5b9922[_0x23e863(0x10b)]='JSON\x20request\x20does\x20not\x20have\x20required\x20fields\x20(fromTo\x20and/or\x20allowedId)',_0x5b9922;},this[_0x2537dd(0x17d)]=_0x24b44e=>{const _0x5312f5=_0x2537dd;_0x24b44e=Object[_0x5312f5(0x16f)](Object[_0x5312f5(0x16f)]({},_0x24b44e),this[_0x5312f5(0xfa)](_0x24b44e));let _0x42b22c={'success':![]};const _0xdbc090=siteManager_1['SiteManager'][_0x5312f5(0x132)]();if(!(_0x24b44e[_0x5312f5(0x14a)]>_0xdbc090)){const _0x3964e0=computeRouteUtility_1['ComputeRouteUtility'][_0x5312f5(0x102)](_0x24b44e);_0x3964e0&&(_0x42b22c['success']=_0x3964e0&&_0x3964e0['route']&&_0x3964e0[_0x5312f5(0x12d)][_0x5312f5(0x17e)]>0x0,_0x42b22c[_0x5312f5(0x161)]={'route':_0x3964e0['route'],'id':_0x3964e0['id']});}else _0x42b22c[_0x5312f5(0x10b)]=_0x5312f5(0x127)+_0x24b44e[_0x5312f5(0x14a)]+_0x5312f5(0x112)+_0xdbc090;return _0x42b22c;},this[_0x2537dd(0x109)]=_0x5bb433=>{const _0x3ea5c5=_0x2537dd;_0x5bb433=Object[_0x3ea5c5(0x16f)](Object[_0x3ea5c5(0x16f)]({},_0x5bb433),this['fixHeightAndAltitudeRange'](_0x5bb433));const _0x57ee8f={'success':![]},_0x2b6d36=siteManager_1[_0x3ea5c5(0xf1)][_0x3ea5c5(0x132)]();if(!(_0x5bb433['version']>_0x2b6d36)){const _0x20203d=findRouteUtility_1['FindRouteUtility'][_0x3ea5c5(0x103)](_0x5bb433[_0x3ea5c5(0x111)],_0x5bb433[_0x3ea5c5(0x13b)][0x0],_0x5bb433[_0x3ea5c5(0xf4)]),_0x3ad958=Object[_0x3ea5c5(0x16f)]({},_0x5bb433);if(_0x20203d[_0x3ea5c5(0x170)]){_0x20203d['data'],_0x3ad958[_0x3ea5c5(0x13b)][0x0]=_0x20203d['data'];const _0x5f187b=computeRouteUtility_1[_0x3ea5c5(0x165)]['computeDirectionRoute'](_0x5bb433);_0x5f187b&&(_0x57ee8f['success']=_0x5f187b&&_0x5f187b[_0x3ea5c5(0x12d)]&&_0x5f187b['route'][_0x3ea5c5(0x17e)]>0x0,_0x57ee8f[_0x3ea5c5(0x161)]={'route':_0x5f187b[_0x3ea5c5(0x12d)],'id':_0x5f187b['id']});}else _0x57ee8f[_0x3ea5c5(0x10b)]=_0x3ea5c5(0x13e)+_0x5bb433[_0x3ea5c5(0x13b)][0x0]+_0x3ea5c5(0x17f)+_0x5bb433[_0x3ea5c5(0x13b)][0x1];}else _0x57ee8f['description']=_0x3ea5c5(0x127)+_0x5bb433['version']+_0x3ea5c5(0x112)+_0x2b6d36;return _0x57ee8f;},this[_0x2537dd(0x13f)]=_0x394083=>{const _0x43c3ad=_0x2537dd;let _0x288087={'success':![]};const _0x1673b8=siteManager_1[_0x43c3ad(0xf1)]['getVersion']();if(!(_0x394083['version']>_0x1673b8)){_0x394083=Object[_0x43c3ad(0x16f)](Object[_0x43c3ad(0x16f)]({},_0x394083),this[_0x43c3ad(0xfa)](_0x394083));const _0x17ac6a=findRouteUtility_1[_0x43c3ad(0x145)][_0x43c3ad(0x103)](_0x394083[_0x43c3ad(0x111)],_0x394083[_0x43c3ad(0x13b)][0x0],_0x394083['altitudeRange']['min']);if(_0x17ac6a[_0x43c3ad(0x170)]){_0x394083['fromTo'][0x0]=_0x17ac6a[_0x43c3ad(0x161)];const _0x34e7c2=this[_0x43c3ad(0x136)](_0x394083),_0x353615=computeRouteUtility_1[_0x43c3ad(0x165)][_0x43c3ad(0x142)](_0x394083,_0x34e7c2);_0x353615&&_0x353615[_0x43c3ad(0x12d)]&&_0x353615['route'][_0x43c3ad(0x17e)]>0x0?_0x288087={'success':_0x353615&&_0x353615[_0x43c3ad(0x12d)]&&_0x353615[_0x43c3ad(0x12d)][_0x43c3ad(0x17e)]>0x0,'data':{'route':_0x353615[_0x43c3ad(0x12d)],'id':_0x353615['id']}}:(_0x288087['description']=_0x43c3ad(0x13e)+_0x394083['fromTo'][0x0]+'to:\x20'+_0x394083[_0x43c3ad(0x13b)][0x1],_0x288087[_0x43c3ad(0x161)]={'route':_0x353615[_0x43c3ad(0x12d)],'id':_0x353615['id']});}else _0x288087[_0x43c3ad(0x10b)]=_0x43c3ad(0x146)+_0x394083['fromTo'][0x0]+_0x43c3ad(0x17f)+_0x394083[_0x43c3ad(0x13b)][0x1],_0x288087['data']={'route':[],'id':_0x394083[_0x43c3ad(0x111)]};}else _0x288087['description']=_0x43c3ad(0x127)+_0x394083[_0x43c3ad(0x14a)]+'existing\x20version\x20of\x20the\x20matrix:\x20'+_0x1673b8;return _0x288087;},this[_0x2537dd(0x114)]=_0xc0a529=>{const _0x5a1b71=_0x2537dd;let _0x3f1abe={'success':![]};const _0x469031=siteManager_1[_0x5a1b71(0xf1)][_0x5a1b71(0x132)]();if(!(_0xc0a529[_0x5a1b71(0x14a)]>_0x469031)){_0xc0a529=Object[_0x5a1b71(0x16f)](Object[_0x5a1b71(0x16f)]({},_0xc0a529),this[_0x5a1b71(0xfa)](_0xc0a529));const _0x19b0f0=findRouteUtility_1['FindRouteUtility'][_0x5a1b71(0x103)](_0xc0a529['allowedId'],_0xc0a529['fromTo'][0x0],_0xc0a529['altitudeRange'][_0x5a1b71(0x128)]);if(_0x19b0f0[_0x5a1b71(0x170)]){_0xc0a529['fromTo'][0x0]=_0x19b0f0['data'];const _0x1514e4=computeRouteUtility_1['ComputeRouteUtility']['computeDirectionRoute_floating'](_0xc0a529);_0x1514e4&&_0x1514e4[_0x5a1b71(0x12d)]&&_0x1514e4[_0x5a1b71(0x12d)]['length']>0x0?_0x3f1abe={'success':_0x1514e4&&_0x1514e4['route']&&_0x1514e4[_0x5a1b71(0x12d)][_0x5a1b71(0x17e)]>0x0,'data':{'route':_0x1514e4[_0x5a1b71(0x12d)],'id':_0x1514e4['id']}}:(_0x3f1abe[_0x5a1b71(0x10b)]=_0x5a1b71(0x15a)+_0xc0a529[_0x5a1b71(0x13b)][0x0]+_0x5a1b71(0x17f)+_0xc0a529[_0x5a1b71(0x13b)][0x1],_0x3f1abe[_0x5a1b71(0x161)]={'route':_0x1514e4[_0x5a1b71(0x12d)],'id':_0x1514e4['id']});}else _0x3f1abe[_0x5a1b71(0x10b)]=_0x5a1b71(0x146)+_0xc0a529[_0x5a1b71(0x13b)][0x0]+_0x5a1b71(0x17f)+_0xc0a529[_0x5a1b71(0x13b)][0x1],_0x3f1abe['data']={'route':[],'id':_0xc0a529[_0x5a1b71(0x111)]};}else _0x3f1abe[_0x5a1b71(0x10b)]=_0x5a1b71(0x127)+_0xc0a529[_0x5a1b71(0x14a)]+_0x5a1b71(0x112)+_0x469031;return _0x3f1abe;},this['findRoute_finish_floating']=_0x22cfac=>{return new Promise((_0x1a8b4c,_0x4e9eac)=>{const _0x33f925=a9_0x104e,_0xb50547=siteManager_1[_0x33f925(0xf1)][_0x33f925(0x132)]();if(!(_0x22cfac['version']>_0xb50547)){_0x22cfac=Object[_0x33f925(0x16f)](Object['assign']({},_0x22cfac),this[_0x33f925(0xfa)](_0x22cfac));if(_0x22cfac[_0x33f925(0x172)]){const _0x3ad632=findRouteUtility_1['FindRouteUtility'][_0x33f925(0x103)](_0x22cfac[_0x33f925(0x111)],_0x22cfac['fromTo'][0x0],_0x22cfac[_0x33f925(0x108)][_0x33f925(0x128)]);_0x3ad632[_0x33f925(0x170)]&&(_0x22cfac[_0x33f925(0x13b)][0x0]=_0x3ad632['data']);}findRouteUtility_1['FindRouteUtility'][_0x33f925(0x16d)](_0x22cfac)['then'](_0x2a0c23=>{const _0x56b942=_0x33f925,_0x4965fd={'success':_0x2a0c23&&_0x2a0c23[_0x56b942(0x161)]&&_0x2a0c23[_0x56b942(0x161)][_0x56b942(0x12d)]&&_0x2a0c23[_0x56b942(0x161)]['route']['length']>0x0,'data':{'route':_0x2a0c23[_0x56b942(0x161)][_0x56b942(0x12d)]}};_0x1a8b4c(_0x4965fd);})['catch'](_0x4fb20d=>{const _0x251298=_0x33f925,_0x108c78={'success':![],'data':{'route':[]}};_0x4fb20d&&_0x4fb20d[_0x251298(0x161)]&&_0x4fb20d[_0x251298(0x161)]['route']&&geoUtility_1[_0x251298(0x12e)][_0x251298(0x16b)](_0x4fb20d['data']['route'])&&(_0x108c78[_0x251298(0x170)]=!![],_0x108c78['data']=_0x4fb20d['data']),_0x4e9eac(_0x108c78);});}else{let _0x1f4bf2={'success':![],'description':_0x33f925(0x127)+_0x22cfac['version']+'existing\x20version\x20of\x20the\x20matrix:\x20'+_0xb50547};_0x1a8b4c(_0x1f4bf2);}});},this[_0x2537dd(0x156)]=_0x466e7d=>{return new Promise((_0x40fd63,_0x1ab1af)=>{const _0x369b43=a9_0x104e,_0x1dac65=siteManager_1['SiteManager'][_0x369b43(0x132)]();if(!(_0x466e7d['version']>_0x1dac65))_0x466e7d=Object[_0x369b43(0x16f)](Object[_0x369b43(0x16f)]({},_0x466e7d),this[_0x369b43(0xfa)](_0x466e7d)),findRouteUtility_1[_0x369b43(0x145)]['computeRouteFinish_floatingWithDirection'](_0x466e7d)[_0x369b43(0x138)](_0x5aeebe=>{const _0x1715ca=_0x369b43,_0x3316ec={'success':_0x5aeebe[_0x1715ca(0x161)][_0x1715ca(0x12d)][_0x1715ca(0x17e)]>0x0,'data':{'route':_0x5aeebe['data']['route']}};_0x40fd63(_0x3316ec);})[_0x369b43(0xee)](_0x475132=>{const _0x40f2bf=_0x369b43,_0x2a1784={'success':_0x475132[_0x40f2bf(0x161)]['route'][_0x40f2bf(0x17e)]>0x0,'data':{'route':_0x475132[_0x40f2bf(0x161)][_0x40f2bf(0x12d)]}};_0x1ab1af(_0x2a1784);});else{let _0x5d2632={'success':![],'description':_0x369b43(0x127)+_0x466e7d[_0x369b43(0x14a)]+_0x369b43(0x112)+_0x1dac65};_0x40fd63(_0x5d2632);}});},this[_0x2537dd(0xf7)]=_0x3afda5=>{return new Promise((_0x48ad8c,_0x42a912)=>{const _0x47d585=a9_0x104e,_0x231a8e={'success':![]};let _0x236cfd=![];const _0x24e223=siteManager_1[_0x47d585(0xf1)][_0x47d585(0x132)]();if(!(_0x3afda5['version']>_0x24e223)){_0x3afda5=Object[_0x47d585(0x16f)](Object[_0x47d585(0x16f)]({},_0x3afda5),this[_0x47d585(0xfa)](_0x3afda5));if(_0x3afda5[_0x47d585(0x172)]){const _0x329ae4=findRouteUtility_1[_0x47d585(0x145)][_0x47d585(0x103)](_0x3afda5[_0x47d585(0x111)],_0x3afda5[_0x47d585(0x13b)][0x0],_0x3afda5[_0x47d585(0x108)][_0x47d585(0x128)]);_0x329ae4['success']?(_0x3afda5['fromTo'][0x0]=_0x329ae4[_0x47d585(0x161)],_0x236cfd=!![]):(_0x231a8e['description']='Can\x27t\x20find\x20nearest\x20point\x20(finish\x20point)\x20outside\x20NFZ:\x20'+_0x3afda5[_0x47d585(0x13b)][0x0]+_0x47d585(0x17f)+_0x3afda5[_0x47d585(0x13b)][0x1],_0x231a8e[_0x47d585(0x161)]={'route':[],'id':_0x3afda5[_0x47d585(0x111)]});}else _0x236cfd=!![];_0x236cfd?findRouteUtility_1[_0x47d585(0x145)][_0x47d585(0x17a)](_0x3afda5,_0x2e2276=>{_0x48ad8c(_0x2e2276);},!![]):_0x48ad8c(_0x231a8e);}else{let _0x3ff99c={'success':![],'description':'The\x20requested\x20matrix\x20version\x20is\x20greater\x20then\x20the\x20matrix\x20version\x20in\x20the\x20RouteService\x20(requested:\x20'+_0x3afda5[_0x47d585(0x14a)]+'existing\x20version\x20of\x20the\x20matrix:\x20'+_0x24e223};_0x48ad8c(_0x3ff99c);}});},this[_0x2537dd(0x148)]=_0x473d6c=>{return new Promise((_0x1fd29b,_0x45ebf0)=>{const _0x5a354b=a9_0x104e,_0x5366ba={'success':![]};let _0x549d6c=![];const _0x466a65=siteManager_1['SiteManager'][_0x5a354b(0x132)]();if(!(_0x473d6c['version']>_0x466a65)){_0x473d6c=Object[_0x5a354b(0x16f)](Object[_0x5a354b(0x16f)]({},_0x473d6c),this[_0x5a354b(0xfa)](_0x473d6c));const _0x2de761=this['fixStartFinishPoints'](_0x473d6c);_0x2de761['success']&&(_0x549d6c=!![],_0x473d6c['fromTo']=_0x2de761['data']),_0x549d6c?findRouteUtility_1[_0x5a354b(0x145)][_0x5a354b(0x176)](_0x473d6c,_0x28fb08=>{_0x1fd29b(_0x28fb08);},!![]):_0x1fd29b(_0x5366ba);}else{let _0x13eace={'success':![],'description':'The\x20requested\x20matrix\x20version\x20is\x20greater\x20then\x20the\x20matrix\x20version\x20in\x20the\x20RouteService\x20(requested:\x20'+_0x473d6c[_0x5a354b(0x14a)]+_0x5a354b(0x112)+_0x466a65};_0x1fd29b(_0x13eace);}});},this[_0x2537dd(0x117)]=_0x7b914c=>{const _0x333afc=_0x2537dd,_0x27a235={'success':![],'data':_0x7b914c['fromTo']};let _0x26573d=![];if(_0x7b914c[_0x333afc(0x167)]&&_0x7b914c[_0x333afc(0x167)]['startPoint']){if(_0x7b914c[_0x333afc(0x167)][_0x333afc(0x124)][_0x333afc(0x162)]){const _0xbb5167=findRouteUtility_1[_0x333afc(0x145)][_0x333afc(0x103)](_0x7b914c[_0x333afc(0x111)],_0x7b914c[_0x333afc(0x13b)][0x0],_0x7b914c[_0x333afc(0x108)][_0x333afc(0x128)]);_0xbb5167[_0x333afc(0x170)]?(_0x27a235[_0x333afc(0x161)][0x0]=_0xbb5167[_0x333afc(0x161)],_0x26573d=!![],_0x27a235['success']=!![]):(_0x26573d=![],_0x27a235[_0x333afc(0x170)]=![],_0x27a235['description']=_0x333afc(0x146)+_0x7b914c[_0x333afc(0x13b)][0x0]+_0x333afc(0x17f)+_0x7b914c[_0x333afc(0x13b)][0x1]);}else _0x27a235['success']=!![],_0x26573d=!![];}else _0x26573d=!![];if(_0x26573d&&_0x7b914c['startFinishParameters']&&_0x7b914c[_0x333afc(0x167)][_0x333afc(0xf5)]){if(_0x7b914c[_0x333afc(0x167)][_0x333afc(0xf5)][_0x333afc(0x162)]){const _0x5d137b=findRouteUtility_1[_0x333afc(0x145)][_0x333afc(0x103)](_0x7b914c['allowedId'],_0x7b914c[_0x333afc(0x13b)][0x1],_0x7b914c[_0x333afc(0x108)][_0x333afc(0x128)]);_0x5d137b['success']?(_0x27a235[_0x333afc(0x161)][0x1]=_0x5d137b[_0x333afc(0x161)],_0x27a235[_0x333afc(0x170)]=!![],_0x26573d=!![]):(_0x27a235['success']=![],_0x26573d=![],_0x27a235[_0x333afc(0x10b)]=_0x333afc(0x10f)+_0x7b914c[_0x333afc(0x13b)][0x0]+_0x333afc(0x17f)+_0x7b914c['fromTo'][0x1]);}else _0x26573d=!![],_0x27a235[_0x333afc(0x170)]=!![];}else _0x26573d=!![];return _0x27a235;},this[_0x2537dd(0x151)]=_0xcfdbbe=>{return new Promise((_0x404534,_0x56647d)=>{const _0x418d4a=a9_0x104e,_0x4eee96=siteManager_1[_0x418d4a(0xf1)][_0x418d4a(0x132)]();if(!(_0xcfdbbe[_0x418d4a(0x14a)]>_0x4eee96)){_0xcfdbbe=Object[_0x418d4a(0x16f)](Object[_0x418d4a(0x16f)]({},_0xcfdbbe),this[_0x418d4a(0xfa)](_0xcfdbbe));let _0x5d1994={'success':![]};const _0x31b174=findRouteUtility_1[_0x418d4a(0x145)][_0x418d4a(0x103)](_0xcfdbbe['allowedId'],_0xcfdbbe['fromTo'][0x0],_0xcfdbbe['altitudeRange'][_0x418d4a(0x128)]),_0x41c7da=findRouteUtility_1[_0x418d4a(0x145)][_0x418d4a(0x103)](_0xcfdbbe[_0x418d4a(0x111)],_0xcfdbbe[_0x418d4a(0x13b)][0x1],_0xcfdbbe[_0x418d4a(0x108)]['min']);if(_0x31b174[_0x418d4a(0x170)]&&_0x41c7da[_0x418d4a(0x170)]){_0xcfdbbe[_0x418d4a(0x13b)][0x0]=_0x31b174[_0x418d4a(0x161)],_0xcfdbbe[_0x418d4a(0x13b)][0x1]=_0x41c7da[_0x418d4a(0x161)];const _0x1e486b=computeRouteUtility_1[_0x418d4a(0x165)][_0x418d4a(0x142)](_0xcfdbbe,_0xcfdbbe[_0x418d4a(0x108)][_0x418d4a(0x128)]);_0x1e486b&&_0x1e486b[_0x418d4a(0x12d)]&&_0x1e486b['route'][_0x418d4a(0x17e)]>0x0?_0x5d1994={'success':_0x1e486b&&_0x1e486b['route']&&_0x1e486b[_0x418d4a(0x12d)]['length']>0x0,'data':{'route':_0x1e486b[_0x418d4a(0x12d)],'id':_0x1e486b['id']}}:(_0x5d1994[_0x418d4a(0x10b)]=_0x418d4a(0x13e)+_0xcfdbbe['fromTo'][0x0]+_0x418d4a(0x17f)+_0xcfdbbe[_0x418d4a(0x13b)][0x1],_0x5d1994['data']={'route':_0x1e486b['route'],'id':_0x1e486b['id']}),_0x404534(_0x5d1994);}else _0x5d1994[_0x418d4a(0x170)]=![],_0x5d1994[_0x418d4a(0x10b)]=_0x418d4a(0x14f)+_0xcfdbbe[_0x418d4a(0x13b)][0x0]+'to:\x20'+_0xcfdbbe[_0x418d4a(0x13b)][0x1],_0x404534(_0x5d1994),{'success':![]};}else{let _0x11cd7a={'success':![],'description':'The\x20requested\x20matrix\x20version\x20is\x20greater\x20then\x20the\x20matrix\x20version\x20in\x20the\x20RouteService\x20(requested:\x20'+_0xcfdbbe[_0x418d4a(0x14a)]+_0x418d4a(0x112)+_0x4eee96};_0x404534(_0x11cd7a);}});},this['findRoute_start_finish_floating_withDirection']=_0x5e5c0e=>{return new Promise((_0x4c6141,_0xa874b7)=>{const _0x3fcc22=a9_0x104e;let _0x54cb84={'success':![]};const _0x43f6ed=siteManager_1[_0x3fcc22(0xf1)][_0x3fcc22(0x132)]();if(!(_0x5e5c0e['version']>_0x43f6ed)){_0x5e5c0e=Object[_0x3fcc22(0x16f)](Object[_0x3fcc22(0x16f)]({},_0x5e5c0e),this[_0x3fcc22(0xfa)](_0x5e5c0e));const _0x326627=findRouteUtility_1['FindRouteUtility'][_0x3fcc22(0x103)](_0x5e5c0e[_0x3fcc22(0x111)],_0x5e5c0e[_0x3fcc22(0x13b)][0x0],_0x5e5c0e[_0x3fcc22(0x108)][_0x3fcc22(0x128)]);_0x326627['success']?(_0x5e5c0e[_0x3fcc22(0x13b)][0x0]=_0x326627[_0x3fcc22(0x161)],findRouteUtility_1[_0x3fcc22(0x145)][_0x3fcc22(0xef)](_0x5e5c0e)['then'](_0x33753c=>{const _0x2b1966=_0x3fcc22;_0x54cb84={'success':_0x33753c[_0x2b1966(0x161)]['route'][_0x2b1966(0x17e)]>0x0,'data':{'route':_0x33753c['data'][_0x2b1966(0x12d)]}},_0x4c6141(_0x54cb84);})['catch'](_0x5c25a1=>{const _0x2c9c90=_0x3fcc22;_0x54cb84={'success':_0x5c25a1[_0x2c9c90(0x161)][_0x2c9c90(0x12d)]['length']>0x0,'data':{'route':_0x5c25a1[_0x2c9c90(0x161)]['route']}},_0xa874b7(_0x54cb84);})):(_0x54cb84[_0x3fcc22(0x10b)]='Can\x27t\x20find\x20nearest\x20point\x20(start\x20point)\x20outside\x20NFZ:\x20'+_0x5e5c0e['fromTo'][0x0]+_0x3fcc22(0x17f)+_0x5e5c0e['fromTo'][0x1],_0x54cb84['data']={'route':[],'id':_0x5e5c0e[_0x3fcc22(0x111)]},_0xa874b7(_0x54cb84));}else _0x54cb84={'success':![],'description':'The\x20requested\x20matrix\x20version\x20is\x20greater\x20then\x20the\x20matrix\x20version\x20in\x20the\x20RouteService\x20(requested:\x20'+_0x5e5c0e[_0x3fcc22(0x14a)]+'existing\x20version\x20of\x20the\x20matrix:\x20'+_0x43f6ed},_0x4c6141(_0x54cb84);});},this[_0x2537dd(0xfa)]=_0xea96ce=>{const _0x36339e=_0x2537dd;return _0xea96ce[_0x36339e(0xf4)]==undefined&&!_0xea96ce['altitudeRange']&&(_0xea96ce[_0x36339e(0xf4)]=heightRange['min']),_0xea96ce[_0x36339e(0xf4)]==undefined&&_0xea96ce[_0x36339e(0x108)]&&(_0xea96ce[_0x36339e(0xf4)]=_0xea96ce[_0x36339e(0x108)]['min']),!_0xea96ce[_0x36339e(0x108)]&&_0xea96ce['height']!=undefined&&(_0xea96ce[_0x36339e(0x108)]={'min':_0xea96ce[_0x36339e(0xf4)],'max':_0xea96ce[_0x36339e(0xf4)]+0x1}),_0xea96ce;},this[_0x2537dd(0x160)]=_0x2a7afa=>{const _0x593f9f=_0x2537dd;let _0x429236={'success':![],'description':_0x593f9f(0xf9)};const _0x3b446f=siteManager_1[_0x593f9f(0xf1)][_0x593f9f(0x132)]();if(!(_0x2a7afa[_0x593f9f(0x14a)]>_0x3b446f)){Michael_1['Michael']['log']('^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'),Michael_1[_0x593f9f(0x125)][_0x593f9f(0x143)](dataUtility_1[_0x593f9f(0x14c)]['getTimeString'](),_0x593f9f(0x174));const _0x501e65=Date[_0x593f9f(0x15c)]();_0x2a7afa=Object[_0x593f9f(0x16f)](Object[_0x593f9f(0x16f)]({},_0x2a7afa),this[_0x593f9f(0xfa)](_0x2a7afa));const _0x451ed8=this['validate_findRoute_with_static_part'](_0x2a7afa);if(_0x451ed8[_0x593f9f(0x170)]){const _0xf6ff70=this['convert_COMPUTE_ROUTE_REQUEST_to_Arr'](_0x2a7afa);let _0x50e496=[];const _0x5cc235=this['computeHeightASLForMatrix'](_0x2a7afa),_0x4e6eea=computeRouteUtility_1['ComputeRouteUtility'][_0x593f9f(0x142)](_0xf6ff70[0x0],_0x5cc235)[_0x593f9f(0x12d)],_0x261bde=computeRouteUtility_1[_0x593f9f(0x165)]['computeRoute'](_0xf6ff70[0x1],_0x5cc235)[_0x593f9f(0x12d)];if(Array[_0x593f9f(0x141)](_0x4e6eea)&&_0x4e6eea[_0x593f9f(0x17e)]>0x1&&Array[_0x593f9f(0x141)](_0x261bde)&&_0x261bde[_0x593f9f(0x17e)]>0x1){_0x50e496['push'](..._0x4e6eea),_0x50e496[_0x593f9f(0x122)]();const _0x5220f3=_0x50e496['length'];_0x50e496[_0x593f9f(0x14b)](..._0x2a7afa[_0x593f9f(0x16c)]);const _0x327f92=_0x50e496[_0x593f9f(0x17e)]-0x1;_0x261bde[_0x593f9f(0x177)](),_0x50e496[_0x593f9f(0x14b)](..._0x261bde);const _0x288ea6=this[_0x593f9f(0x11a)](_0x2a7afa);_0x2a7afa[_0x593f9f(0xf4)]==undefined&&_0x2a7afa[_0x593f9f(0x108)]&&(_0x2a7afa[_0x593f9f(0xf4)]=_0x2a7afa[_0x593f9f(0x108)][_0x593f9f(0x128)]);_0x50e496=this[_0x593f9f(0x178)](_0x50e496,_0x2a7afa[_0x593f9f(0xf4)]);if(_0x50e496&&_0x50e496[_0x593f9f(0x17e)]>0x0)_0x429236={'success':_0x50e496&&_0x50e496['length']>0x0,'data':{'id':_0x2a7afa[_0x593f9f(0x111)]||all_typings_1['OBJ_VALUE'][_0x593f9f(0x126)],'route':_0x50e496,'staticPathFromToIndex':[_0x5220f3,_0x327f92]}};else{}}else{}}else _0x429236[_0x593f9f(0x170)]=_0x451ed8[_0x593f9f(0x170)],_0x429236[_0x593f9f(0x10b)]=_0x451ed8[_0x593f9f(0x10b)];Michael_1[_0x593f9f(0x125)][_0x593f9f(0x143)](dataUtility_1[_0x593f9f(0x14c)][_0x593f9f(0x13a)](),_0x593f9f(0x14e),dataUtility_1[_0x593f9f(0x14c)][_0x593f9f(0x104)](_0x501e65,'-------------------------------'));}else _0x429236[_0x593f9f(0x10b)]=_0x593f9f(0x127)+_0x2a7afa[_0x593f9f(0x14a)]+'existing\x20version\x20of\x20the\x20matrix:\x20'+_0x3b446f;return _0x429236;},this[_0x2537dd(0xf0)]=_0x2e9efa=>{const _0x5c3da1=_0x2537dd;let _0x4c76a0={'success':![],'description':'it\x20is\x20impossible\x20to\x20compute\x20the\x20route'};const _0x1b847d=siteManager_1[_0x5c3da1(0xf1)][_0x5c3da1(0x132)]();if(!(_0x2e9efa[_0x5c3da1(0x14a)]>_0x1b847d)){Michael_1[_0x5c3da1(0x125)][_0x5c3da1(0x143)](_0x5c3da1(0x10c)),Michael_1['Michael'][_0x5c3da1(0x143)](dataUtility_1[_0x5c3da1(0x14c)][_0x5c3da1(0x13a)](),_0x5c3da1(0x10e));const _0x2b7a39=Date['now']();_0x2e9efa=Object[_0x5c3da1(0x16f)](Object[_0x5c3da1(0x16f)]({},_0x2e9efa),this[_0x5c3da1(0xfa)](_0x2e9efa));const _0x4e30f3=this[_0x5c3da1(0x150)](_0x2e9efa),_0x3514af=findRouteUtility_1[_0x5c3da1(0x145)][_0x5c3da1(0x103)](_0x2e9efa[_0x5c3da1(0x111)],_0x2e9efa[_0x5c3da1(0x13b)][0x0],_0x2e9efa['altitudeRange']['min']);_0x3514af['success']&&(_0x2e9efa['fromTo'][0x0]=_0x3514af[_0x5c3da1(0x161)]);const _0x45b03b=this['computeHeightASLForMatrix'](_0x2e9efa);if(_0x4e30f3['success']){const _0x5b6177=this['convert_COMPUTE_ROUTE_REQUEST_to_Arr'](_0x2e9efa);let _0x52cb5d=[];const _0x1b42e3=computeRouteUtility_1[_0x5c3da1(0x165)][_0x5c3da1(0x142)](_0x5b6177[0x0],_0x45b03b)[_0x5c3da1(0x12d)],_0x410daa=computeRouteUtility_1['ComputeRouteUtility'][_0x5c3da1(0x142)](_0x5b6177[0x1],_0x45b03b)[_0x5c3da1(0x12d)];if(Array[_0x5c3da1(0x141)](_0x1b42e3)&&_0x1b42e3['length']>0x1&&Array[_0x5c3da1(0x141)](_0x410daa)&&_0x410daa['length']>0x1){_0x52cb5d[_0x5c3da1(0x14b)](..._0x1b42e3),_0x52cb5d[_0x5c3da1(0x122)]();const _0x4edd10=_0x52cb5d[_0x5c3da1(0x17e)];_0x52cb5d[_0x5c3da1(0x14b)](..._0x2e9efa[_0x5c3da1(0x16c)]);const _0xb63af0=_0x52cb5d['length']-0x1;_0x410daa[_0x5c3da1(0x177)](),_0x52cb5d[_0x5c3da1(0x14b)](..._0x410daa);const _0x3b54ee=this[_0x5c3da1(0x11a)](_0x2e9efa);_0x2e9efa['height']==undefined&&_0x2e9efa[_0x5c3da1(0x108)]&&(_0x2e9efa['height']=_0x2e9efa[_0x5c3da1(0x108)][_0x5c3da1(0x128)]);_0x52cb5d=this[_0x5c3da1(0x178)](_0x52cb5d,_0x2e9efa['height']);if(_0x52cb5d&&_0x52cb5d[_0x5c3da1(0x17e)]>0x0)_0x4c76a0={'success':_0x52cb5d&&_0x52cb5d['length']>0x0,'data':{'id':_0x2e9efa[_0x5c3da1(0x111)]||all_typings_1[_0x5c3da1(0xfb)][_0x5c3da1(0x126)],'route':_0x52cb5d,'staticPathFromToIndex':[_0x4edd10,_0xb63af0]}};else{}}else{}}else{if(_0x2e9efa['isRouteFloating']){const _0x37dc9f=this[_0x5c3da1(0x13f)](_0x2e9efa);_0x37dc9f[_0x5c3da1(0x170)]&&_0x37dc9f[_0x5c3da1(0x161)]&&Array[_0x5c3da1(0x141)](_0x37dc9f[_0x5c3da1(0x161)]['route'])&&_0x37dc9f[_0x5c3da1(0x161)][_0x5c3da1(0x12d)][_0x5c3da1(0x17e)]>0x1?(_0x4c76a0[_0x5c3da1(0x170)]=!![],_0x4c76a0[_0x5c3da1(0x161)]=_0x37dc9f['data']):(_0x4c76a0['success']=![],_0x4c76a0[_0x5c3da1(0x10b)]=_0x5c3da1(0x12f)+_0x37dc9f[_0x5c3da1(0x10b)]||'');}else _0x4c76a0['success']=_0x4e30f3[_0x5c3da1(0x170)],_0x4c76a0[_0x5c3da1(0x10b)]=_0x4e30f3[_0x5c3da1(0x10b)];}Michael_1[_0x5c3da1(0x125)][_0x5c3da1(0x143)](dataUtility_1[_0x5c3da1(0x14c)]['getTimeString'](),_0x5c3da1(0x14e),dataUtility_1[_0x5c3da1(0x14c)][_0x5c3da1(0x104)](_0x2b7a39,_0x5c3da1(0xfe)));}else _0x4c76a0[_0x5c3da1(0x10b)]=_0x5c3da1(0x127)+_0x2e9efa['version']+'existing\x20version\x20of\x20the\x20matrix:\x20'+_0x1b847d;return _0x4c76a0;},this['findRoute_with_static_part_withGraph']=_0x362cb9=>{return new Promise((_0x52a7c1,_0x21b6d1)=>{const _0x480f55=a9_0x104e;let _0x18d6b0={'success':![]};const _0x562ef1=siteManager_1[_0x480f55(0xf1)][_0x480f55(0x132)]();if(!(_0x362cb9[_0x480f55(0x14a)]>_0x562ef1)){Michael_1[_0x480f55(0x125)][_0x480f55(0x143)](_0x480f55(0x10c)),Michael_1[_0x480f55(0x125)][_0x480f55(0x143)](dataUtility_1[_0x480f55(0x14c)]['getTimeString'](),_0x480f55(0x133));const _0x6382b0=Date['now']();_0x362cb9=Object['assign'](Object[_0x480f55(0x16f)]({},_0x362cb9),this[_0x480f55(0xfa)](_0x362cb9));const _0x5e1faf=this[_0x480f55(0x150)](_0x362cb9);if(_0x5e1faf[_0x480f55(0x170)]){const _0x3af78d=this[_0x480f55(0x160)](_0x362cb9);if(_0x3af78d['success']&&_0x3af78d['data']&&_0x3af78d[_0x480f55(0x161)]['route']&&_0x3af78d['data']['route'][_0x480f55(0x17e)]>0x0){const _0x21068e={'pathPoints':_0x3af78d[_0x480f55(0x161)][_0x480f55(0x12d)],'allowedId':_0x362cb9[_0x480f55(0x111)],'defaultAltitude':_0x362cb9['height'],'takeOffAslHeight':_0x362cb9[_0x480f55(0x17c)]};dtmManager_1[_0x480f55(0x152)][_0x480f55(0x153)](_0x21068e)[_0x480f55(0x138)](_0x324f61=>{const _0x3d1b99=_0x480f55;_0x324f61[_0x3d1b99(0x170)]&&_0x324f61[_0x3d1b99(0x161)]?_0x18d6b0={'success':_0x324f61['success'],'data':{'id':_0x362cb9[_0x3d1b99(0x111)]||all_typings_1[_0x3d1b99(0xfb)]['blank'],'route':_0x3af78d[_0x3d1b99(0x161)][_0x3d1b99(0x12d)],'staticPathFromToIndex':_0x3af78d[_0x3d1b99(0x161)][_0x3d1b99(0x144)],'groundASL_Cartesian2':_0x324f61['data']['groundASL_Cartesian2'],'routeASL_Cartesian2':_0x324f61['data']['routeASL_Cartesian2'],'graphRange':_0x324f61[_0x3d1b99(0x161)]['graphRange']}}:(_0x18d6b0[_0x3d1b99(0x170)]=![],_0x18d6b0[_0x3d1b99(0x10b)]=_0x3d1b99(0x116)),_0x52a7c1(_0x18d6b0);})[_0x480f55(0xee)](_0x594ef9=>{const _0x5351cd=_0x480f55;_0x18d6b0['success']=![],_0x18d6b0[_0x5351cd(0x10b)]=_0x5351cd(0x116),_0x21b6d1(_0x18d6b0);});}else _0x18d6b0['success']=![],_0x18d6b0[_0x480f55(0x10b)]='it\x20is\x20impossible\x20to\x20compute\x20the\x20route',_0x21b6d1(_0x18d6b0);}else _0x18d6b0[_0x480f55(0x170)]=_0x5e1faf[_0x480f55(0x170)],_0x18d6b0['description']=_0x5e1faf[_0x480f55(0x10b)],_0x21b6d1(_0x18d6b0);Michael_1[_0x480f55(0x125)][_0x480f55(0x143)](dataUtility_1[_0x480f55(0x14c)]['getTimeString'](),_0x480f55(0x14e),dataUtility_1['DataUtility']['getTotalTimeString'](_0x6382b0,'-------------------------------'));}else _0x18d6b0={'success':![],'description':_0x480f55(0x127)+_0x362cb9[_0x480f55(0x14a)]+_0x480f55(0x112)+_0x562ef1},_0x52a7c1(_0x18d6b0);});},this[_0x2537dd(0x178)]=(_0x42ea5c,_0x57c3a8)=>{const _0x3c2db7=_0x2537dd;return _0x42ea5c[_0x3c2db7(0x105)](_0x8bdf55=>{_0x8bdf55[0x2]===undefined&&(_0x8bdf55[0x2]=_0x57c3a8);}),_0x42ea5c;},this[_0x2537dd(0x121)]=_0x15a436=>{return new Promise((_0xd1c9b4,_0x5dd895)=>{const _0x15a0e3=a9_0x104e;let _0x89b64d={'success':![]};const _0x22330a=siteManager_1['SiteManager'][_0x15a0e3(0x132)]();if(!(_0x15a436['version']>_0x22330a)){Michael_1[_0x15a0e3(0x125)][_0x15a0e3(0x143)](_0x15a0e3(0x10c)),Michael_1[_0x15a0e3(0x125)][_0x15a0e3(0x143)](dataUtility_1[_0x15a0e3(0x14c)]['getTimeString'](),_0x15a0e3(0x149));const _0x3069d7=Date[_0x15a0e3(0x15c)](),_0x2f21cd=this['findRoute_with_static_part_start_floating'](_0x15a436);if(_0x2f21cd['success']&&_0x2f21cd[_0x15a0e3(0x161)]&&_0x2f21cd['data'][_0x15a0e3(0x12d)]&&_0x2f21cd['data'][_0x15a0e3(0x12d)][_0x15a0e3(0x17e)]>0x0){const _0x45f41c={'pathPoints':_0x2f21cd[_0x15a0e3(0x161)][_0x15a0e3(0x12d)],'allowedId':_0x15a436[_0x15a0e3(0x111)],'defaultAltitude':_0x15a436['height'],'takeOffAslHeight':_0x15a436[_0x15a0e3(0x17c)]};dtmManager_1[_0x15a0e3(0x152)][_0x15a0e3(0x153)](_0x45f41c)[_0x15a0e3(0x138)](_0x3de206=>{const _0x15496b=_0x15a0e3;_0x3de206[_0x15496b(0x170)]&&_0x3de206['data']?_0x89b64d={'success':_0x3de206[_0x15496b(0x170)],'data':{'id':_0x15a436[_0x15496b(0x111)]||all_typings_1[_0x15496b(0xfb)]['blank'],'route':_0x2f21cd[_0x15496b(0x161)][_0x15496b(0x12d)],'staticPathFromToIndex':_0x2f21cd[_0x15496b(0x161)][_0x15496b(0x144)],'groundASL_Cartesian2':_0x3de206['data'][_0x15496b(0x130)],'routeASL_Cartesian2':_0x3de206[_0x15496b(0x161)][_0x15496b(0xfd)],'graphRange':_0x3de206[_0x15496b(0x161)][_0x15496b(0x113)]}}:(_0x89b64d['success']=![],_0x89b64d[_0x15496b(0x10b)]='it\x20is\x20impossible\x20to\x20compute\x20the\x20graph\x20data'),_0xd1c9b4(_0x89b64d);})[_0x15a0e3(0xee)](_0x1c2dfa=>{const _0x1c5eb0=_0x15a0e3;_0x89b64d[_0x1c5eb0(0x170)]=![],_0x89b64d['description']=_0x1c5eb0(0x116),_0x5dd895(_0x89b64d);});}else _0x89b64d[_0x15a0e3(0x170)]=![],_0x89b64d[_0x15a0e3(0x10b)]+=_0x15a0e3(0x17b),_0x5dd895(_0x89b64d);}else _0x89b64d={'success':![],'description':'The\x20requested\x20matrix\x20version\x20is\x20greater\x20then\x20the\x20matrix\x20version\x20in\x20the\x20RouteService\x20(requested:\x20'+_0x15a436[_0x15a0e3(0x14a)]+'existing\x20version\x20of\x20the\x20matrix:\x20'+_0x22330a},_0xd1c9b4(_0x89b64d);});},this['findRoute_static_part_graph_start_floating_on_dynamic']=_0x521656=>{return new Promise((_0x1b6235,_0x1c102d)=>{const _0x5178e6=a9_0x104e;let _0x36385f={'success':![]};const _0x47c643=siteManager_1[_0x5178e6(0xf1)]['getVersion']();if(!(_0x521656[_0x5178e6(0x14a)]>_0x47c643)){Michael_1[_0x5178e6(0x125)]['log'](_0x5178e6(0x10c)),Michael_1[_0x5178e6(0x125)][_0x5178e6(0x143)](dataUtility_1[_0x5178e6(0x14c)][_0x5178e6(0x13a)](),_0x5178e6(0x106));const _0x39b376=Date['now']();_0x521656=Object[_0x5178e6(0x16f)](Object['assign']({},_0x521656),this[_0x5178e6(0xfa)](_0x521656));const _0x473515=this[_0x5178e6(0x150)](_0x521656);if(_0x473515[_0x5178e6(0x170)]){const _0x4b3e31=findRouteUtility_1[_0x5178e6(0x145)]['findNearestPointOutsideNFZ'](_0x521656['allowedId'],_0x521656['fromTo'][0x0],_0x521656[_0x5178e6(0x108)][_0x5178e6(0x128)]);if(_0x4b3e31[_0x5178e6(0x170)]){_0x521656[_0x5178e6(0x13b)][0x0]=_0x4b3e31[_0x5178e6(0x161)];const _0x4a887c=this[_0x5178e6(0x160)](_0x521656);if(_0x4a887c[_0x5178e6(0x170)]&&_0x4a887c[_0x5178e6(0x161)]&&_0x4a887c[_0x5178e6(0x161)][_0x5178e6(0x12d)]&&_0x4a887c[_0x5178e6(0x161)][_0x5178e6(0x12d)][_0x5178e6(0x17e)]>0x0){const _0x115c6f={'pathPoints':_0x4a887c['data']['route'],'allowedId':_0x521656[_0x5178e6(0x111)],'defaultAltitude':_0x521656[_0x5178e6(0xf4)],'takeOffAslHeight':_0x521656['takeOffAslHeight']};dtmManager_1['DtmManager']['buildGraphFromRoute'](_0x115c6f)[_0x5178e6(0x138)](_0x56a6a9=>{const _0x521795=_0x5178e6;_0x56a6a9[_0x521795(0x170)]&&_0x56a6a9[_0x521795(0x161)]?_0x36385f={'success':_0x56a6a9[_0x521795(0x170)],'data':{'id':_0x521656[_0x521795(0x111)]||all_typings_1[_0x521795(0xfb)][_0x521795(0x126)],'route':_0x4a887c[_0x521795(0x161)][_0x521795(0x12d)],'staticPathFromToIndex':_0x4a887c['data'][_0x521795(0x144)],'groundASL_Cartesian2':_0x56a6a9[_0x521795(0x161)][_0x521795(0x130)],'routeASL_Cartesian2':_0x56a6a9[_0x521795(0x161)][_0x521795(0xfd)],'graphRange':_0x56a6a9[_0x521795(0x161)][_0x521795(0x113)]}}:(_0x36385f[_0x521795(0x170)]=![],_0x36385f[_0x521795(0x10b)]=_0x521795(0x116)),_0x1b6235(_0x36385f);})['catch'](_0x2ce02a=>{const _0x4d41a8=_0x5178e6;_0x36385f['success']=![],_0x36385f['description']=_0x4d41a8(0x116),_0x1c102d(_0x36385f);});}else _0x36385f[_0x5178e6(0x170)]=![],_0x36385f[_0x5178e6(0x10b)]=_0x5178e6(0xf9),_0x1c102d(_0x36385f);Michael_1[_0x5178e6(0x125)][_0x5178e6(0x143)](dataUtility_1[_0x5178e6(0x14c)][_0x5178e6(0x13a)](),'finish\x20RouteManager.computeRoute',dataUtility_1[_0x5178e6(0x14c)]['getTotalTimeString'](_0x39b376,_0x5178e6(0xfe)));}else _0x36385f['success']=![],_0x36385f[_0x5178e6(0x10b)]='Can\x27t\x20find\x20nearest\x20point\x20(start\x20point)\x20outside\x20NFZ:\x20'+_0x521656[_0x5178e6(0x13b)][0x0]+'to:\x20'+_0x521656[_0x5178e6(0x13b)][0x1],_0x1c102d(_0x36385f);}else _0x36385f[_0x5178e6(0x170)]=![],_0x36385f['description']=_0x5178e6(0x15f)+JSON[_0x5178e6(0x119)](_0x521656[_0x5178e6(0x16c)])+'from:'+_0x521656[_0x5178e6(0x13b)][0x0]+'to:\x20'+_0x521656['fromTo'][0x1],_0x1c102d(_0x36385f);}else _0x36385f={'success':![],'description':_0x5178e6(0x127)+_0x521656['version']+'existing\x20version\x20of\x20the\x20matrix:\x20'+_0x47c643},_0x1b6235(_0x36385f);});},this[_0x2537dd(0x150)]=_0x190a9a=>{const _0x2b3f8f=_0x2537dd,_0x2e1099={'success':![]};_0x2e1099[_0x2b3f8f(0x170)]=geoUtility_1[_0x2b3f8f(0x12e)][_0x2b3f8f(0x16b)](_0x190a9a[_0x2b3f8f(0x16c)]);if(_0x2e1099[_0x2b3f8f(0x170)]){const _0x2e24e6=_[_0x2b3f8f(0x115)](_0x190a9a['staticPath']);this[_0x2b3f8f(0x101)](_0x2e24e6);const _0x3aed35=siteManager_1[_0x2b3f8f(0xf1)][_0x2b3f8f(0x16a)](_0x190a9a[_0x2b3f8f(0x111)]),_0x5e969e=matrixUtility_1[_0x2b3f8f(0x166)][_0x2b3f8f(0x169)](_0x2e24e6,_0x3aed35,_0x190a9a[_0x2b3f8f(0xf4)],_0x190a9a[_0x2b3f8f(0x17c)]);_0x5e969e?_0x2e1099[_0x2b3f8f(0x170)]=!![]:(_0x2e1099[_0x2b3f8f(0x170)]=![],_0x2e1099['description']='The\x20staticPath\x20is\x20invalid:\x20cross\x20NFZ\x20(NFZs)');}return!_0x2e1099[_0x2b3f8f(0x170)]&&(_0x2e1099[_0x2b3f8f(0x10b)]=_0x2b3f8f(0x135)),_0x2e1099;},this[_0x2537dd(0x101)]=(_0x5de414,_0x51cff0=heightFactor)=>{const _0x4f99c6=_0x2537dd;return Array[_0x4f99c6(0x141)](_0x5de414)&&_0x5de414['length']>0x0&&_0x5de414['forEach'](_0x4a1294=>{_0x4a1294[0x2]-=_0x51cff0;}),_0x5de414;},this[_0x2537dd(0xff)]=_0xd1b041=>{const _0x558981=_0x2537dd,_0x9d5f97=Object[_0x558981(0x16f)](Object[_0x558981(0x16f)]({},_0xd1b041),{'fromTo':[_0xd1b041[_0x558981(0x13b)][0x0],_0xd1b041[_0x558981(0x16c)][0x0]]}),_0x5091c4=Object['assign'](Object['assign']({},_0xd1b041),{'fromTo':[_0xd1b041[_0x558981(0x16c)][_0xd1b041[_0x558981(0x16c)][_0x558981(0x17e)]-0x1],_0xd1b041[_0x558981(0x13b)][0x1]]}),_0x4cb60d=[_0x9d5f97,_0x5091c4];return _0x4cb60d;},this[_0x2537dd(0x12a)]=(_0x3e3b61,_0x3f699d)=>{const _0x232609=_0x2537dd,_0x332d8e=filterUtility_1[_0x232609(0x171)][_0x232609(0x107)](_0x3e3b61,_0x3f699d);return _0x332d8e;},this['logStatus']=_0x20c2e0=>{const _0x5bce02=_0x2537dd;Logger_1[_0x5bce02(0x173)][_0x5bce02(0x179)]('-\x20ComputeRouteUtility\x20-',_0x20c2e0);};}}function a9_0x3ab2(){const _0x4c29b9=['__esModule','29666WxMfap','The\x20static\x20part\x20of\x20the\x20route\x20is\x20not\x20legal','findRoute_with_static_part','data','isFloating','2302932ZyBpEO','isAGL','ComputeRouteUtility','MatrixUtility','startFinishParameters','computeRouteBypassReliefRecursiveFunction','checkRoute_3D','getSite','isCartographicPOINTsArray','staticPath','computeRouteFinish_floating','findRoute_finish_floating','assign','success','FilterUtility','isStartFloating','Logger','-start\x20RouteManager.findRoute_with_static_part','75YIOvOn','computeRoute_genery_recursive','shift','addHeight','info','computeRouteFinish_floating_recursive','\x20It\x20is\x20impossible\x20to\x20compute\x20the\x20route','takeOffAslHeight','computeWithDirection','length','to:\x20','catch','computeRouteFinish_floatingWithDirection','findRoute_with_static_part_start_floating','SiteManager','lodash','../../../../../classes/applicationClasses/utility/filterUtility','height','finishPoint','../site/siteManager','findRoute_finish_floating_followTerrain','heightFactor','it\x20is\x20impossible\x20to\x20compute\x20the\x20route','fixHeightAndAltitudeRange','OBJ_VALUE','7zhDYcz','routeASL_Cartesian2','-------------------------------','convert_COMPUTE_ROUTE_REQUEST_to_Arr','682RtdmrJ','decrementRouteHeight','computeDirectionRoute','findNearestPointOutsideNFZ','getTotalTimeString','forEach','-start\x20RouteManager.findRoute_static_part_graph_start_floating_on_dynamic','points3DStraightFilter','altitudeRange','computeWithDirection_floating','RouteManager','description','^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^','computeRouteTerrainFollowingFullPath','-start\x20RouteManager.findRoute_with_static_part_start_floating','Can\x27t\x20find\x20nearest\x20point\x20(finish\x20point)\x20outside\x20NFZ:\x20','computeRouteBypassRelief','allowedId','existing\x20version\x20of\x20the\x20matrix:\x20','graphRange','findRoute_start_floating_withDirection','cloneDeep','it\x20is\x20impossible\x20to\x20compute\x20the\x20graph\x20data','fixStartFinishPoints','computeRouteTerrainFollowingFullPathRecursiveFunction','stringify','computeHeightASL','-start\x20RouteManager.computeRouteBypassRelief','299970SMhWdE','./computeRouteUtility','findRoute_with_static_part_withGraph','../../../../../classes/typings/all.typings','heightRange','findRoute_with_static_part_withGraph_floating','pop','findRoute_start_finish_floating_withDirection','startPoint','Michael','blank','The\x20requested\x20matrix\x20version\x20is\x20greater\x20then\x20the\x20matrix\x20version\x20in\x20the\x20RouteService\x20(requested:\x20','min','48904sCeArj','pointsStraightFilter','3393564uPXcAv','./findRouteUtility','route','GeoUtility','Can\x27t\x20compute\x20route.\x20','groundASL_Cartesian2','defineProperty','getVersion','-start\x20RouteManager.findRoute_with_static_part_withGraph','computeRouteTerrainFollowingFullPathRecursiveFunction_floating','The\x20staticPath\x20is\x20invalid','computeHeightASLForMatrix','91yhjous','then','computeRouteTerrainFollowingFullPath_floating','getTimeString','fromTo','BypassReliefUtility','../../logger/Logger','Can\x27t\x20compute\x20(Start\x20point\x20floating)\x20route\x20from:\x20','findRoute_start_floating','ASL_Max','isArray','computeRoute','log','staticPathFromToIndex','FindRouteUtility','Can\x27t\x20find\x20nearest\x20point\x20(start\x20point)\x20outside\x20NFZ:\x20','185xdOmYo','findRoute_genery','-start\x20RouteManager.findRoute_with_static_part_withGraph_floating','version','push','DataUtility','instance','finish\x20RouteManager.computeRoute','Can\x27t\x20compute\x20(Start/Finish\x20point\x20floating)\x20route\x20from:\x20','validate_findRoute_with_static_part','findRoute_start_finish_floating','DtmManager','buildGraphFromRoute','../../../../../classes/applicationClasses/utility/dataUtility','../../../../../classes/log/Michael','findRoute_finish_floating_withDirection','127674zbpuHz','32jELUNh','40330UrkaIf','Can\x27t\x20compute\x20route\x20(Start\x20point\x20floating\x20and\x20direction\x20to\x20finish\x20point).\x20From:\x20','-start\x20RouteManager.computeRoute','now'];a9_0x3ab2=function(){return _0x4c29b9;};return a9_0x3ab2();}exports[a9_0x4db2af(0x10a)]=RouteManager,RouteManager[a9_0x4db2af(0x14d)]=new RouteManager(),RouteManager[a9_0x4db2af(0x142)]=RouteManager['instance'][a9_0x4db2af(0x142)],RouteManager[a9_0x4db2af(0x110)]=RouteManager[a9_0x4db2af(0x14d)][a9_0x4db2af(0x110)],RouteManager[a9_0x4db2af(0x10d)]=RouteManager['instance'][a9_0x4db2af(0x10d)],RouteManager['computeRouteTerrainFollowingFullPath_floating']=RouteManager['instance'][a9_0x4db2af(0x139)],RouteManager['computeWithDirection']=RouteManager[a9_0x4db2af(0x14d)][a9_0x4db2af(0x17d)],RouteManager[a9_0x4db2af(0x109)]=RouteManager['instance']['computeWithDirection_floating'],RouteManager[a9_0x4db2af(0x13f)]=RouteManager[a9_0x4db2af(0x14d)][a9_0x4db2af(0x13f)],RouteManager[a9_0x4db2af(0x114)]=RouteManager[a9_0x4db2af(0x14d)][a9_0x4db2af(0x114)],RouteManager[a9_0x4db2af(0x16e)]=RouteManager[a9_0x4db2af(0x14d)][a9_0x4db2af(0x16e)],RouteManager[a9_0x4db2af(0x156)]=RouteManager['instance'][a9_0x4db2af(0x156)],RouteManager[a9_0x4db2af(0xf7)]=RouteManager[a9_0x4db2af(0x14d)][a9_0x4db2af(0xf7)],RouteManager['findRoute_genery']=RouteManager['instance'][a9_0x4db2af(0x148)],RouteManager[a9_0x4db2af(0x160)]=RouteManager[a9_0x4db2af(0x14d)][a9_0x4db2af(0x160)],RouteManager['findRoute_with_static_part_start_floating']=RouteManager['instance'][a9_0x4db2af(0xf0)],RouteManager[a9_0x4db2af(0x11e)]=RouteManager['instance'][a9_0x4db2af(0x11e)],RouteManager['findRoute_with_static_part_withGraph_start_floating']=RouteManager[a9_0x4db2af(0x14d)][a9_0x4db2af(0x121)],RouteManager['findRoute_static_part_graph_start_floating_on_dynamic']=RouteManager['instance']['findRoute_static_part_graph_start_floating_on_dynamic'],RouteManager[a9_0x4db2af(0x151)]=RouteManager[a9_0x4db2af(0x14d)][a9_0x4db2af(0x151)],RouteManager[a9_0x4db2af(0x123)]=RouteManager[a9_0x4db2af(0x14d)][a9_0x4db2af(0x123)],RouteManager[a9_0x4db2af(0x12a)]=RouteManager[a9_0x4db2af(0x14d)][a9_0x4db2af(0x12a)];