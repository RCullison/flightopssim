'use strict';const a11_0x53f9ff=a11_0x3160;(function(_0x3e2bb5,_0x1bbcea){const _0x4ba259=a11_0x3160,_0x1849da=_0x3e2bb5();while(!![]){try{const _0x520357=parseInt(_0x4ba259(0x17b))/0x1*(parseInt(_0x4ba259(0x1a7))/0x2)+parseInt(_0x4ba259(0x16e))/0x3*(-parseInt(_0x4ba259(0x1a1))/0x4)+parseInt(_0x4ba259(0x18e))/0x5+parseInt(_0x4ba259(0x19d))/0x6*(-parseInt(_0x4ba259(0x1a0))/0x7)+parseInt(_0x4ba259(0x17e))/0x8*(-parseInt(_0x4ba259(0x190))/0x9)+parseInt(_0x4ba259(0x17c))/0xa+parseInt(_0x4ba259(0x183))/0xb;if(_0x520357===_0x1bbcea)break;else _0x1849da['push'](_0x1849da['shift']());}catch(_0x5c3fce){_0x1849da['push'](_0x1849da['shift']());}}}(a11_0x6d2d,0x4de65));Object[a11_0x53f9ff(0x196)](exports,a11_0x53f9ff(0x185),{'value':!![]}),exports[a11_0x53f9ff(0x164)]=void 0x0;const _=require(a11_0x53f9ff(0x170)),requestManager_1=require(a11_0x53f9ff(0x168)),convertation_1=require(a11_0x53f9ff(0x1a3)),geoCalc_1=require('../../../../../classes/applicationClasses/utility/geoCalc');class DtmUtility{constructor(){const _0x324609=a11_0x53f9ff;this[_0x324609(0x198)]=_0x30aa2d=>{const _0x51305b=_0x324609,_0x137de9=Object[_0x51305b(0x18b)](Object[_0x51305b(0x18b)]({},_0x30aa2d),{'pathMap':{},'pathHeightSorted':[],'pathOptimized':[]});return _0x30aa2d[_0x51305b(0x17f)][_0x51305b(0x195)]((_0x58b8c4,_0x45e953)=>{const _0x2581ee=_0x51305b;return _0x58b8c4[_0x2581ee(0x169)]-_0x45e953['distance'];}),_0x30aa2d['path']['forEach']((_0x350e47,_0x83c644)=>{const _0x26bd38=_0x51305b;_0x137de9[_0x26bd38(0x1ab)][_0x83c644]={'point':_0x350e47,'index':_0x83c644};}),_0x137de9[_0x51305b(0x1a4)]=_['cloneDeep'](Object[_0x51305b(0x17a)](_0x137de9[_0x51305b(0x1ab)])),_0x137de9['pathHeightSorted']['sort']((_0x46d483,_0x1934ed)=>{const _0x3ea309=_0x51305b;return _0x1934ed['point'][_0x3ea309(0x171)]-_0x46d483[_0x3ea309(0x19c)][_0x3ea309(0x171)];}),_0x137de9;},this[_0x324609(0x173)]=_0x3eacef=>{const _0x3b23aa=_0x324609,_0x4ebf05={'success':!![]};while(_0x3eacef[_0x3b23aa(0x1a4)][_0x3b23aa(0x193)]>0x0){const _0x1981e2=_0x3eacef[_0x3b23aa(0x1a4)][0x0];let _0x488595={'success':!![],'data':{'isFixed':![]}},_0x24c363={'success':!![],'data':{'isFixed':![]}};if(_0x1981e2[_0x3b23aa(0x16b)]>0x0){const _0x4db6f2=_0x3eacef['pathMap'][_0x1981e2[_0x3b23aa(0x16b)]-0x1];_0x24c363=this[_0x3b23aa(0x180)](_0x1981e2,_0x4db6f2,_0x3eacef);if(_0x24c363[_0x3b23aa(0x178)]){_0x3eacef[_0x3b23aa(0x1ab)][_0x1981e2[_0x3b23aa(0x16b)]-0x1]={'point':_0x24c363[_0x3b23aa(0x197)][_0x3b23aa(0x19c)],'index':_0x24c363[_0x3b23aa(0x197)][_0x3b23aa(0x16b)]};const _0x2e8211=_0x3eacef[_0x3b23aa(0x1a4)][_0x3b23aa(0x19e)](_0xdd3b97=>_0xdd3b97[_0x3b23aa(0x16b)]===_0x24c363['data']['index']);_0x2e8211>-0x1&&(_0x3eacef[_0x3b23aa(0x1a4)][_0x2e8211][_0x3b23aa(0x19c)]=_0x24c363['data'][_0x3b23aa(0x19c)]);}}if(_0x1981e2[_0x3b23aa(0x16b)]<_0x3eacef[_0x3b23aa(0x17f)][_0x3b23aa(0x193)]-0x1){const _0x19bd10=_0x3eacef[_0x3b23aa(0x1ab)][_0x1981e2[_0x3b23aa(0x16b)]+0x1];_0x488595=this[_0x3b23aa(0x180)](_0x1981e2,_0x19bd10,_0x3eacef);if(_0x488595[_0x3b23aa(0x178)]){_0x3eacef[_0x3b23aa(0x1ab)][_0x1981e2['index']+0x1]={'point':_0x488595[_0x3b23aa(0x197)][_0x3b23aa(0x19c)],'index':_0x488595[_0x3b23aa(0x197)][_0x3b23aa(0x16b)]};const _0x4e8fb7=_0x3eacef[_0x3b23aa(0x1a4)][_0x3b23aa(0x19e)](_0x138db6=>_0x138db6[_0x3b23aa(0x16b)]===_0x488595[_0x3b23aa(0x197)]['index']);_0x4e8fb7>-0x1&&(_0x3eacef[_0x3b23aa(0x1a4)][_0x4e8fb7]['point']=_0x488595[_0x3b23aa(0x197)][_0x3b23aa(0x19c)]);}}if(_0x24c363['success']&&_0x488595[_0x3b23aa(0x178)]){if(_0x24c363[_0x3b23aa(0x197)]['isFixed']||_0x488595[_0x3b23aa(0x197)][_0x3b23aa(0x182)])_0x3eacef['pathHeightSorted']['sort']((_0x319319,_0x559681)=>{const _0x211636=_0x3b23aa;return _0x559681['point']['height']-_0x319319[_0x211636(0x19c)]['height'];});else{}}else _0x4ebf05[_0x3b23aa(0x178)]=![],_0x4ebf05[_0x3b23aa(0x165)]=_0x3b23aa(0x172);_0x3eacef[_0x3b23aa(0x1a4)][_0x3b23aa(0x19a)]();}const _0x5aacea=Object[_0x3b23aa(0x17a)](_0x3eacef[_0x3b23aa(0x1ab)]);return _0x5aacea[_0x3b23aa(0x195)]((_0x966ac7,_0x10e0cd)=>{const _0x1d718e=_0x3b23aa;return _0x966ac7[_0x1d718e(0x19c)][_0x1d718e(0x169)]-_0x10e0cd[_0x1d718e(0x19c)][_0x1d718e(0x169)];}),_0x4ebf05['data']=_0x5aacea,_0x4ebf05;},this['validateAndFixLeg']=(_0x3431be,_0x22c81d,_0x6914b6)=>{const _0x1aa172=_0x324609,_0x4afe1c={'success':![]},_0x1d9424=[_0x3431be[_0x1aa172(0x19c)],_0x22c81d['point']],_0x36eea7=this['validateLeg'](_0x1d9424,_0x6914b6[_0x1aa172(0x16f)]);if(!_0x36eea7){const _0x543485=_0x6914b6[_0x1aa172(0x16d)],_0x2e49b7=this[_0x1aa172(0x18a)](_0x1d9424,_0x6914b6[_0x1aa172(0x16f)],_0x543485);_0x2e49b7['success']&&(_0x4afe1c[_0x1aa172(0x178)]=_0x2e49b7['success'],_0x4afe1c[_0x1aa172(0x197)]={'point':_0x2e49b7[_0x1aa172(0x197)],'index':_0x22c81d[_0x1aa172(0x16b)],'isFixed':!![]});}else{_0x4afe1c[_0x1aa172(0x178)]=!![];const _0x1a71a1=_0x22c81d[_0x1aa172(0x19c)];_0x4afe1c[_0x1aa172(0x197)]={'point':_0x1a71a1,'index':_0x22c81d[_0x1aa172(0x16b)],'isFixed':![]};}return _0x4afe1c;},this[_0x324609(0x18a)]=(_0x500051,_0x10c292,_0x1fe820)=>{const _0x4adca2=_0x324609,_0x4a7a88={'success':![]};_0x10c292[_0x4adca2(0x189)]=-Math[_0x4adca2(0x181)](_0x10c292[_0x4adca2(0x189)]||0x0),_0x10c292[_0x4adca2(0x17d)]=Math[_0x4adca2(0x181)](_0x10c292[_0x4adca2(0x17d)]||0x0);const _0x30c74c={'x':_0x500051[0x0][_0x4adca2(0x169)]-_0x500051[0x1][_0x4adca2(0x169)],'y':_0x500051[0x0][_0x4adca2(0x171)]-_0x500051[0x1][_0x4adca2(0x171)]};let _0x1579d1=0x0;_0x30c74c['x']>=0x0?_0x1579d1=_0x30c74c['x']*-_0x10c292['max']:_0x1579d1=-_0x30c74c['x']*_0x10c292[_0x4adca2(0x189)];if(_0x30c74c['y']+_0x1579d1+0x2<_0x1fe820){const _0x1aa873=_0x500051[0x0]['height']+_0x1579d1;_0x500051[0x1][_0x4adca2(0x171)]=Math[_0x4adca2(0x17d)](_0x500051[0x1]['height'],_0x1aa873),_0x4a7a88[_0x4adca2(0x178)]=!![],_0x4a7a88[_0x4adca2(0x197)]=_0x500051[0x1];}else{}return _0x4a7a88;},this[_0x324609(0x19f)]=(_0x11569c,_0x35d7d3)=>{const _0x59db92=_0x324609;let _0x2a2821=![];const _0x5625fc={'x':_0x11569c[0x0][_0x59db92(0x169)]-_0x11569c[0x1][_0x59db92(0x169)],'y':_0x11569c[0x0][_0x59db92(0x171)]-_0x11569c[0x1][_0x59db92(0x171)]},_0x49df7c=_0x5625fc['y']/_0x5625fc['x'];return _0x49df7c<=_0x35d7d3[_0x59db92(0x17d)]&&_0x49df7c>=_0x35d7d3[_0x59db92(0x189)]&&(_0x2a2821=!![]),_0x2a2821;},this[_0x324609(0x18c)]=_0x4a2cec=>{return new Promise((_0x4fe2c5,_0x462225)=>{const _0x173226=a11_0x3160,_0x3fd5e1={'success':![]},_0x1ef3cc=_0x4a2cec['map'](_0x22077b=>{const _0x43f7a5=a11_0x3160;return convertation_1['Convertation'][_0x43f7a5(0x1a6)](_0x22077b);});requestManager_1['RequestManager'][_0x173226(0x177)](_0x173226(0x1aa),_0x1ef3cc)[_0x173226(0x187)](_0x19cd97=>{const _0x1b5601=_0x173226;_0x19cd97['success']&&Array[_0x1b5601(0x199)](_0x19cd97['data'])?(_0x3fd5e1[_0x1b5601(0x178)]=!![],_0x3fd5e1[_0x1b5601(0x197)]=convertation_1['Convertation'][_0x1b5601(0x1a5)](_0x19cd97[_0x1b5601(0x197)]),_0x4fe2c5(_0x3fd5e1)):_0x462225(_0x3fd5e1);})['catch'](_0x182353=>{_0x462225(_0x182353);});});},this[_0x324609(0x1a9)]=_0x238d34=>{const _0x185345=_0x324609;let _0x283712=-0x1f4;return _0x238d34[_0x185345(0x188)](_0x3fd970=>{const _0x38b328=_0x185345;_0x283712=Math[_0x38b328(0x17d)](_0x283712,_0x3fd970[0x2]);}),_0x283712;},this[_0x324609(0x1a8)]=(_0x1c3d52,_0x3ac3aa)=>{const _0x12a852=_0x324609,_0x5cdcfd=[];if(Array['isArray'](_0x1c3d52)&&Array[_0x12a852(0x199)](_0x3ac3aa)&&_0x1c3d52[_0x12a852(0x193)]===_0x3ac3aa[_0x12a852(0x193)])for(let _0x8583e7=0x0;_0x8583e7<_0x1c3d52[_0x12a852(0x193)];_0x8583e7++){_0x5cdcfd[_0x12a852(0x16a)]({'point':convertation_1[_0x12a852(0x191)]['POINT3D_to_GEOPOINT_3D'](_0x3ac3aa[_0x8583e7]),'distance':_0x1c3d52[_0x8583e7][_0x12a852(0x169)],'index':_0x1c3d52[_0x8583e7][_0x12a852(0x16b)]});}return _0x5cdcfd;},this[_0x324609(0x19b)]=(_0x17ea34,_0x5d35e1)=>{const _0x4bf7c0=_0x324609,_0x34a3db=[];if(Array[_0x4bf7c0(0x199)](_0x17ea34)&&Array[_0x4bf7c0(0x199)](_0x5d35e1)&&_0x17ea34['length']===_0x5d35e1[_0x4bf7c0(0x193)])for(let _0x40a0e1=0x0;_0x40a0e1<_0x17ea34['length'];_0x40a0e1++){_0x34a3db[_0x4bf7c0(0x16a)]({'point':_0x5d35e1[_0x40a0e1],'distance':_0x17ea34[_0x40a0e1]['distance'],'index':_0x17ea34[_0x40a0e1][_0x4bf7c0(0x16b)]});}return _0x34a3db;},this[_0x324609(0x184)]=(_0x54b096,_0x1364bc,_0x38cf02=0x1)=>{const _0x53bff7=_0x324609;let _0x125b44=geoCalc_1[_0x53bff7(0x167)][_0x53bff7(0x184)](_0x54b096,_0x1364bc);return _0x54b096[_0x53bff7(0x193)]>0x2&&(_0x125b44=geoCalc_1[_0x53bff7(0x167)][_0x53bff7(0x163)](_0x125b44,_0x38cf02)),_0x125b44;},this[_0x324609(0x192)]=(_0x5e458f,_0x1e78ed)=>{const _0x1aa96a=_0x324609,_0x379044=_[_0x1aa96a(0x18d)](_0x5e458f);return _0x379044['forEach'](_0x6c4f93=>{const _0x3aa5f2=_0x1aa96a;_0x6c4f93[_0x3aa5f2(0x171)]=(_0x6c4f93[_0x3aa5f2(0x171)]||0x0)+_0x1e78ed[_0x3aa5f2(0x186)][_0x3aa5f2(0x189)];}),_0x379044;},this[_0x324609(0x176)]=(_0x3e29cc,_0x222a1e,_0x3f9aa3)=>{const _0x67ab2e=_0x324609;_0x222a1e[_0x67ab2e(0x195)]((_0x342f9e,_0x1a876)=>{const _0x41c53e=_0x67ab2e;return _0x342f9e['distance']-_0x1a876[_0x41c53e(0x169)];});const _0x5bfc20={'path':_0x222a1e,'maxHeight':_0x3f9aa3[_0x67ab2e(0x186)][_0x67ab2e(0x17d)]-_0x3f9aa3[_0x67ab2e(0x186)][_0x67ab2e(0x189)],'slope':_0x3f9aa3['slope'],'groundPath':_0x3e29cc},_0x59f494=this[_0x67ab2e(0x198)](_0x5bfc20),_0x39a2be=this[_0x67ab2e(0x173)](_0x59f494);return _0x39a2be;},this['convertArr_POINT_INDEXED_to_CARESIAN2']=_0x4990cb=>{const _0x15bb2b=_0x324609,_0x3a8831=[];return Array[_0x15bb2b(0x199)](_0x4990cb)&&_0x4990cb[_0x15bb2b(0x188)](_0x16c3c2=>{const _0x34aae6=_0x15bb2b;_0x3a8831['push']({'x':_0x16c3c2[_0x34aae6(0x19c)][_0x34aae6(0x169)],'y':_0x16c3c2[_0x34aae6(0x19c)][_0x34aae6(0x171)]});}),_0x3a8831;},this[_0x324609(0x18f)]=_0x3a54e2=>{const _0x2ef5c3=_0x324609,_0x28dbeb=[];return _0x3a54e2[_0x2ef5c3(0x188)](_0x12e9f2=>{const _0x4f3d67=_0x2ef5c3;_0x28dbeb[_0x4f3d67(0x16a)]({'x':_0x12e9f2[_0x4f3d67(0x169)],'y':_0x12e9f2[_0x4f3d67(0x19c)]['altitude']});}),_0x28dbeb;},this[_0x324609(0x16c)]=_0x50aff3=>{const _0x5c50b4=_0x324609,_0x430cca=[];return Array[_0x5c50b4(0x199)](_0x50aff3)&&_0x50aff3['forEach'](_0x44aaa6=>{const _0x3f7848=_0x5c50b4;_0x430cca['push']([_0x44aaa6['point'][_0x3f7848(0x19c)][0x0],_0x44aaa6[_0x3f7848(0x19c)][_0x3f7848(0x19c)][0x1],_0x44aaa6[_0x3f7848(0x19c)][_0x3f7848(0x171)]]);}),_0x430cca;},this[_0x324609(0x174)]=_0x5e6d60=>{const _0x1fd610=_0x324609,_0x1d4ee6=[];return _0x5e6d60[_0x1fd610(0x188)](_0x24144e=>{const _0x1c27c5=_0x1fd610;_0x1d4ee6[_0x1c27c5(0x16a)]({'x':_0x24144e['distance'],'y':_0x24144e['height']});}),_0x1d4ee6;},this[_0x324609(0x179)]=_0x3f3e72=>{const _0x1c6d91=_0x324609,_0x57ec37=[];return _0x3f3e72[_0x1c6d91(0x188)](_0x4cb3ab=>{const _0x13f6c7=_0x1c6d91;_0x57ec37[_0x13f6c7(0x16a)]({'x':_0x4cb3ab[_0x13f6c7(0x169)],'y':_0x4cb3ab['point'][_0x13f6c7(0x194)]});}),_0x57ec37;},this['convert_Arr_ALONG_GEOPOINT3D_to_POINT_ON_PATH_arr']=_0x3d97a5=>{const _0x535892=_0x324609,_0x4ee810=[];return _0x3d97a5[_0x535892(0x188)](_0x2ca4ce=>{const _0xbb310=_0x535892;_0x4ee810['push']({'point':[_0x2ca4ce[_0xbb310(0x19c)]['longitude'],_0x2ca4ce['point']['latitude'],_0x2ca4ce['point']['altitude']],'height':_0x2ca4ce[_0xbb310(0x19c)][_0xbb310(0x194)],'distance':_0x2ca4ce[_0xbb310(0x169)],'index':_0x2ca4ce[_0xbb310(0x16b)],'isHeightFixed':![],'isPointFixed':![]});}),_0x4ee810;},this[_0x324609(0x1a2)]=(_0x15f532,_0x318049,_0x2e7077,_0x4f7cb9)=>{const _0x23468f=_0x324609,_0xb9d63d=this['POINT3D_Arr_to_ALONG_POINT3D_Arr'](_0x2e7077,_0x318049),_0x454f2c=this[_0x23468f(0x166)](_0xb9d63d),_0x578fc3=this[_0x23468f(0x176)](_0x15f532,_0x454f2c,_0x4f7cb9);return _0x578fc3;};}}function a11_0x3160(_0x2629c1,_0x3e21f7){const _0x6d2dc0=a11_0x6d2d();return a11_0x3160=function(_0x31602d,_0x3a1afa){_0x31602d=_0x31602d-0x163;let _0x101d5b=_0x6d2dc0[_0x31602d];return _0x101d5b;},a11_0x3160(_0x2629c1,_0x3e21f7);}exports['DtmUtility']=DtmUtility,DtmUtility['instance']=new DtmUtility(),DtmUtility[a11_0x53f9ff(0x16c)]=DtmUtility[a11_0x53f9ff(0x175)][a11_0x53f9ff(0x16c)],DtmUtility['convertArr_POINT_INDEXED_to_CARESIAN2']=DtmUtility[a11_0x53f9ff(0x175)]['convertArr_POINT_INDEXED_to_CARESIAN2'],DtmUtility[a11_0x53f9ff(0x18f)]=DtmUtility[a11_0x53f9ff(0x175)][a11_0x53f9ff(0x18f)],DtmUtility[a11_0x53f9ff(0x184)]=DtmUtility['instance'][a11_0x53f9ff(0x184)],DtmUtility[a11_0x53f9ff(0x18c)]=DtmUtility[a11_0x53f9ff(0x175)][a11_0x53f9ff(0x18c)],DtmUtility[a11_0x53f9ff(0x1a2)]=DtmUtility[a11_0x53f9ff(0x175)][a11_0x53f9ff(0x1a2)],DtmUtility['POINT3D_Arr_to_ALONG_POINT3D_Arr']=DtmUtility[a11_0x53f9ff(0x175)][a11_0x53f9ff(0x1a8)];function a11_0x6d2d(){const _0x4a09a3=['4xIXidv','fixHeightOfPoints','../../../../../classes/applicationClasses/utility/convertation','pathHeightSorted','GEOPOINT3D_Arr_to_POINT3D_Arr','POINT_to_GEOPOINT','25550eenDPC','POINT3D_Arr_to_ALONG_POINT3D_Arr','findMaxHeightFromLauncherPoint','alts','pathMap','filterClosePoints','DtmUtility','description','convert_Arr_ALONG_GEOPOINT3D_to_POINT_ON_PATH_arr','GeoCalc','../../applicationServices/restConnections/requestManager','distance','push','index','convertArr_POINT_INDEXED_to_POINT3D','maxHeight','1305798Vtttzx','slope','lodash','height','cant\x20calculate\x20DTM\x20with\x20min\x20&\x20max\x20height','validateAndFixRoute3D','convertArr_POINT_ON_PATH_to_CARESIAN2','instance','validateAndFixRoute3D_and_convertToPOINTS','requestToDTMSDivide','success','convertArr_ALONG_GEOPOINT3D_to_CARESIAN2','values','3EXibIh','3716350JoeXzZ','max','8yWsSRy','path','validateAndFixLeg','abs','isFixed','6343106evXZtV','convertPathToPathResolutionFull','__esModule','altitudeRange','then','forEach','min','fixLeg','assign','getPointsAltitude','cloneDeep','2633080QrmKzs','convert_ALONG_GEOPOINT3D_Arr_to_CARESIAN2','5056803jzftfF','Convertation','addMissionHeight','length','altitude','sort','defineProperty','data','prepareRequestObject','isArray','shift','convert_Arr_GEOPOINT3D_to_ALONG_GEOPOINT3D','point','1182072nnywjn','findIndex','validateLeg','7olZzeT'];a11_0x6d2d=function(){return _0x4a09a3;};return a11_0x6d2d();}