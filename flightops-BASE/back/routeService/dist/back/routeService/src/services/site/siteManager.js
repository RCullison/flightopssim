'use strict';const a14_0x2ccb63=a14_0x29db;(function(_0x403f0f,_0x55e660){const _0x1c0588=a14_0x29db,_0x6d9d7a=_0x403f0f();while(!![]){try{const _0x1c35e3=-parseInt(_0x1c0588(0x186))/0x1*(parseInt(_0x1c0588(0x1b3))/0x2)+parseInt(_0x1c0588(0x1c8))/0x3*(-parseInt(_0x1c0588(0x1bd))/0x4)+parseInt(_0x1c0588(0x1c2))/0x5*(parseInt(_0x1c0588(0x1af))/0x6)+-parseInt(_0x1c0588(0x169))/0x7+-parseInt(_0x1c0588(0x17c))/0x8*(-parseInt(_0x1c0588(0x1b9))/0x9)+parseInt(_0x1c0588(0x183))/0xa+parseInt(_0x1c0588(0x1ab))/0xb;if(_0x1c35e3===_0x55e660)break;else _0x6d9d7a['push'](_0x6d9d7a['shift']());}catch(_0x3f92f7){_0x6d9d7a['push'](_0x6d9d7a['shift']());}}}(a14_0x4e16,0x1ab66));function a14_0x29db(_0x1a5ce9,_0x103307){const _0x4e16c1=a14_0x4e16();return a14_0x29db=function(_0x29db63,_0x413d3b){_0x29db63=_0x29db63-0x169;let _0x30c918=_0x4e16c1[_0x29db63];return _0x30c918;},a14_0x29db(_0x1a5ce9,_0x103307);}function a14_0x4e16(){const _0x486235=['data','../../../../../classes/applicationClasses/utility/compress','updateAllExternal','toISOString','generatePfGrid_3D','DataUtility','allowedId','generateGridExternal_withFiltering','isFinite','../../../../../classes/applicationClasses/utility/geoUtility','NFZ_dynamic_MAP_MAP','cell','getPartOfSiteWithGenerateGrid','stringify','getPartOfSiteWithGenerateGrid_filtered','computeCrossPoint','SiteManager','heightToHeightResolution','requestToOB','-start\x20SiteManager.getSiteWithGenerateGrid','cellSizeMeter','checkCellNfz_3D','Compress','60731bhEXtI','../../../../../classes/typings/all.typings','setFullSiteData','NfzManager','6NsuLLE','abs','cloneDeep','cartographicToMatrix','48YDyLqg','cartographicArrToMatrix3D','../../../../../classes/dataClasses/api/api_enums','error\x20getMapMatrixDataFromAMS','generateGridExternal','marginFromStraightLine','84339nbftDJ','OBJ_VALUE','length','height','2356EHUUax','../../../../../classes/applicationClasses/utility/dataUtility','hasOwnProperty','=======================================','getMatrix','614455hJJhbM','updateAllDynamic','defineProperty','getSiteWithGenerateGrid','updateAllStatic','round','516ltnyRV','minY','trunc','northWest','push','refreshSite','point','keys','MatrixManager','heightRange','convertMatrixToExternalFormat_3D_with_filtering','lodash','matrixToCartographic','GeoUtility','RequestManager','checkRoute_3D','----------------------------------------','defaultRouteParameters','now','../../../../../classes/applicationClasses/utility/matrixUtility','generateSiteByNewRange','finish\x20SiteManager.getSiteWithGenerateGrid','NFZ_external_MAP','min','addComputeRouteMargin','../../applicationServices/restConnections/requestManager','MatrixUtility','getSite','maxY','max','matrixNFZSafetyFactor_MAP','assign','checkRoute_ASL','getMapMatrixDataFromAMS','creationTime','matrixSize','1181922WbHJnr','==========\x20OB\x20REFRESH\x20SITE\x20catch','../matrix/matrixManager','cartographicToMatrixFunction','forEach','isArray','OB_API','matrixNFZ_MAP','setSites','========\x20OB\x20REFRESH\x20SITE','getVersion','blank','minX','catch','checkTopBottomCells','then','maxX','isFree','matrixData','152RAoXJs','isCartographicPOINT','siteData','cartographicToMatrix3D','log','instance','success','732750nqeqpO','getSiteMetadata','cartographicData','7VdabCC','../nfz/nfzManager','getTimeString','checkLeftRightCells','convertFromTo_to_MatrixRange','zip','generateSiteMetadataByNewRange','getTotalTimeString','convertMatrixToExternalFormat_3D_newLogic','grid','NFZ_static_MAP','checkOutsideNfz','json','cellSize'];a14_0x4e16=function(){return _0x486235;};return a14_0x4e16();}Object[a14_0x2ccb63(0x1c4)](exports,'__esModule',{'value':!![]}),exports[a14_0x2ccb63(0x1a4)]=void 0x0;const _=require(a14_0x2ccb63(0x1d3)),dataUtility_1=require(a14_0x2ccb63(0x1be)),matrixUtility_1=require(a14_0x2ccb63(0x1db)),geoUtility_1=require(a14_0x2ccb63(0x19d)),all_typings_1=require(a14_0x2ccb63(0x1ac)),requestManager_1=require(a14_0x2ccb63(0x1e1)),matrixManager_1=require(a14_0x2ccb63(0x16b)),compress_1=require(a14_0x2ccb63(0x195)),api_enums_1=require(a14_0x2ccb63(0x1b5)),nfzManager_1=require(a14_0x2ccb63(0x187)),routeComputeConfig=require('./../../../../../../../../config/routeComputeConfig.json'),heightResolution=routeComputeConfig['heightResolution'],heightRange=routeComputeConfig[a14_0x2ccb63(0x1d1)],cellSizeMeter=routeComputeConfig[a14_0x2ccb63(0x1d9)][a14_0x2ccb63(0x1a8)],marginFromStraightLine=routeComputeConfig[a14_0x2ccb63(0x1b8)],marginMatrix=Math['round'](marginFromStraightLine/cellSizeMeter)+0x1;class SiteManager{constructor(){const _0x142792=a14_0x2ccb63;this[_0x142792(0x17e)]={},this[_0x142792(0x173)]=()=>{const _0x52b216=_0x142792;let _0x245eff=0x0;return this[_0x52b216(0x17e)]&&this['siteData'][all_typings_1[_0x52b216(0x1ba)][_0x52b216(0x174)]]&&this[_0x52b216(0x17e)][all_typings_1['OBJ_VALUE'][_0x52b216(0x174)]]['creationTime']&&(_0x245eff=this[_0x52b216(0x17e)][all_typings_1[_0x52b216(0x1ba)][_0x52b216(0x174)]][_0x52b216(0x1ea)]),_0x245eff;},this[_0x142792(0x1e9)]=()=>{const _0x42157e=_0x142792;requestManager_1[_0x42157e(0x1d6)]['requestToAMS'](api_enums_1['AMS_API'][_0x42157e(0x1e3)],{'zip':!![]})[_0x42157e(0x178)](_0x442f78=>{const _0x28c5ab=_0x42157e;if(_0x442f78['success']){const _0x562118=_0x442f78[_0x28c5ab(0x194)];let _0x5b7e52;if(_0x562118['zip']){const _0x3ee74b=compress_1[_0x28c5ab(0x1aa)]['matrixUnpack'](_0x562118[_0x28c5ab(0x18b)]);if(_0x3ee74b[_0x28c5ab(0x182)])_0x5b7e52=_0x3ee74b[_0x28c5ab(0x194)];else{}}else _0x5b7e52=_0x562118[_0x28c5ab(0x192)];_0x5b7e52&&this[_0x28c5ab(0x171)](_0x5b7e52);}})[_0x42157e(0x176)](_0x117500=>{const _0x555ad0=_0x42157e;console[_0x555ad0(0x180)](_0x555ad0(0x1b6),_0x117500);}),requestManager_1[_0x42157e(0x1d6)][_0x42157e(0x1a6)](api_enums_1[_0x42157e(0x16f)][_0x42157e(0x1cd)])[_0x42157e(0x178)](_0x34af03=>{const _0x48717d=_0x42157e;console['log'](_0x48717d(0x1c0)),console[_0x48717d(0x180)](_0x48717d(0x172),JSON[_0x48717d(0x1a1)](_0x34af03)),console['log']('=======================================');})['catch'](_0x4acbc2=>{const _0x458e23=_0x42157e;console[_0x458e23(0x180)](_0x458e23(0x1c0)),console[_0x458e23(0x180)](_0x458e23(0x16a)),console[_0x458e23(0x180)]('=======================================');});},this[_0x142792(0x184)]=()=>{const _0x533242=_0x142792;let _0x2dcdcd;const _0x46d218=this[_0x533242(0x17e)][all_typings_1[_0x533242(0x1ba)][_0x533242(0x174)]];return _0x46d218&&(_0x2dcdcd={'id':_[_0x533242(0x1b1)](_0x46d218['id']),'northWest':_[_0x533242(0x1b1)](_0x46d218[_0x533242(0x1cb)]),'cellSize':_['cloneDeep'](_0x46d218[_0x533242(0x193)]),'creationTime':_[_0x533242(0x1b1)](_0x46d218[_0x533242(0x1ea)]),'heightRange':_[_0x533242(0x1b1)](_0x46d218[_0x533242(0x1d1)]),'matrixSize':_[_0x533242(0x1b1)](_0x46d218['matrixSize'])}),_0x2dcdcd;},this[_0x142792(0x1e3)]=(_0x599cbe=all_typings_1[_0x142792(0x1ba)][_0x142792(0x174)])=>{const _0x3f36c4=_0x142792;let _0x558b33;return _0x558b33=this[_0x3f36c4(0x17e)][_0x599cbe]||this[_0x3f36c4(0x17e)][all_typings_1[_0x3f36c4(0x1ba)][_0x3f36c4(0x174)]],_0x558b33;},this['getSiteWithGenerateGrid']=(_0x33e546=all_typings_1[_0x142792(0x1ba)]['blank'],_0x28979b)=>{const _0x26948b=_0x142792;console[_0x26948b(0x180)](dataUtility_1[_0x26948b(0x199)][_0x26948b(0x188)](),_0x26948b(0x1a7));const _0x4b763e=Date['now']();let _0x3f2c8f;_0x28979b=this[_0x26948b(0x1a5)](_0x28979b);const _0xc937fb=this['siteData'][_0x33e546]||this[_0x26948b(0x17e)][all_typings_1[_0x26948b(0x1ba)][_0x26948b(0x174)]];if(_0xc937fb){_0xc937fb[_0x26948b(0x18f)]=_0xc937fb[_0x26948b(0x18f)]||{};const _0x1cc45c={'minX':0x0,'maxX':_0xc937fb['matrixSize']['x'],'minY':0x0,'maxY':_0xc937fb[_0x26948b(0x1eb)]['y']},_0xf32e94=this['generateGridExternal'](_0xc937fb,_0x28979b,_0x1cc45c);_0x3f2c8f=Object[_0x26948b(0x1e7)](Object[_0x26948b(0x1e7)]({},_0xc937fb),{'grid':_0xf32e94});}return console[_0x26948b(0x180)](dataUtility_1[_0x26948b(0x199)]['getTimeString'](),'finish\x20SiteManager.getSiteWithGenerateGrid',dataUtility_1['DataUtility'][_0x26948b(0x18d)](_0x4b763e,_0x26948b(0x1d8))),_0x3f2c8f;},this['getPartOfSiteWithGenerateGrid']=(_0x396c95=all_typings_1[_0x142792(0x1ba)][_0x142792(0x174)],_0x17061c,_0x1e4ac1)=>{const _0x44a75c=_0x142792;console[_0x44a75c(0x180)](dataUtility_1[_0x44a75c(0x199)][_0x44a75c(0x188)](),_0x44a75c(0x1a7));const _0x4094ee=Date[_0x44a75c(0x1da)]();let _0x5ee257;_0x17061c=this[_0x44a75c(0x1a5)](_0x17061c);const _0x451583=this[_0x44a75c(0x17e)][_0x396c95]||this['siteData'][all_typings_1[_0x44a75c(0x1ba)]['blank']];if(_0x451583){_0x451583['grid']=_0x451583[_0x44a75c(0x18f)]||{};const _0x1a7db7=this[_0x44a75c(0x18a)](_0x1e4ac1),_0x26feb1=this[_0x44a75c(0x18c)](_0x1a7db7),_0xb98086=this['generateGridExternal'](_0x451583,_0x17061c,_0x1a7db7);_0x5ee257=Object[_0x44a75c(0x1e7)](Object[_0x44a75c(0x1e7)]({},_0x26feb1),{'grid':_0xb98086});}return console[_0x44a75c(0x180)](dataUtility_1[_0x44a75c(0x199)][_0x44a75c(0x188)](),_0x44a75c(0x1dd),dataUtility_1[_0x44a75c(0x199)][_0x44a75c(0x18d)](_0x4094ee,'----------------------------------------')),_0x5ee257;},this[_0x142792(0x1a2)]=(_0x2b8202,_0x10ee61)=>{const _0x3724d7=_0x142792,_0x559bb5=Date[_0x3724d7(0x1da)]();let _0x2be9f2;const _0x5bee16=this['siteData'][_0x2b8202[_0x3724d7(0x19a)]]||this[_0x3724d7(0x17e)][all_typings_1[_0x3724d7(0x1ba)]['blank']];if(_0x5bee16){_0x5bee16[_0x3724d7(0x18f)]=_0x5bee16['grid']||{};const _0x15d139=this[_0x3724d7(0x18a)](_0x2b8202['fromTo']),_0x531e32=this[_0x3724d7(0x1dc)](_0x15d139),_0x2daad6=this[_0x3724d7(0x19b)](_0x5bee16,_0x15d139,_0x10ee61);_0x2be9f2=Object[_0x3724d7(0x1e7)](Object['assign']({},_0x531e32),{'grid':_0x2daad6});}return _0x2be9f2;},this[_0x142792(0x18c)]=_0x16c96f=>{const _0x528fee=_0x142792;let _0x339ce7;const _0x4b0d44=this[_0x528fee(0x17e)][all_typings_1['OBJ_VALUE'][_0x528fee(0x174)]],_0x5e1ec7=matrixUtility_1[_0x528fee(0x1e2)][_0x528fee(0x1d4)](_0x4b0d44,[_0x16c96f[_0x528fee(0x175)],_0x16c96f['minY']]);return _0x4b0d44&&(_0x339ce7={'id':_[_0x528fee(0x1b1)](_0x4b0d44['id']),'northWest':_['cloneDeep'](_0x4b0d44[_0x528fee(0x1cb)]),'northWestCropped':_0x5e1ec7,'cellSize':_[_0x528fee(0x1b1)](_0x4b0d44['cellSize']),'creationTime':_[_0x528fee(0x1b1)](_0x4b0d44[_0x528fee(0x1ea)]),'heightRange':_[_0x528fee(0x1b1)](_0x4b0d44[_0x528fee(0x1d1)]),'matrixSize':{'x':Math[_0x528fee(0x1b0)](_0x16c96f['maxX']-_0x16c96f[_0x528fee(0x175)]),'y':Math['abs'](_0x16c96f['maxY']-_0x16c96f[_0x528fee(0x1c9)])},'matrixFactor':{'x':_0x16c96f['minX'],'y':_0x16c96f[_0x528fee(0x1c9)]}}),_0x339ce7;},this[_0x142792(0x1dc)]=_0x28421b=>{const _0x1d68c3=_0x142792;let _0xb5893a;const _0x4d5e12=this[_0x1d68c3(0x17e)][all_typings_1[_0x1d68c3(0x1ba)][_0x1d68c3(0x174)]],_0x4b0d94=matrixUtility_1['MatrixUtility']['matrixToCartographic'](_0x4d5e12,[_0x28421b['minX'],_0x28421b[_0x1d68c3(0x1c9)]]);return _0x4d5e12&&(_0xb5893a={'id':_[_0x1d68c3(0x1b1)](_0x4d5e12['id']),'northWest':_[_0x1d68c3(0x1b1)](_0x4d5e12[_0x1d68c3(0x1cb)]),'northWestCropped':_0x4b0d94,'cellSize':_[_0x1d68c3(0x1b1)](_0x4d5e12[_0x1d68c3(0x193)]),'creationTime':_['cloneDeep'](_0x4d5e12[_0x1d68c3(0x1ea)]),'heightRange':_[_0x1d68c3(0x1b1)](_0x4d5e12[_0x1d68c3(0x1d1)]),'matrixSize':{'x':Math[_0x1d68c3(0x1b0)](_0x28421b[_0x1d68c3(0x179)]-_0x28421b[_0x1d68c3(0x175)]),'y':Math[_0x1d68c3(0x1b0)](_0x28421b[_0x1d68c3(0x1e4)]-_0x28421b[_0x1d68c3(0x1c9)])},'matrixFactor':{'x':_0x28421b['minX'],'y':_0x28421b['minY']}}),_0xb5893a;},this[_0x142792(0x18a)]=_0x3e0596=>{const _0x51e385=_0x142792,_0x3a99de=this[_0x51e385(0x184)](),_0x5604f2=[matrixUtility_1['MatrixUtility'][_0x51e385(0x1b2)](_0x3e0596[0x0],_0x3a99de),matrixUtility_1[_0x51e385(0x1e2)]['cartographicToMatrix'](_0x3e0596[0x1],_0x3a99de)],_0x1f4249={'minX':Math[_0x51e385(0x1df)](_0x5604f2[0x0][0x0],_0x5604f2[0x1][0x0]),'maxX':Math[_0x51e385(0x1e5)](_0x5604f2[0x0][0x0],_0x5604f2[0x1][0x0]),'minY':Math[_0x51e385(0x1df)](_0x5604f2[0x0][0x1],_0x5604f2[0x1][0x1]),'maxY':Math['max'](_0x5604f2[0x0][0x1],_0x5604f2[0x1][0x1])};return this[_0x51e385(0x1e0)](_0x1f4249,_0x3a99de);},this[_0x142792(0x1e0)]=(_0x58b201,_0x3f2a60)=>{const _0xbd147f=_0x142792;return{'minX':Math['max'](_0x58b201[_0xbd147f(0x175)]-marginMatrix,0x0),'maxX':Math['min'](_0x58b201['maxX']+marginMatrix,_0x3f2a60[_0xbd147f(0x1eb)]['x']),'minY':Math[_0xbd147f(0x1e5)](_0x58b201[_0xbd147f(0x1c9)]-marginMatrix,0x0),'maxY':Math[_0xbd147f(0x1df)](_0x58b201[_0xbd147f(0x1e4)]+marginMatrix,_0x3f2a60[_0xbd147f(0x1eb)]['y'])};},this[_0x142792(0x1b7)]=(_0x4f28fa,_0x2c2876,_0x476d50)=>{const _0x19265f=_0x142792,_0xceaf5c=matrixManager_1['MatrixManager'][_0x19265f(0x18e)](_0x4f28fa[_0x19265f(0x170)],_0x2c2876,_0x476d50);return matrixManager_1[_0x19265f(0x1d0)][_0x19265f(0x198)](_0xceaf5c);},this[_0x142792(0x19b)]=(_0x5912fc,_0xc233db,_0x1b8a65)=>{const _0x3fdce=_0x142792,_0x26f1b3=matrixManager_1[_0x3fdce(0x1d0)][_0x3fdce(0x1d2)](_0x5912fc,_0xc233db,_0x1b8a65);return matrixManager_1[_0x3fdce(0x1d0)]['generatePfGrid_3D'](_0x26f1b3);},this[_0x142792(0x1a5)]=_0x39b691=>{const _0x3d401d=_0x142792;return _0x39b691===undefined&&(_0x39b691=heightRange[_0x3d401d(0x1df)]+heightResolution),Math[_0x3d401d(0x1c7)](_0x39b691/heightResolution)*heightResolution;},this['cartographicToMatrix']=_0x283d72=>{const _0x2f7884=_0x142792,_0x44dfe8=this[_0x2f7884(0x184)](),_0x5619ee=this[_0x2f7884(0x16c)](_0x283d72[_0x2f7884(0x1ce)],_0x44dfe8);return _0x5619ee;},this[_0x142792(0x1b4)]=_0x47214d=>{const _0x424772=_0x142792,_0x25411f=[],_0x243f13=this['getSiteMetadata'](),_0x293194=this['getMatrix'](_0x47214d[_0x424772(0x19a)]);return Array[_0x424772(0x16e)](_0x47214d['points'])&&_0x47214d['points'][_0x424772(0x16d)]((_0x369dcf,_0x44ee56)=>{const _0x611070=_0x424772;_0x25411f[_0x611070(0x1cc)](this[_0x611070(0x17f)](_0x369dcf,_0x243f13,_0x293194));}),_0x25411f;},this['cartographicToMatrixFunction']=(_0x5ccabe,_0x26b826)=>{const _0x545a89=_0x142792;let _0xd80f6b;if(geoUtility_1[_0x545a89(0x1d5)][_0x545a89(0x17d)](_0x5ccabe)&&_0x26b826){const _0x127a9f=_0x26b826['northWest'],_0x18c604=_0x26b826[_0x545a89(0x193)];_0x5ccabe&&Array[_0x545a89(0x16e)](_0x127a9f)&&_0x127a9f['length']===0x2&&Array[_0x545a89(0x16e)](_0x18c604)&&_0x18c604[_0x545a89(0x1bb)]===0x2&&Array[_0x545a89(0x16e)](_0x5ccabe)&&_0x5ccabe[_0x545a89(0x1bb)]===0x2&&(_0xd80f6b=[Math[_0x545a89(0x1ca)]((_0x5ccabe[0x0]-_0x127a9f[0x0])/_0x18c604[0x0]),Math[_0x545a89(0x1ca)]((_0x127a9f[0x1]-_0x5ccabe[0x1])/_0x18c604[0x1])]);}return _0xd80f6b;},this[_0x142792(0x17f)]=(_0x5c4a79,_0x467e7c,_0xd60480)=>{const _0x2d7541=_0x142792;let _0x3ccf8f;if(geoUtility_1['GeoUtility'][_0x2d7541(0x17d)](_0x5c4a79)&&_0x467e7c){const _0x19a685=_0x467e7c[_0x2d7541(0x1cb)],_0x3fb49d=_0x467e7c['cellSize'];_0x5c4a79&&Array[_0x2d7541(0x16e)](_0x19a685)&&_0x19a685[_0x2d7541(0x1bb)]===0x2&&Array[_0x2d7541(0x16e)](_0x3fb49d)&&_0x3fb49d['length']===0x2&&Array[_0x2d7541(0x16e)](_0x5c4a79)&&_0x5c4a79[_0x2d7541(0x1bb)]>0x1&&(_0x3ccf8f=[Math['trunc']((_0x5c4a79[0x0]-_0x19a685[0x0])/_0x3fb49d[0x0]),Math[_0x2d7541(0x1ca)]((_0x19a685[0x1]-_0x5c4a79[0x1])/_0x3fb49d[0x1])],_0xd60480[_0x3ccf8f[0x1]]&&_0xd60480[_0x3ccf8f[0x1]][_0x3ccf8f[0x0]]!==undefined&&(_0x3ccf8f[0x2]=_0xd60480[_0x3ccf8f[0x1]][_0x3ccf8f[0x0]]));}return _0x3ccf8f;},this[_0x142792(0x191)]=(_0x7f3963,_0x2777e8)=>{const _0x4c985f=_0x142792;_0x7f3963[_0x4c985f(0x1bc)]===undefined&&(_0x7f3963[_0x4c985f(0x1bc)]=heightRange[_0x4c985f(0x1df)]+heightResolution);const _0xe99970=this['getSite'](_0x7f3963[_0x4c985f(0x19a)]);let _0xc9d2f0=![];if(Array[_0x4c985f(0x16e)](_0x2777e8)&&_0x2777e8[_0x4c985f(0x1bb)]===0x2){const _0x5b4665=_0xe99970['matrixNFZ_MAP'][_0x2777e8[0x1]]||{},_0x2d123c=_0x5b4665[_0x2777e8[0x0]];_0xc9d2f0=_0x2d123c===undefined||_0x2d123c<_0x7f3963[_0x4c985f(0x1bc)]?!![]:![];}return _0xc9d2f0;},this[_0x142792(0x171)]=_0x2b8e5a=>{const _0x1f5583=_0x142792;this['siteData']={},console[_0x1f5583(0x180)](new Date()[_0x1f5583(0x197)](),'site\x20allowedId:\x20'+Object[_0x1f5583(0x1cf)](_0x2b8e5a));for(const _0x466d2d in _0x2b8e5a){_0x2b8e5a[_0x1f5583(0x1bf)](_0x466d2d)&&_0x2b8e5a[_0x466d2d][_0x1f5583(0x170)]&&(this['siteData'][_0x466d2d]=Object[_0x1f5583(0x1e7)](Object['assign']({},_0x2b8e5a[_0x466d2d]),{'externalMatrixHeightMAP':{},'grid':{}}));}const _0x4d0be5={'success':!![]};return _0x4d0be5;},this[_0x142792(0x1d4)]=(_0x2068f3,_0x5c0e34)=>{const _0x4dad6c=_0x142792;let _0x305634;const _0x12af1c=this[_0x4dad6c(0x184)](),_0xceae45=_0x12af1c['cellSize'],_0x227697=[_0x12af1c[_0x4dad6c(0x1cb)][0x0]+_0xceae45[0x0]/0x2,_0x12af1c[_0x4dad6c(0x1cb)][0x1]-_0xceae45[0x1]/0x2];return _0x305634=[_0x227697[0x0]+_0x5c0e34[0x0]*_0xceae45[0x0],_0x227697[0x1]-_0x5c0e34[0x1]*_0xceae45[0x1]],_0x305634;},this[_0x142792(0x189)]=(_0xcbbc6f,_0x125b62,_0x342e42)=>{const _0x42593f=_0x142792,_0x41bdf2=[{'cell':[Math[_0x42593f(0x1ca)](_0xcbbc6f[0x0]),Math[_0x42593f(0x1ca)](_0xcbbc6f[0x1])],'isFree':![]},{'cell':[Math[_0x42593f(0x1ca)](Math[_0x42593f(0x1e5)](0x0,_0xcbbc6f[0x0]-0x1)),Math[_0x42593f(0x1ca)](_0xcbbc6f[0x1])],'isFree':![]}];return _0x41bdf2[0x0][_0x42593f(0x17a)]=matrixUtility_1[_0x42593f(0x1e2)][_0x42593f(0x1a9)](_0x41bdf2[0x0]['cell'],_0x125b62,_0x342e42),_0x41bdf2[0x1][_0x42593f(0x17a)]=matrixUtility_1[_0x42593f(0x1e2)][_0x42593f(0x1a9)](_0x41bdf2[0x1][_0x42593f(0x19f)],_0x125b62,_0x342e42),_0x41bdf2;},this[_0x142792(0x177)]=(_0x2755a6,_0x17dcae,_0x2860e5)=>{const _0x1a7514=_0x142792,_0x1940dc=[{'cell':[Math['trunc'](_0x2755a6[0x0]),Math['trunc'](_0x2755a6[0x1])],'isFree':![]},{'cell':[Math[_0x1a7514(0x1ca)](_0x2755a6[0x0]),Math['trunc'](Math[_0x1a7514(0x1e5)](0x0,_0x2755a6[0x1]-0x1))],'isFree':![]}];return _0x1940dc[0x0][_0x1a7514(0x17a)]=matrixUtility_1[_0x1a7514(0x1e2)][_0x1a7514(0x1a9)](_0x1940dc[0x0][_0x1a7514(0x19f)],_0x17dcae,_0x2860e5),_0x1940dc[0x1][_0x1a7514(0x17a)]=matrixUtility_1[_0x1a7514(0x1e2)]['checkCellNfz_3D'](_0x1940dc[0x1][_0x1a7514(0x19f)],_0x17dcae,_0x2860e5),_0x1940dc;},this[_0x142792(0x1a3)]=(_0x2f3066,_0x5d6d93,_0x5e3933)=>{const _0x5dceed=_0x142792;let _0x4a747d;const _0x55d934=_0x2f3066[0x0][0x0],_0x1de76e=_0x2f3066[0x0][0x1],_0x5117b8=_0x2f3066[0x1][0x0],_0x337829=_0x2f3066[0x1][0x1],_0x6f01b9=_0x5d6d93[0x0][0x0],_0x569244=_0x5d6d93[0x0][0x1],_0x507b37=_0x5d6d93[0x1][0x0],_0x34d8f5=_0x5d6d93[0x1][0x1],_0x278e96=(_0x55d934-_0x5117b8)*(_0x569244-_0x34d8f5)-(_0x1de76e-_0x337829)*(_0x6f01b9-_0x507b37),_0x4b8626=_0x55d934*_0x337829-_0x1de76e*_0x5117b8,_0x179340=_0x6f01b9*_0x34d8f5-_0x569244*_0x507b37,_0x26f013=_0x4b8626*(_0x6f01b9-_0x507b37)-(_0x55d934-_0x5117b8)*_0x179340,_0x4c7caa=_0x4b8626*(_0x569244-_0x34d8f5)-(_0x1de76e-_0x337829)*_0x179340;if(_0x278e96){const _0xbcafe4=_0x26f013/_0x278e96,_0x13bafe=_0x4c7caa/_0x278e96;Number[_0x5dceed(0x19c)](_0xbcafe4)&&Number['isFinite'](_0x13bafe)&&_0xbcafe4>0x0&&_0xbcafe4<_0x5e3933['x']&&_0x13bafe>0x0&&_0x13bafe<_0x5e3933['y']&&(_0x4a747d=[_0xbcafe4,_0x13bafe]);}return _0x4a747d;},this[_0x142792(0x1c1)]=(_0x28516e=all_typings_1[_0x142792(0x1ba)][_0x142792(0x174)])=>{const _0x42a791=_0x142792,_0x2d68f2=this['getSite'](_0x28516e);return _0x2d68f2[_0x42a791(0x1e6)]||{};},this['checkRoute_3D']=(_0x780cbf,_0x5c6fa0=all_typings_1[_0x142792(0x1ba)]['blank'])=>{const _0x3216ba=_0x142792;let _0x3f8d05=![];const _0x1d9a86=this[_0x3216ba(0x1e3)](_0x5c6fa0);return _0x3f8d05=matrixUtility_1['MatrixUtility'][_0x3216ba(0x1e8)](_0x780cbf,_0x1d9a86),_0x3f8d05;},this['setFullSiteData']=_0x5b221c=>{const _0x2ade2f=_0x142792,_0xcf19cd={'success':!![]};return this['setSites']({[all_typings_1[_0x2ade2f(0x1ba)][_0x2ade2f(0x174)]]:_0x5b221c[_0x2ade2f(0x17b)]}),nfzManager_1[_0x2ade2f(0x1ae)][_0x2ade2f(0x1c6)](_0x5b221c['cartographicData'][_0x2ade2f(0x190)]),nfzManager_1[_0x2ade2f(0x1ae)][_0x2ade2f(0x1c3)](_0x5b221c[_0x2ade2f(0x185)][_0x2ade2f(0x19e)]),nfzManager_1['NfzManager'][_0x2ade2f(0x196)](_0x5b221c[_0x2ade2f(0x185)][_0x2ade2f(0x1de)]),_0xcf19cd;},this[_0x142792(0x1e9)]();}}exports[a14_0x2ccb63(0x1a4)]=SiteManager,SiteManager[a14_0x2ccb63(0x181)]=new SiteManager(),SiteManager[a14_0x2ccb63(0x173)]=SiteManager[a14_0x2ccb63(0x181)][a14_0x2ccb63(0x173)],SiteManager[a14_0x2ccb63(0x171)]=SiteManager['instance'][a14_0x2ccb63(0x171)],SiteManager['getSite']=SiteManager[a14_0x2ccb63(0x181)][a14_0x2ccb63(0x1e3)],SiteManager[a14_0x2ccb63(0x1c5)]=SiteManager['instance'][a14_0x2ccb63(0x1c5)],SiteManager['getPartOfSiteWithGenerateGrid']=SiteManager['instance'][a14_0x2ccb63(0x1a0)],SiteManager['getPartOfSiteWithGenerateGrid_filtered']=SiteManager[a14_0x2ccb63(0x181)][a14_0x2ccb63(0x1a2)],SiteManager[a14_0x2ccb63(0x1b2)]=SiteManager['instance'][a14_0x2ccb63(0x1b2)],SiteManager[a14_0x2ccb63(0x191)]=SiteManager[a14_0x2ccb63(0x181)][a14_0x2ccb63(0x191)],SiteManager['matrixToCartographic']=SiteManager[a14_0x2ccb63(0x181)]['matrixToCartographic'],SiteManager['computeCrossPoint']=SiteManager[a14_0x2ccb63(0x181)][a14_0x2ccb63(0x1a3)],SiteManager[a14_0x2ccb63(0x189)]=SiteManager[a14_0x2ccb63(0x181)][a14_0x2ccb63(0x189)],SiteManager['checkTopBottomCells']=SiteManager[a14_0x2ccb63(0x181)][a14_0x2ccb63(0x177)],SiteManager[a14_0x2ccb63(0x1c1)]=SiteManager['instance'][a14_0x2ccb63(0x1c1)],SiteManager[a14_0x2ccb63(0x16c)]=SiteManager[a14_0x2ccb63(0x181)][a14_0x2ccb63(0x16c)],SiteManager[a14_0x2ccb63(0x1b4)]=SiteManager['instance'][a14_0x2ccb63(0x1b4)],SiteManager[a14_0x2ccb63(0x1ad)]=SiteManager[a14_0x2ccb63(0x181)][a14_0x2ccb63(0x1ad)],SiteManager[a14_0x2ccb63(0x1d7)]=SiteManager['instance'][a14_0x2ccb63(0x1d7)];