'use strict';function a33_0x391d(){const _0x5269d8=['the\x20points\x20path\x20is\x20not\x20Array','__esModule',',\x20location\x20','35ARdAvQ','comparePoints','lodash','fixPointsHeight_POINT3D','285112gvpSmL','catch\x20','can\x27t\x20slice\x20from\x20AV\x20|\x20full\x20','isGEOPOINT','./convertation','includes','3991476yCorFp','stringify','defineProperty','get','9169554hgjElM','length','altitude','geometry.coordinates','filterRoute2D','success','isPOINTsArray','longitude','can\x27t\x20slice\x20last\x20point\x20|\x20full\x20','validateAndFixPolygon','comparePoints2D','GeoUtility','coordinates','data','Convertation','\x20|\x20full\x20','GeoPoint_to_POINT3D','geometry','18mTXzbe','forEach','14IDVKnd','lineSlice','latitude','incorrect\x20length\x20|\x20full\x20','nearestPointOnLine','reverse','turfPolylineGetLength','GeoCalc','isCartographicPOINTsArray','map','isCartographicPOINT',',\x20static\x20','isPOINT','5608390rIjDKF','isFinite','splice','2645882mYdrso','properties.location','1wNJFrJ','2217144nczJnH','push','The\x20points\x20array\x20has\x20two\x20(or\x20more)\x20points\x20without\x20altitude,\x20points\x20','2502907BiipTf','description','./geoCalc','validatePolygon','isArray','instance','log'];a33_0x391d=function(){return _0x5269d8;};return a33_0x391d();}const a33_0x4501e0=a33_0x21e8;(function(_0x1dd34,_0x17b381){const _0x2dbfcb=a33_0x21e8,_0x2136ed=_0x1dd34();while(!![]){try{const _0x19e8e6=parseInt(_0x2dbfcb(0xd1))/0x1*(-parseInt(_0x2dbfcb(0xcf))/0x2)+-parseInt(_0x2dbfcb(0xe9))/0x3+-parseInt(_0x2dbfcb(0xe3))/0x4*(-parseInt(_0x2dbfcb(0xdf))/0x5)+parseInt(_0x2dbfcb(0xed))/0x6+-parseInt(_0x2dbfcb(0x101))/0x7*(-parseInt(_0x2dbfcb(0xd2))/0x8)+-parseInt(_0x2dbfcb(0xff))/0x9*(-parseInt(_0x2dbfcb(0xcc))/0xa)+-parseInt(_0x2dbfcb(0xd5))/0xb;if(_0x19e8e6===_0x17b381)break;else _0x2136ed['push'](_0x2136ed['shift']());}catch(_0x22ede7){_0x2136ed['push'](_0x2136ed['shift']());}}}(a33_0x391d,0xc8bb7));Object[a33_0x4501e0(0xeb)](exports,a33_0x4501e0(0xdd),{'value':!![]}),exports[a33_0x4501e0(0xf8)]=void 0x0;const _=require(a33_0x4501e0(0xe1)),geoCalc_1=require(a33_0x4501e0(0xd7)),convertation_1=require(a33_0x4501e0(0xe7));class GeoUtility{constructor(){}}function a33_0x21e8(_0x2831d9,_0x11dff4){const _0x391dd7=a33_0x391d();return a33_0x21e8=function(_0x21e825,_0x291684){_0x21e825=_0x21e825-0xc5;let _0x582191=_0x391dd7[_0x21e825];return _0x582191;},a33_0x21e8(_0x2831d9,_0x11dff4);}exports[a33_0x4501e0(0xf8)]=GeoUtility,GeoUtility[a33_0x4501e0(0xda)]=new GeoUtility(),GeoUtility[a33_0x4501e0(0xf1)]=_0x2d11f0=>{const _0x5a43d0=a33_0x4501e0,_0x35b6f8=_['cloneDeep'](_0x2d11f0);if(GeoUtility[_0x5a43d0(0xc7)](_0x35b6f8))for(let _0x15f962=0x0;_0x15f962<_0x35b6f8[_0x5a43d0(0xee)]-0x1;_0x15f962++){const _0xcaa66b=_0x35b6f8[_0x15f962],_0x364b79=_0x35b6f8[_0x15f962+0x1];GeoUtility[_0x5a43d0(0xf7)](_0xcaa66b,_0x364b79)&&(_0x35b6f8[_0x5a43d0(0xce)](_0x15f962+0x1,0x1),_0x15f962--);}return _0x35b6f8;},GeoUtility['comparePoints2D']=(_0x4f3d70,_0x20021e)=>{const _0x520814=a33_0x4501e0;let _0x27852a=!![];if(GeoUtility[_0x520814(0xc7)]([_0x4f3d70,_0x20021e]))for(let _0x5537be=0x0;_0x5537be<0x2;_0x5537be++){_0x4f3d70[_0x5537be]!==_0x20021e[_0x5537be]&&(_0x27852a=![]);}else _0x27852a=![];return _0x27852a;},GeoUtility['validatePolygonPOINTsArr']=_0x135126=>{const _0x5dd943=a33_0x4501e0;let _0x168345=!![];return GeoUtility[_0x5dd943(0xc7)](_0x135126)&&_0x135126[_0x5dd943(0xee)]>0x2?_0x135126[_0x5dd943(0xc8)](_0x2f4b18=>{const _0x38bbdc=_0x5dd943;_0x168345=_0x168345&&(Array[_0x38bbdc(0xd9)](_0x2f4b18)&&_0x2f4b18[_0x38bbdc(0xee)]>=0x2);}):_0x168345=![],_0x168345;},GeoUtility['validateGeoPolygon']=_0x152351=>{const _0x4f3ecc=a33_0x4501e0;let _0x202867=!![];const _0x45dad9=_['get'](_0x152351,'geometry.coordinates',[[]]);return _0x45dad9[_0x4f3ecc(0x100)](_0x50c4da=>{const _0x56fc6b=_0x4f3ecc;GeoUtility[_0x56fc6b(0xc7)](_0x50c4da)&&_0x50c4da['length']>0x2?!geoCalc_1['GeoCalc'][_0x56fc6b(0xe0)](_0x50c4da[0x0],_0x50c4da[_0x50c4da[_0x56fc6b(0xee)]-0x1])&&(_0x202867=![]):_0x202867=![];}),_0x202867;},GeoUtility[a33_0x4501e0(0xd8)]=_0x5eed3b=>{const _0x1f901d=a33_0x4501e0;let _0x34c417=!![];return GeoUtility[_0x1f901d(0xc7)](_0x5eed3b)&&_0x5eed3b[_0x1f901d(0xee)]>0x3?!geoCalc_1[_0x1f901d(0xc6)][_0x1f901d(0xe0)](_0x5eed3b[0x0],_0x5eed3b[_0x5eed3b[_0x1f901d(0xee)]-0x1])&&(_0x34c417=![]):_0x34c417=![],_0x34c417;},GeoUtility[a33_0x4501e0(0xf6)]=_0x1687b8=>{const _0xfe8c84=a33_0x4501e0;let _0x42ead2=!![];return GeoUtility[_0xfe8c84(0xc7)](_0x1687b8)&&_0x1687b8[_0xfe8c84(0xee)]>=0x3?!geoCalc_1[_0xfe8c84(0xc6)][_0xfe8c84(0xe0)](_0x1687b8[0x0],_0x1687b8[_0x1687b8[_0xfe8c84(0xee)]-0x1])&&_0x1687b8[_0xfe8c84(0xd3)](_0x1687b8[0x0]):_0x42ead2=![],_0x42ead2;},GeoUtility[a33_0x4501e0(0xf3)]=_0x2a2019=>{const _0x548fb5=a33_0x4501e0,_0x4340ec=[];if(Array[_0x548fb5(0xd9)](_0x2a2019)&&_0x2a2019['length']>0x0)for(let _0x1d6fee=0x0;_0x1d6fee<_0x2a2019[_0x548fb5(0xee)]&&_0x4340ec;_0x1d6fee++){_0x4340ec[_0x548fb5(0xd3)](GeoUtility['isPOINT'](_0x2a2019[_0x1d6fee]));}else _0x4340ec[_0x548fb5(0xd3)](![]);return!_0x4340ec[_0x548fb5(0xe8)](![]);},GeoUtility['isCartographicPOINTsArray']=_0x101496=>{const _0x33800c=a33_0x4501e0,_0x437036=[];if(Array[_0x33800c(0xd9)](_0x101496)&&_0x101496['length']>0x0)for(let _0x318574=0x0;_0x318574<_0x101496['length']&&_0x437036;_0x318574++){_0x437036[_0x33800c(0xd3)](GeoUtility[_0x33800c(0xc9)](_0x101496[_0x318574]));}else _0x437036['push'](![]);return!_0x437036[_0x33800c(0xe8)](![]);},GeoUtility[a33_0x4501e0(0xc9)]=_0x99532a=>{const _0x463a22=a33_0x4501e0;let _0x54ce4a=![];return Array[_0x463a22(0xd9)](_0x99532a)&&_0x99532a[_0x463a22(0xee)]>0x1&&Number[_0x463a22(0xcd)](_0x99532a[0x0])&&Number[_0x463a22(0xcd)](_0x99532a[0x1])&&(_0x99532a[0x0]!==undefined&&_0x99532a[0x0]<=0xb4&&_0x99532a[0x0]>=-0xb4&&(_0x99532a[0x1]!==undefined&&_0x99532a[0x1]<=0x5a&&_0x99532a[0x1]>=-0x5a)&&(_0x54ce4a=!![])),_0x54ce4a;},GeoUtility[a33_0x4501e0(0xe6)]=_0x3ae42c=>{const _0x305ba8=a33_0x4501e0;let _0x4670af=![];return _0x3ae42c&&_0x3ae42c[_0x305ba8(0xf4)]&&Number['isFinite'](_0x3ae42c[_0x305ba8(0xf4)])&&Number[_0x305ba8(0xcd)](_0x3ae42c[_0x305ba8(0x103)])&&(_0x3ae42c[_0x305ba8(0xf4)]!==undefined&&_0x3ae42c['longitude']<=0xb4&&_0x3ae42c[_0x305ba8(0xf4)]>=-0xb4&&(_0x3ae42c[_0x305ba8(0x103)]!==undefined&&_0x3ae42c['latitude']<=0x5a&&_0x3ae42c[_0x305ba8(0x103)]>=-0x5a)&&(_0x4670af=!![])),_0x4670af;},GeoUtility[a33_0x4501e0(0xcb)]=_0x1012a1=>{const _0x1f79bc=a33_0x4501e0;let _0x1edb14=![];return Array[_0x1f79bc(0xd9)](_0x1012a1)&&_0x1012a1['length']>0x1&&Number[_0x1f79bc(0xcd)](_0x1012a1[0x0])&&Number[_0x1f79bc(0xcd)](_0x1012a1[0x1])&&(_0x1edb14=!![]),_0x1edb14;},GeoUtility['checkIfGeoPointValid']=_0x23b964=>{const _0x337c0d=a33_0x4501e0;let _0x14336b=![];const _0x44903b=_[_0x337c0d(0xec)](_0x23b964,_0x337c0d(0xf0),![]);return _0x44903b&&(_0x14336b=GeoUtility[_0x337c0d(0xc9)](_0x44903b)),_0x14336b;},GeoUtility['cutStaticPartFromLocation']=(_0x2505f2,_0xd18687,_0x1a61a1,_0x528feb)=>{const _0x35d8ce=a33_0x4501e0;let _0x57930c={'success':![],'data':[]};try{if(_0x2505f2&&_0xd18687&&_0x1a61a1&&_0x2505f2[_0x35d8ce(0xee)]>=0x2&&_0xd18687[_0x35d8ce(0xee)]>0x0){const _0x52c87b=geoCalc_1[_0x35d8ce(0xc6)][_0x35d8ce(0x105)](_0x2505f2,_0x1a61a1),_0x10cc74=_['get'](_0x52c87b,_0x35d8ce(0xd0),0x0)*0x3e8,_0x1562ff=geoCalc_1[_0x35d8ce(0xc6)][_0x35d8ce(0x102)](_0x2505f2,_0x2505f2[0x0],_0xd18687[0x0]);if(_0x1562ff){const _0x343dc2=geoCalc_1['GeoCalc'][_0x35d8ce(0xc5)](_0x1562ff[_0x35d8ce(0xfe)][_0x35d8ce(0xf9)]),_0x1f93f4=geoCalc_1['GeoCalc']['lineSlice'](_0x2505f2,_0x2505f2[0x0],_0xd18687[_0xd18687[_0x35d8ce(0xee)]-0x1]);if(_0x1f93f4){const _0x3c80fe=geoCalc_1[_0x35d8ce(0xc6)][_0x35d8ce(0xc5)](_0x1f93f4['geometry']['coordinates']);if(_0x10cc74<=_0x343dc2)_0x57930c[_0x35d8ce(0xf2)]=!![],_0x57930c[_0x35d8ce(0xfa)]=_0x528feb?[]:_0xd18687;else{if(_0x10cc74>_0x343dc2&&_0x10cc74<_0x3c80fe){let _0x1f5cd7;_0x528feb?_0x1f5cd7=geoCalc_1[_0x35d8ce(0xc6)]['lineSlice'](_0xd18687,_0xd18687[0x0],convertation_1[_0x35d8ce(0xfb)][_0x35d8ce(0xfd)](_0x52c87b)):_0x1f5cd7=geoCalc_1[_0x35d8ce(0xc6)]['lineSlice'](_0xd18687,convertation_1['Convertation']['GeoPoint_to_POINT3D'](_0x52c87b),_0xd18687[_0xd18687[_0x35d8ce(0xee)]-0x1]);if(_0x1f5cd7){_0x57930c[_0x35d8ce(0xf2)]=!![];let _0x4fce7a=_['get'](_0x1f5cd7,_0x35d8ce(0xf0),[]);_0x4fce7a[_0x35d8ce(0xee)]>=0x2?(_0x4fce7a=_0x4fce7a[_0x35d8ce(0xc8)](_0x493060=>[_0x493060[0x0],_0x493060[0x1],isNaN(_0x493060[0x2])?_0x1a61a1[0x2]:_0x493060[0x2]]),_0x4fce7a=_0x528feb?_0x4fce7a['reverse']():_0x4fce7a):_0x4fce7a=[],_0x57930c[_0x35d8ce(0xfa)]=_0x4fce7a;}else _0x57930c[_0x35d8ce(0xd6)]=_0x35d8ce(0xe5)+_0x2505f2+_0x35d8ce(0xca)+_0xd18687+_0x35d8ce(0xde)+_0x1a61a1;}else _0x57930c[_0x35d8ce(0xf2)]=!![],_0x57930c[_0x35d8ce(0xfa)]=_0x528feb?[..._0xd18687][_0x35d8ce(0x106)]():[];}}else _0x57930c[_0x35d8ce(0xd6)]=_0x35d8ce(0xf5)+_0x2505f2+_0x35d8ce(0xca)+_0xd18687+',\x20location\x20'+_0x1a61a1;}else _0x57930c[_0x35d8ce(0xd6)]='can\x27t\x20slice\x20first\x20point\x20|\x20full\x20'+_0x2505f2+_0x35d8ce(0xca)+_0xd18687+_0x35d8ce(0xde)+_0x1a61a1;}else _0x57930c['description']=_0x35d8ce(0x104)+_0x2505f2+_0x35d8ce(0xca)+_0xd18687+_0x35d8ce(0xde)+_0x1a61a1;}catch(_0x52bc6e){_0x57930c[_0x35d8ce(0xd6)]=_0x35d8ce(0xe4)+JSON[_0x35d8ce(0xea)](_0x52bc6e)+_0x35d8ce(0xfc)+_0x2505f2+',\x20static\x20'+_0xd18687+_0x35d8ce(0xde)+_0x1a61a1,console[_0x35d8ce(0xdb)](_0x52bc6e);}return _0x57930c;},GeoUtility[a33_0x4501e0(0xe2)]=_0x5c60d0=>{const _0x2621d8=a33_0x4501e0,_0x33a73b={'success':!![],'data':_0x5c60d0};if(Array[_0x2621d8(0xd9)](_0x5c60d0)&&_0x5c60d0[_0x2621d8(0xee)]>0x0){const _0x37796e=[];_0x5c60d0[_0x2621d8(0x100)]((_0x405c43,_0x598aea)=>{const _0x53fbfe=_0x2621d8;if(!Number['isFinite'](_0x405c43[0x2])){let _0x3513ce;_0x5c60d0[_0x598aea-0x1]&&Number[_0x53fbfe(0xcd)](_0x5c60d0[_0x598aea-0x1][0x2])&&(_0x3513ce=_0x5c60d0[_0x598aea-0x1][0x2]),_0x5c60d0[_0x598aea+0x1]&&Number[_0x53fbfe(0xcd)](_0x5c60d0[_0x598aea+0x1][0x2])&&(_0x3513ce=(_0x3513ce||0x0)+_0x5c60d0[_0x598aea+0x1][0x2]),Number[_0x53fbfe(0xcd)](_0x3513ce)?(_0x405c43[0x2]=_0x3513ce/0x2,_0x33a73b[_0x53fbfe(0xf2)]=!![]):_0x37796e['push']({'point':_0x405c43,'index':_0x598aea});}}),_0x37796e[_0x2621d8(0xee)]>0x0&&(_0x33a73b['success']=![],_0x33a73b[_0x2621d8(0xd6)]=_0x2621d8(0xd4)+_0x37796e);}else _0x33a73b['success']=![],_0x33a73b[_0x2621d8(0xd6)]=_0x2621d8(0xdc);return _0x33a73b;},GeoUtility['fixPointsHeight_ROUTE_POINT_DATA_DRONESERVICE']=_0xafc215=>{const _0x37b78d=a33_0x4501e0,_0x3f1e10={'success':!![],'data':_0xafc215};if(Array[_0x37b78d(0xd9)](_0xafc215)&&_0xafc215[_0x37b78d(0xee)]>0x0){const _0x5331d4=[];_0xafc215[_0x37b78d(0x100)]((_0x140612,_0x3501a6)=>{const _0x1955cd=_0x37b78d;if(!Number[_0x1955cd(0xcd)](_0x140612[_0x1955cd(0xef)])){let _0x17bf07,_0x5292c3=0x0;_0xafc215[_0x3501a6-0x1]&&Number[_0x1955cd(0xcd)](_0xafc215[_0x3501a6-0x1][_0x1955cd(0xef)])&&(_0x17bf07=_0xafc215[_0x3501a6-0x1][_0x1955cd(0xef)],_0x5292c3++),_0xafc215[_0x3501a6+0x1]&&Number['isFinite'](_0xafc215[_0x3501a6+0x1][_0x1955cd(0xef)])&&(_0x17bf07=(_0x17bf07||0x0)+_0xafc215[_0x3501a6+0x1][_0x1955cd(0xef)],_0x5292c3++),Number[_0x1955cd(0xcd)](_0x17bf07)&&_0x5292c3>0x0?(_0x140612['altitude']=_0x17bf07/_0x5292c3,_0x3f1e10[_0x1955cd(0xf2)]=!![]):_0x5331d4[_0x1955cd(0xd3)]({'point':_0x140612,'index':_0x3501a6});}}),_0x5331d4[_0x37b78d(0xee)]>0x0&&(_0x3f1e10[_0x37b78d(0xf2)]=![],_0x3f1e10[_0x37b78d(0xd6)]=_0x37b78d(0xd4)+JSON[_0x37b78d(0xea)](_0x5331d4));}else _0x3f1e10[_0x37b78d(0xf2)]=![],_0x3f1e10[_0x37b78d(0xd6)]=_0x37b78d(0xdc);return _0x3f1e10;};