'use strict';const a3_0x23ae7d=a3_0x457a;(function(_0x37da47,_0x4c8406){const _0x1fe2be=a3_0x457a,_0x19ff74=_0x37da47();while(!![]){try{const _0x12ccc6=-parseInt(_0x1fe2be(0x1a9))/0x1*(parseInt(_0x1fe2be(0x1aa))/0x2)+-parseInt(_0x1fe2be(0x16a))/0x3+parseInt(_0x1fe2be(0x190))/0x4+parseInt(_0x1fe2be(0x17a))/0x5*(-parseInt(_0x1fe2be(0x192))/0x6)+-parseInt(_0x1fe2be(0x174))/0x7+-parseInt(_0x1fe2be(0x172))/0x8*(-parseInt(_0x1fe2be(0x170))/0x9)+parseInt(_0x1fe2be(0x1a2))/0xa;if(_0x12ccc6===_0x4c8406)break;else _0x19ff74['push'](_0x19ff74['shift']());}catch(_0x4a0f94){_0x19ff74['push'](_0x19ff74['shift']());}}}(a3_0x5494,0x841c4));function a3_0x457a(_0x1a72f9,_0x1da4d3){const _0x54947d=a3_0x5494();return a3_0x457a=function(_0x457a23,_0x32740e){_0x457a23=_0x457a23-0x167;let _0x4bde89=_0x54947d[_0x457a23];return _0x4bde89;},a3_0x457a(_0x1a72f9,_0x1da4d3);}function a3_0x5494(){const _0x57c771=['ext','append','defineProperty','20472380XqnaEA','instance','HOME','CAS','split','getHours','getFuncName','349886AgnyMl','2PIqRds','zip','isExist','object','scheduler','match','removing','readdir','doItNow','join','--LoggerEndMessage-------------------------------------------------------------','env','getListFilesFromListXDaysAgo','info','Logger','scheduler\x20\x20began\x20to\x20zip\x20and\x20clear\x20old\x20zip','generalFunctLoggerHex','forEach','writeFileSync','LEVEL','platform','2397672FDUPxB','0\x20\x20','abs','.zip','zippedLogs','zipFileByDateAndRemoveSrc','30204CGNfum','__esModule','632piVEOF','floor','3793461qhmnar','node-schedule','win32','getFileName','createWriteStream','setDate','5ATLjUM','log','type','keys','getTime','appendData','getListMyNotZippedFilesInFolder','removed','archiver','--LoggerBeginMessage-----------------------------------------------------------','getTimezoneOffset','getMinutes','unlinkSync','stringify','appendFile','remove','scheduleJob','message','error','getFormattedDateTime','length','prefix','3670144qNgWWL','includes','5986446LljlrY',']\x20[','hasOwnProperty','pipe','getMonth','finalize','fileName','getFullYear','createReadStream','getDate','\x20\x20*\x20\x20*\x20\x20*','existsSync','mkdirSync'];a3_0x5494=function(){return _0x57c771;};return a3_0x5494();}Object[a3_0x23ae7d(0x1a1)](exports,a3_0x23ae7d(0x171),{'value':!![]}),exports[a3_0x23ae7d(0x1b8)]=void 0x0;const archiver=require(a3_0x23ae7d(0x182)),schedule=require(a3_0x23ae7d(0x175)),fs=require('fs'),all_typings_1=require('../../../../classes/typings/all.typings'),suf=a3_0x23ae7d(0x1a5),path=require('path'),foldersForLogs='current_logs',foldersForZippedLogs=a3_0x23ae7d(0x16e),absPathfindersForLogs=path[a3_0x23ae7d(0x1b3)](process['env'][process[a3_0x23ae7d(0x169)]===a3_0x23ae7d(0x176)?'USERPROFILE':a3_0x23ae7d(0x1a4)],foldersForLogs+'/'),absPathfindersForZips=path['join'](process[a3_0x23ae7d(0x1b5)][process[a3_0x23ae7d(0x169)]===a3_0x23ae7d(0x176)?'USERPROFILE':a3_0x23ae7d(0x1a4)],foldersForZippedLogs+'/'),isPrintLogs=!![];!fs['existsSync'](absPathfindersForLogs)&&fs[a3_0x23ae7d(0x19e)](absPathfindersForLogs);!fs['existsSync'](absPathfindersForZips)&&fs['mkdirSync'](absPathfindersForZips);class Logger{constructor(){const _0x3788bb=a3_0x23ae7d;this[_0x3788bb(0x18d)]=()=>{const _0x53c208=_0x3788bb,_0x2027e3=new Date(),_0x2af5e3=-_0x2027e3[_0x53c208(0x184)](),_0x345d62=_0x2af5e3>=0x0?'+':'-',_0x392ccc=function(_0x1a4f22){const _0x4aad4e=_0x53c208,_0x75768b=Math[_0x4aad4e(0x173)](Math['abs'](_0x1a4f22));return(_0x75768b<0xa?'0':'')+_0x75768b;};return _0x2027e3[_0x53c208(0x199)]()+'-'+_0x392ccc(_0x2027e3[_0x53c208(0x196)]()+0x1)+'-'+_0x392ccc(_0x2027e3[_0x53c208(0x19b)]())+'T'+_0x392ccc(_0x2027e3[_0x53c208(0x1a7)]())+':'+_0x392ccc(_0x2027e3[_0x53c208(0x185)]())+':'+_0x392ccc(_0x2027e3['getSeconds']())+_0x345d62+_0x392ccc(_0x2af5e3/0x3c)+':'+_0x392ccc(_0x2af5e3%0x3c);},this[_0x3788bb(0x177)]=(_0x31fceb=new Date())=>{const _0x16281f=_0x3788bb,_0x5982f0=_0x31fceb[_0x16281f(0x199)]()+'-'+(_0x31fceb[_0x16281f(0x196)]()+0x1<0xa?'0'+(_0x31fceb[_0x16281f(0x196)]()+0x1):_0x31fceb['getMonth']()+0x1)+'-'+(_0x31fceb[_0x16281f(0x19b)]()<0xa?'0'+_0x31fceb[_0x16281f(0x19b)]():_0x31fceb[_0x16281f(0x19b)]()),_0x433d26=absPathfindersForLogs+_0x5982f0+'_'+suf+'.log';return!fs[_0x16281f(0x19d)](_0x433d26)&&fs[_0x16281f(0x167)](_0x433d26,''),_0x433d26;},this['init']=_0x19cbdc=>{Logger[_0x19cbdc]=_0x19cbdc;},this[_0x3788bb(0x1ba)]=(_0x24fcd2,_0x115539,_0x1aad19)=>{const _0x3741b4=_0x3788bb,_0x2054a7=this[_0x3741b4(0x177)]();(!this[_0x3741b4(0x194)](_0x24fcd2)||!this[_0x3741b4(0x1ac)](_0x2054a7))&&this['init'](_0x24fcd2);if(_0x115539){let _0x30335e=undefined;if(typeof _0x115539===_0x3741b4(0x1ad))try{_0x30335e=JSON[_0x3741b4(0x187)](_0x115539);}catch(_0x205d7f){_0x30335e=undefined;}else _0x30335e=_0x115539;switch(_0x1aad19){case all_typings_1[_0x3741b4(0x168)][_0x3741b4(0x18c)]:{this[_0x3741b4(0x17f)](_0x2054a7,'['+this[_0x3741b4(0x18d)]()+_0x3741b4(0x193)+all_typings_1[_0x3741b4(0x168)]['error']+_0x3741b4(0x193)+_0x24fcd2+']\x20'+_0x30335e);break;}case all_typings_1[_0x3741b4(0x168)][_0x3741b4(0x1b7)]:{this[_0x3741b4(0x17f)](_0x2054a7,'['+this[_0x3741b4(0x18d)]()+_0x3741b4(0x193)+all_typings_1['LEVEL']['info']+_0x3741b4(0x193)+_0x24fcd2+']\x20'+_0x30335e);break;}default:{this[_0x3741b4(0x17f)](_0x2054a7,'['+this['getFormattedDateTime']()+_0x3741b4(0x193)+all_typings_1[_0x3741b4(0x168)][_0x3741b4(0x1b7)]+']\x20['+_0x24fcd2+']\x20'+_0x30335e);break;}}if(isPrintLogs){if(typeof _0x115539===_0x3741b4(0x1ad))try{_0x115539=JSON[_0x3741b4(0x187)](_0x115539,undefined,0x2);}catch(_0x1636ab){_0x115539=undefined;}if(_0x115539)switch(_0x1aad19){case all_typings_1[_0x3741b4(0x168)][_0x3741b4(0x18c)]:{console[_0x3741b4(0x18c)](_0x3741b4(0x183)),console[_0x3741b4(0x18c)](new Date()),console[_0x3741b4(0x18c)](_0x24fcd2),console[_0x3741b4(0x18c)](_0x115539),console[_0x3741b4(0x18c)]('--LoggerEndMessage-------------------------------------------------------------');break;}case all_typings_1['LEVEL'][_0x3741b4(0x1b7)]:{console['log'](_0x3741b4(0x183)),console[_0x3741b4(0x17b)](new Date()),console[_0x3741b4(0x18c)](_0x24fcd2),console[_0x3741b4(0x17b)](_0x115539),console['log'](_0x3741b4(0x1b4));break;}default:{console['log'](_0x3741b4(0x183)),console[_0x3741b4(0x17b)](new Date()),console[_0x3741b4(0x17b)](_0x115539),console[_0x3741b4(0x18c)](_0x24fcd2),console[_0x3741b4(0x17b)](_0x3741b4(0x1b4));break;}}}}},this[_0x3788bb(0x1ac)]=_0x3035a8=>{const _0x5f5451=_0x3788bb,_0x44781b=fs[_0x5f5451(0x19d)](_0x3035a8);return _0x44781b;},this['getDateXDaysAgo']=(_0x3ae1b2,_0x39fe48=new Date())=>{const _0x34d968=_0x3788bb,_0x3a75c2=new Date(_0x39fe48[_0x34d968(0x17e)]());return _0x3a75c2[_0x34d968(0x179)](_0x39fe48['getDate']()-_0x3ae1b2),_0x3a75c2;},this[_0x3788bb(0x180)]=(_0x54ad48,_0x48038b)=>{const _0xe1dfdd=_0x3788bb,_0x58debc={};fs[_0xe1dfdd(0x1b1)](_0x54ad48,(_0x227ff6,_0x415877)=>{const _0xaba172=_0xe1dfdd;if(_0x227ff6!==undefined)_0x415877[_0xaba172(0x1bb)](_0xffacc1=>{const _0x240e41=_0xaba172;if(_0xffacc1[_0x240e41(0x191)](suf)){const _0x211f01=_0xffacc1[_0x240e41(0x1af)](/\d\d\d\d-\d\d-\d\d/);if(_0x211f01&&_0x211f01[_0x240e41(0x18e)]>0x0){const _0x41a30a=_0x211f01[0x0],_0x26cc09=_0xffacc1[_0x240e41(0x1a6)]('.');let _0x194770='',_0x4ba5df=_0xffacc1;if(_0x26cc09[_0x240e41(0x18e)]>0x1){_0x194770=_0x26cc09[_0x26cc09[_0x240e41(0x18e)]-0x1];const _0x1a19f7=_0xffacc1[_0x240e41(0x1a6)]('.'+_0x194770);_0x4ba5df=_0x1a19f7[0x0];}else{}_0x58debc[_0x41a30a]={'abs':absPathfindersForLogs,'fileName':_0x4ba5df,'ext':_0x194770};}}});else{}_0x48038b(_0x58debc);});},this[_0x3788bb(0x1b6)]=(_0x812a8b,_0x767293)=>{const _0x310fb2=_0x3788bb,_0x54aa1e={},_0x4609be=Object[_0x310fb2(0x17d)](_0x812a8b),_0x174b4f=new Date();return _0x4609be[_0x310fb2(0x1bb)](_0x2c45e1=>{const _0x1dfdd2=_0x310fb2,_0x447d3c=new Date(_0x2c45e1);_0x174b4f[_0x1dfdd2(0x17e)]()-_0x447d3c[_0x1dfdd2(0x17e)]()>_0x767293*0x3e8*0xe10*0x18&&(_0x54aa1e[_0x2c45e1]=_0x812a8b[_0x2c45e1]);}),_0x54aa1e;},this[_0x3788bb(0x16f)]=(_0x598b8c,_0x380895=![])=>{const _0x238fc4=_0x3788bb,_0x44c72d=_0x598b8c[_0x238fc4(0x198)]+'.'+_0x598b8c['ext'];let _0x110e5f=fs[_0x238fc4(0x178)](path[_0x238fc4(0x1b3)](absPathfindersForZips,_0x598b8c['fileName']+_0x238fc4(0x16d))),_0x403aca=archiver('zip',{'zlib':{'level':0x6}});_0x110e5f['on']('close',()=>{const _0x1c32b5=_0x238fc4;_0x110e5f=undefined,_0x403aca=undefined;if(_0x380895)try{fs[_0x1c32b5(0x186)](path[_0x1c32b5(0x1b3)](_0x598b8c[_0x1c32b5(0x16c)],_0x44c72d));}catch(_0x19d671){console['error'](_0x1c32b5(0x1ab),_0x1c32b5(0x189),_0x44c72d,_0x19d671);}}),_0x403aca['on'](_0x238fc4(0x18c),_0x28bb56=>{console['error']('zip',_0x44c72d,_0x28bb56);}),_0x403aca[_0x238fc4(0x195)](_0x110e5f),_0x403aca[_0x238fc4(0x1a0)](fs[_0x238fc4(0x19a)](path[_0x238fc4(0x1b3)](_0x598b8c[_0x238fc4(0x16c)],_0x598b8c[_0x238fc4(0x198)]+'.'+_0x598b8c[_0x238fc4(0x19f)])),{'name':_0x598b8c[_0x238fc4(0x198)]+'.'+_0x598b8c[_0x238fc4(0x19f)]}),_0x403aca[_0x238fc4(0x197)]();},this[_0x3788bb(0x17f)]=(_0x7fcb05,_0x76514f)=>{const _0x1a6f89=_0x3788bb;_0x76514f+='\x0a',fs[_0x1a6f89(0x188)](_0x7fcb05,_0x76514f,()=>{});},this[_0x3788bb(0x1b2)]=_0x2049d5=>{const _0x5c2059=_0x3788bb;this[_0x5c2059(0x180)](absPathfindersForLogs,_0x162c7a=>{const _0xaf3bf8=_0x5c2059,_0xbdd00b=0x0,_0x41f1c3=this[_0xaf3bf8(0x1b6)](_0x162c7a,_0xbdd00b);for(let _0x298a60 in _0x41f1c3){this['zipFileByDateAndRemoveSrc']({'date':_0x298a60,'fileName':_0x41f1c3[_0x298a60]['fileName'],'abs':_0x41f1c3[_0x298a60]['abs'],'ext':_0x41f1c3[_0x298a60][_0xaf3bf8(0x19f)]},!![]);}}),this[_0x5c2059(0x180)](absPathfindersForZips,_0x2a8bd4=>{const _0x171608=_0x5c2059,_0x547059=_0x2049d5,_0x4beada=this[_0x171608(0x1b6)](_0x2a8bd4,_0x547059);for(let _0x14db5b in _0x4beada){try{fs[_0x171608(0x186)](path['join'](absPathfindersForZips,_0x4beada[_0x14db5b][_0x171608(0x198)]+'.'+_0x4beada[_0x14db5b][_0x171608(0x19f)])),console[_0x171608(0x17b)](_0x171608(0x181),_0x4beada[_0x14db5b][_0x171608(0x198)]+'.'+_0x4beada[_0x14db5b][_0x171608(0x19f)]);}catch(_0x25b43e){console[_0x171608(0x18c)](_0x171608(0x1b0),_0x4beada[_0x14db5b][_0x171608(0x198)]+'.'+_0x4beada[_0x14db5b][_0x171608(0x19f)],'with\x20error',_0x25b43e);}}});},this['scheduler']=(_0x1e34b0,_0x1dc475,_0x16f73e)=>{const _0x345c45=_0x3788bb;this[_0x345c45(0x1b2)](_0x1e34b0),schedule[_0x345c45(0x18a)](_0x345c45(0x16b)+_0x1dc475+'\x20'+_0x16f73e+_0x345c45(0x19c),()=>{const _0x449de4=_0x345c45;console[_0x449de4(0x17b)](new Date(),_0x449de4(0x1b9)),this['doItNow'](_0x1e34b0);});},this[_0x3788bb(0x17b)]=_0x7dcc2=>{const _0x51d1c6=_0x3788bb;if(_0x7dcc2['type']===all_typings_1[_0x51d1c6(0x168)][_0x51d1c6(0x1b7)])this[_0x51d1c6(0x1b7)](_0x7dcc2['prefix'],_0x7dcc2[_0x51d1c6(0x18b)]);else _0x7dcc2[_0x51d1c6(0x17c)]===all_typings_1['LEVEL'][_0x51d1c6(0x18c)]?this[_0x51d1c6(0x18c)](_0x7dcc2[_0x51d1c6(0x18f)],_0x7dcc2['message']):this['error'](_0x7dcc2[_0x51d1c6(0x18f)],_0x7dcc2[_0x51d1c6(0x18b)]);},this[_0x3788bb(0x18c)]=(_0x351839,_0x1051ed)=>{const _0x3c2c57=_0x3788bb;this[_0x3c2c57(0x1ba)](_0x351839,_0x1051ed,all_typings_1['LEVEL'][_0x3c2c57(0x18c)]);},this[_0x3788bb(0x1b7)]=(_0x2c108a,_0x21c868)=>{const _0x55bb03=_0x3788bb;this[_0x55bb03(0x1ba)](_0x2c108a,_0x21c868,all_typings_1['LEVEL'][_0x55bb03(0x1b7)]);},this[_0x3788bb(0x1a8)]=_0x2383ae=>{const _0x43cd76=_0x3788bb;let _0x25a7d6='';if(_0x2383ae){const _0x3809d1=_0x2383ae['split']('\x0a');if(_0x3809d1['length']>0x0){const _0x59eb00=_0x3809d1[0x1];if(_0x59eb00){const _0x2b4099=_0x59eb00['trim']()[_0x43cd76(0x1a6)]('at\x20Function.');if(_0x2b4099['length']>0x0){const _0x4ea595=_0x2b4099[0x0];if(_0x4ea595){const _0x4caee7=_0x4ea595[_0x43cd76(0x1a6)]('\x20(');if(_0x4caee7){const _0x3e7d61=_0x4caee7[0x0],_0x1592eb=_0x3e7d61['split']('\x20');if(_0x1592eb[_0x43cd76(0x18e)]>0x1){const _0x35d9dd=_0x1592eb[0x1];_0x25a7d6=_0x35d9dd;}else _0x25a7d6=_0x3e7d61;}}}}}}return _0x25a7d6;};}}exports[a3_0x23ae7d(0x1b8)]=Logger,Logger[a3_0x23ae7d(0x1a3)]=new Logger(),Logger[a3_0x23ae7d(0x1ae)]=Logger[a3_0x23ae7d(0x1a3)]['scheduler'],Logger['log']=Logger[a3_0x23ae7d(0x1a3)][a3_0x23ae7d(0x17b)],Logger[a3_0x23ae7d(0x18c)]=Logger[a3_0x23ae7d(0x1a3)]['error'],Logger[a3_0x23ae7d(0x1b7)]=Logger[a3_0x23ae7d(0x1a3)][a3_0x23ae7d(0x1b7)],Logger['getFuncName']=Logger[a3_0x23ae7d(0x1a3)]['getFuncName'];